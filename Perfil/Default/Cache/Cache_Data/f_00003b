{"version":3,"file":"app_assets_modules_github_sticky-scroll-into-view_ts-xxxxxxxxxxxx.js","mappings":"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","sources":["app/assets/modules/github/perform-transition.ts","app/assets/modules/github/behaviors/details.ts","app/assets/modules/github/behaviors/hash-change.ts","app/assets/modules/github/behaviors/header.ts","app/assets/modules/github/behaviors/sticky-css.ts","app/assets/modules/github/behaviors/sticky.ts","app/assets/modules/github/fragment-target.ts","app/assets/modules/github/sticky-scroll-into-view.ts"],"sourcesContent":["// performTransition\n//\n// CSS3 transitions have some major pitfalls. First trying to transition\n// elements from `display:none` to `display:block.` And also dealing with\n// computed properties like `height:auto`.\n//\n// This helper attempts to deal with those issues while still defining\n// the transitions in pure css.\n//\n// Behaviors that intend to support these special case transitions\n// should call `performTransition` when they add or remove their state\n// classes.\n//\n// Any element that is performing a transition needs to be annotated\n// with the `js-transitionable` class name.\n//\n// @example\n//\n// <div class=\"js-transitionable collapse\">\n//   Slide down\n// </div>\n//\n// .collapse {\n//   display: none;\n//   position: relative;\n//   height: 0;\n//   overflow: hidden;\n//   @include transition(0.35s, height, ease);\n// }\n// .collapse.open {\n//   display: block;\n//   height: auto;\n// }\n//\n// performTransition document.querySelector('.collapse', () => {\n//   this.classList.add('open')\n// })\n\nconst supportsTransitions = 'ontransitionend' in window\n\n// DEPRECATED: PerformTransition is deprecated.\nexport default function performTransition(container: HTMLElement, cb: () => void) {\n  if (!supportsTransitions) {\n    cb()\n    return\n  }\n\n  const els = Array.from(container.querySelectorAll('.js-transitionable'))\n  if (container.classList.contains('js-transitionable')) els.push(container)\n\n  for (const el of els) {\n    const transitionHeight = isTransitioningHeight(el)\n    if (!(el instanceof HTMLElement)) continue\n\n    el.addEventListener(\n      'transitionend',\n      () => {\n        el.style.display = ''\n        el.style.visibility = ''\n\n        if (transitionHeight) {\n          withoutTransition(el, function () {\n            el.style.height = ''\n          })\n        }\n      },\n      {once: true},\n    )\n\n    el.style.boxSizing = 'content-box'\n    el.style.display = 'block'\n    el.style.visibility = 'visible'\n\n    if (transitionHeight) {\n      withoutTransition(el, function () {\n        el.style.height = getComputedStyle(el).height\n      })\n    }\n\n    // force reflow\n    el.offsetHeight\n  }\n\n  cb()\n\n  for (const el of els) {\n    if (!(el instanceof HTMLElement)) continue\n    if (isTransitioningHeight(el)) {\n      const currentHeight = getComputedStyle(el).height\n      el.style.boxSizing = ''\n      if (currentHeight === '0px') {\n        el.style.height = `${el.scrollHeight}px`\n      } else {\n        el.style.height = '0px'\n      }\n    }\n  }\n}\n\n// Detect if element is transitioning its height property.\nfunction isTransitioningHeight(el: Element) {\n  return getComputedStyle(el).transitionProperty === 'height'\n}\n\n// Apply style change callback w/o triggering a transition.\nfunction withoutTransition(el: HTMLElement, cb: () => void) {\n  el.style.transition = 'none'\n  cb()\n  el.offsetHeight\n  el.style.transition = ''\n}\n","/* eslint eslint-comments/no-use: off */\n/* eslint-disable github/no-then */\n\n/**\n * Details toggle.\n *\n * Use the details toggle to toggle content on the page. Similar to the\n * [HTML5 details element](https://www.w3.org/wiki/HTML/Elements/details).\n *\n * There are minimum two classes you will need to trigger the JS behavior.\n *\n * Apply the `.js-details-target` class to the element that will trigger\n * the toggle through a mouse click. For accessibility reasons, we recommend using a\n * `<button>` tag for this, but it can be applied to any element.\n *\n * A single `.js-details-container` class will be applied to a parent element that is wrapping\n * all the details components. The behavior will toggle an `Details--on` class on this element\n * which the CSS will use to show and hide the appropriate objects.\n *\n * There are default styling classes that will show and hide content for you. `.Details`\n * is a component that is built to show hidden content on open, and hide shown content\n * on close.\n *\n * The default state of the component is closed. Wrap the content and target with the `Details`\n * class. And apply `Details-content--hidden` to any element that you want *hidden* when closed\n * and *shown* when open.\n *\n * @example\n * ```html\n * <div class=\"Details js-details-container\">\n *   <button type=\"button\" class=\"js-details-target\" aria-expanded=\"false\">See more info</button>\n *   <div class=\"Details-content--hidden\">Hidden details</div>\n * </div>\n * ```\n *\n * Shown content\n *\n * If you have some content that you would like to be *shown* by default and\n * *hidden* when the details is `Details--on`. Then you can use the `Details-content--shown`\n * class.\n *\n * @example\n * ```html\n * <div class=\"Details js-details-container\">\n *   <button type=\"button\" class=\"js-details-target\" aria-expanded=\"false\" aria-label=\"Expand and collapse\">\n *     <%= octicon(\"chevron-down\", :class => \"Details-content--shown\") %>\n *     <%= octicon(\"chevron-up\", :class => \"Details-content--hidden\") %>\n *   </button>\n *   <div class=\"Details-content--shown\">Shown details</div>\n * </div>\n * ```\n */\n\nimport hashChange from './hash-change'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport performTransition from '../perform-transition'\nimport {preservePosition} from 'scroll-anchoring'\n\nfunction findAndFocusByQuerySelector(container: HTMLElement, elements: string[]) {\n  elements.find(selector => {\n    const elementsFromSelector = Array.from(container.querySelectorAll<HTMLElement>(selector))\n    const lastVisibleElement = elementsFromSelector.findLast(el => {\n      return window.getComputedStyle(el).display !== 'none'\n    })\n\n    if (lastVisibleElement && document.activeElement !== lastVisibleElement) {\n      lastVisibleElement.focus()\n      return true // found\n    }\n  })\n}\n\nfunction restoreAutofocus(container: HTMLElement) {\n  findAndFocusByQuerySelector(container, ['.js-focus-on-dismiss', 'input[autofocus], textarea[autofocus]'])\n}\n\nfunction hideTooltip(target: HTMLElement) {\n  if (!target.classList.contains('tooltipped')) return\n  target.classList.remove('tooltipped')\n  target.addEventListener(\n    'mouseleave',\n    () => {\n      target.classList.add('tooltipped')\n      // eslint-disable-next-line github/no-blur\n      target.blur()\n    },\n    {once: true},\n  )\n}\n\nfunction groupMembers(group: string): Element[] {\n  return [...document.querySelectorAll('.js-details-container')].filter(\n    el => el.getAttribute('data-details-container-group') === group,\n  )\n}\n\nfunction containerTargets(container: Element): Element[] {\n  return [...container.querySelectorAll('.js-details-target')].filter(\n    target => target.closest('.js-details-container') === container,\n  )\n}\n\nfunction toggleGroup(container: Element, open: boolean): string | null {\n  const group = container.getAttribute('data-details-container-group')\n  if (!group) return null\n  preservePosition(container, () => {\n    for (const otherContainer of groupMembers(group)) {\n      if (otherContainer !== container) {\n        updateOpenState(otherContainer, open)\n      }\n    }\n  })\n  return group\n}\n\nfunction updateOpenState(container: Element, open: boolean) {\n  container.classList.toggle('open', open)\n  container.classList.toggle('Details--on', open)\n  if (open) {\n    const initialFocus = container.querySelector<HTMLElement>('.js-details-initial-focus')\n    if (initialFocus) {\n      setTimeout(() => {\n        initialFocus.focus()\n      }, 0)\n    }\n  }\n  for (const target of containerTargets(container)) {\n    target.setAttribute('aria-expanded', open.toString())\n  }\n}\n\nexport function toggleDetailsTarget(target: HTMLElement, opts?: {withGroup?: boolean; force?: boolean}) {\n  const containerSelector = target.getAttribute('data-details-container') || '.js-details-container'\n  const container = target.closest<HTMLElement>(containerSelector)!\n  const open = opts?.force ?? !container.classList.contains('open')\n  const withGroup = opts?.withGroup ?? false\n  performTransition(container, () => {\n    updateOpenState(container, open)\n    const group = withGroup ? toggleGroup(container, open) : null\n    Promise.resolve().then(() => {\n      restoreAutofocus(container)\n      hideTooltip(target)\n      container.dispatchEvent(\n        new CustomEvent('details:toggled', {\n          bubbles: true,\n          cancelable: false,\n          detail: {open},\n        }),\n      )\n      if (group) {\n        container.dispatchEvent(\n          new CustomEvent('details:toggled-group', {\n            bubbles: true,\n            cancelable: false,\n            detail: {open, group},\n          }),\n        )\n      }\n    })\n  })\n}\n\nexport function isDetailsTargetExpanded(target: HTMLElement): boolean {\n  const containerSelector = target.getAttribute('data-details-container') || '.js-details-container'\n  const container = target.closest<HTMLElement>(containerSelector)!\n  const classList = container.classList\n  return classList.contains('Details--on') || classList.contains('open')\n}\n\nfunction handleDetailsTargetClick(event: Event) {\n  const withGroup = (event as MouseEvent).altKey\n  const target = event.currentTarget as HTMLElement\n  toggleDetailsTarget(target, {withGroup})\n  event.preventDefault()\n}\non('click', '.js-details-target', handleDetailsTargetClick)\n\n// Expand collapsed outdated diff if anchor points to it\n//   /github/github/pull/123#discussion-diff-456\n//   /github/github/pull/123#discussion-r345\nhashChange(function ({target}) {\n  if (target) ensureExpanded(target)\n})\n\nexport function ensureExpanded(target: Element) {\n  let toCollapse = false\n  let node = target.parentElement\n  while (node) {\n    if (node.classList.contains('Details-content--shown')) {\n      toCollapse = true\n    }\n    if (node.classList.contains('js-details-container')) {\n      node.classList.toggle('open', !toCollapse)\n      node.classList.toggle('Details--on', !toCollapse)\n      toCollapse = false\n    }\n    node = node.parentElement\n  }\n}\n","// Variant on the native `hashchange` event with extra features:\n//\n// * Guarantees that handlers run on DOMContentLoaded, or immediately if page has\n//   already loaded;\n// * If the anchor references an element by id, the `data.target` property of the\n//   argument passed to handlers will be a reference to that DOM element.\n//\n// Each handler will be invoked with a `data` object containing properties:\n//\n// * `oldURL` - String URL prior to the hash change, or `null` on initial page load;\n// * `newURL` - String URL after hash change, or current page URL;\n// * `target` - DOM element whose id matches the anchor value, or `null`.\n//\n// Examples\n//\n// ```js\n// // Redirect old anchor issue urls\n// hashChange((data) => {\n//   const m = data.newURL.match(/\\/issues#issue\\/(\\d+)$/)\n//   if (m) window.location = data.newURL.replace(/\\/?#issue\\/.+/, \"/#{m[1]}\")\n// })\n//\n// // Ensure that the referenced comment's parent container is visible\n// hashChange((data) => {\n//   const container = data.target && data.target.closest('.js-comments-container')\n//   if (container) container.classList.remove('d-none')\n// })\n// ```\n\nimport {ready} from '@github-ui/document-ready'\nimport {SOFT_NAV_STATE} from '@github-ui/soft-nav'\n\nconst handlers: HashChangeListener[] = []\nlet ran = 0\n\ntype HashChangeListener = (opts: {oldURL: string | null; newURL: string; target?: Element | null}) => unknown\n\nexport default function hashChange(handler: HashChangeListener) {\n  ;(async function () {\n    handlers.push(handler)\n    await ready\n    runRemainingHandlers()\n  })()\n}\n\nhashChange.clear = () => {\n  handlers.length = ran = 0\n}\n\nfunction runRemainingHandlers() {\n  const index = ran\n  ran = handlers.length\n  runHandlers(handlers.slice(index), null, window.location.href)\n}\n\nfunction runHandlers(handlersToRun: HashChangeListener[], oldURL: string | null, newURL: string) {\n  const id = window.location.hash.slice(1)\n  const target = id ? document.getElementById(id) : null\n  const data = {oldURL, newURL, target}\n\n  for (const fn of handlersToRun) {\n    fn.call(null, data)\n  }\n}\n\n// Track ieOldURL manually to work around an open IE bug where the hashchange\n// event does not have oldURL or newURL attributes. See\n// https://connect.microsoft.com/IE/feedback/details/828283/implement-hashchangeevent-oldurl-and-newurl\nlet ieOldURL = window.location.href\nwindow.addEventListener('popstate', function () {\n  ieOldURL = window.location.href\n})\n\nwindow.addEventListener('hashchange', function (event) {\n  const newURL = window.location.href\n  try {\n    runHandlers(handlers, event.oldURL || ieOldURL, newURL)\n  } finally {\n    ieOldURL = newURL\n  }\n})\n\nlet softNavOldURL: string | null = null\n\ndocument.addEventListener(SOFT_NAV_STATE.START, function () {\n  softNavOldURL = window.location.href\n})\n\ndocument.addEventListener(SOFT_NAV_STATE.SUCCESS, function () {\n  runHandlers(handlers, softNavOldURL, window.location.href)\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {toggleDetailsTarget} from './details'\n\non('click', '.js-skip-to-content', function (event) {\n  const startOfContent = document.getElementById('start-of-content')\n  if (startOfContent) {\n    const nextElement = startOfContent.nextElementSibling\n    if (nextElement instanceof HTMLElement) {\n      nextElement.setAttribute('tabindex', '-1')\n      nextElement.setAttribute('data-skipped-to-content', '1')\n      nextElement.focus()\n    }\n  }\n  event.preventDefault()\n})\n\nexport function hasSkippedToContent() {\n  let skippedToContent = false\n  const startOfContent = document.getElementById('start-of-content')\n\n  if (startOfContent) {\n    const nextElement = startOfContent.nextElementSibling\n\n    if (nextElement instanceof HTMLElement) {\n      skippedToContent = nextElement.getAttribute('data-skipped-to-content') === '1'\n\n      if (skippedToContent) {\n        nextElement.removeAttribute('data-skipped-to-content')\n      }\n\n      return skippedToContent\n    }\n  }\n}\n\nconst touchDevice = 'ontouchstart' in document\nconst headerMenuItems = document.querySelectorAll<HTMLElement>('.js-header-menu-item')\nfor (const menuItem of headerMenuItems) {\n  menuItem.addEventListener('details:toggled', event => {\n    const target = event.target as HTMLInputElement\n\n    if (event instanceof CustomEvent && event.detail.open) {\n      for (const item of headerMenuItems) {\n        if (item !== target) {\n          toggleDetailsTarget(item, {force: false})\n        }\n      }\n    }\n  })\n\n  if (!touchDevice) {\n    menuItem.addEventListener('mouseleave', event => {\n      const target = event.target as HTMLInputElement\n\n      if (target.classList.contains('open')) {\n        toggleDetailsTarget(target, {force: false})\n      }\n    })\n  }\n}\n\ndocument.addEventListener('context-region-label:update', event => {\n  if (!(event instanceof CustomEvent && event.detail.label)) return\n\n  const contextRegionLabels = document.querySelectorAll('.js-context-region-label')\n  for (const contextRegionLabel of contextRegionLabels) {\n    contextRegionLabel.textContent = event.detail.label\n  }\n})\n\ndocument.addEventListener('turbo:before-cache', event => {\n  for (const dialog of (event.target as HTMLElement).querySelectorAll('modal-dialog[open]')) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ;(dialog as any).close()\n  }\n})\n","// The current pixel height of the base sticky headers - currently only set by notification shelf\nlet baseStickyHeaderHeight = 0\n\ntype StickyHeightObserver = (newHeight: number) => void\nconst stickyHeaderHeightObservers = new Set<StickyHeightObserver>()\n\nexport function observeStickyHeaderHeight(observer: StickyHeightObserver): void {\n  stickyHeaderHeightObservers.add(observer)\n}\n\nexport function unobserveStickyHeaderHeight(observer: StickyHeightObserver): void {\n  stickyHeaderHeightObservers.delete(observer)\n}\n\nexport function getBaseStickyHeaderHeight() {\n  return baseStickyHeaderHeight\n}\n\nexport function setBaseStickyHeaderHeight(height: number) {\n  baseStickyHeaderHeight = height\n\n  // set a css variable on the body for calculations within other sticky headers\n  if (height) {\n    document.body.style.setProperty('--base-sticky-header-height', `${height}px`)\n  } else {\n    document.body.style.removeProperty('--base-sticky-header-height')\n  }\n\n  for (const observer of stickyHeaderHeightObservers) {\n    observer(height)\n  }\n}\n\nexport const baseStickyHeaderHeightCss = 'var(--base-sticky-header-height, 0px)'\n","// `position: sticky` behavior that works with the notification shelf\n//\n// This module provides three pieces of functionality:\n//\n// - A JavaScript polyfill for `position: sticky` for legacy html which hasn't been upgraded to\n//   use `position: sticky` or cannot yet  because the layout doesn't work with `position: sticky`\n// - Augments `position: sticky` elements to add an `.is-stuck` class to elements when they are stuck\n//   requires `.js-position-sticky` to be added to the stuck element\n// - Ensures that any sticky headers that are on the same page as the notifications shelf sit below it\n//   vertically, rather than hidden underneath the shelf\n// - Provides a `.js-notification-shelf-top-offset` class, that will offset the `top` value of the\n//   element it is attached to, to ensure it sits below the notification header if it exists\n//   (see `.gh-header-shadow` for example usage)\n//\n// Usage:\n//\n// Legacy:\n//\n//    <div class=\"js-sticky js-sticky-offset-scroll top-0\">My sticky content</div>\n//\n// Modern:\n//\n//    <div class=\"js-sticky js-position-sticky top-0\" style=\"position: sticky\">My sticky content</div>\n//\n// Aligning another element to sit below the notification shelf\n//\n//    <div class=\"js-notification-shelf-top-offset\" style=\"position: fixed; top: 60px; left: 0; right: 0;\">...</div>\n\nimport {hasSkippedToContent} from './header'\nimport {loaded} from '@github-ui/document-ready'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\nimport {getBaseStickyHeaderHeight, setBaseStickyHeaderHeight} from './sticky-css'\n\n// Have we set up the handlers already?\nlet listening = false\nlet stickyHeaderRendered = false\ninterface StickySet {\n  element: HTMLElement\n  placeholder: HTMLElement | null\n  offsetParent: Element | null\n  top: number\n}\n\nconst stickySets: StickySet[] = []\n\nfunction manageObservers() {\n  if (stickySets.length) {\n    addObservers()\n  } else {\n    removeObservers()\n  }\n}\n\nfunction addObservers() {\n  if (!listening) {\n    /* eslint-disable-next-line github/prefer-observers */\n    window.addEventListener('resize', checkElementsForStickingHandler)\n    /* eslint-disable-next-line github/prefer-observers */\n    document.addEventListener('scroll', checkElementsForStickingHandler)\n    listening = true\n  }\n}\n\nfunction removeObservers() {\n  window.removeEventListener('resize', checkElementsForStickingHandler)\n  document.removeEventListener('scroll', checkElementsForStickingHandler)\n  listening = false\n}\n\nexport function forceStickyRelayout() {\n  checkElementsForSticking(true)\n}\n\nfunction checkElementsForStickingHandler() {\n  checkElementsForSticking()\n}\n\nfunction checkElementsForSticking(force = false) {\n  for (const set of stickySets) {\n    if (set.element.offsetHeight > 0) {\n      // element isn't hidden\n      const {element, placeholder, top} = set\n      const elementBox = element.getBoundingClientRect()\n\n      if (placeholder) {\n        const placeholderBox = placeholder.getBoundingClientRect()\n\n        if (element.classList.contains('is-stuck')) {\n          if (placeholderBox.top > withShelfOffset(element, top)) {\n            unpinSet(set)\n          } else {\n            updatePinnedSet(set)\n          }\n        } else {\n          if (elementBox.top <= withShelfOffset(element, top)) {\n            pinSet(set)\n          } else if (force) {\n            updatePinnedSet(set)\n          }\n        }\n      } else {\n        // Ideally we'd write this more naturally, as:\n        //\n        //      if (elementBox.top <= withShelfOffset(element, top)) {\n        //\n        // however, at some zoom levels (eg. 175% in Chrome v98, but not at 150%\n        // or 200%) `elementBox.top` may evaluate to an imprecise non-integer\n        // value, like 60.000003814697266 instead of the expected 60 pixels,\n        // causing the comparison to incorrectly fail.\n        //\n        // So, we reframe the comparison in terms of a \"fuzz factor\"\n        // corresponding to a small sub-pixel quantity.\n        const fuzzFactor = 0.1\n        if (elementBox.top - withShelfOffset(element, top) < fuzzFactor) {\n          pinSet(set)\n        } else {\n          unpinSet(set)\n        }\n      }\n    }\n  }\n}\n\n// Determine if the browser has support for `position: sticky`.\nfunction browserHasSticky(el: HTMLElement): boolean {\n  const {position} = window.getComputedStyle(el)\n  return /sticky/.test(position)\n}\n\n// Pin an element.\nfunction pinSet({element, placeholder, top}: StickySet) {\n  if (placeholder) {\n    const elementBox = element.getBoundingClientRect()\n\n    setTopImportant(element, withShelfOffset(element, top))\n    element.style.left = `${elementBox.left}px`\n    element.style.width = `${elementBox.width}px`\n    element.style.marginTop = '0'\n    element.style.position = 'fixed'\n    placeholder.style.display = 'block'\n  }\n\n  element.classList.add('is-stuck')\n}\n\n// Unpin an element.\nfunction unpinSet({element, placeholder}: StickySet) {\n  if (placeholder) {\n    element.style.position = 'static'\n    element.style.marginTop = placeholder.style.marginTop\n    placeholder.style.display = 'none'\n  }\n\n  element.classList.remove('is-stuck')\n}\n\nfunction updatePinnedSet({element, placeholder, offsetParent, top}: StickySet) {\n  if (placeholder && !hasSkippedToContent()) {\n    const elementBox = element.getBoundingClientRect()\n    const placeholderBox = placeholder.getBoundingClientRect()\n\n    setTopImportant(element, withShelfOffset(element, top))\n    element.style.left = `${placeholderBox.left}px`\n    if (placeholderBox.width !== 0) element.style.width = `${placeholderBox.width}px`\n\n    // if the bottom of the fixed box overflows it's container, scroll it\n    if (offsetParent) {\n      const parentBox = offsetParent.getBoundingClientRect()\n\n      if (parentBox.bottom < elementBox.height + parseInt(String(top))) {\n        element.style.top = `${parentBox.bottom - elementBox.height}px`\n      }\n    }\n  }\n}\n\nfunction findOrCreatePlaceholder(el: HTMLElement): HTMLElement | null {\n  if (browserHasSticky(el)) {\n    return null\n  }\n\n  const previousElement = el.previousElementSibling as HTMLElement\n  if (previousElement && previousElement.classList.contains('is-placeholder')) {\n    return previousElement\n  }\n\n  const div = document.createElement('div')\n  div.style.visibility = 'hidden'\n  div.style.display = 'none'\n  div.style.height = window.getComputedStyle(el).height\n  div.className = el.className\n  div.classList.remove('js-sticky')\n  div.classList.add('is-placeholder')\n\n  return el.parentNode!.insertBefore(div, el)\n}\n\nfunction createSet(el: HTMLElement) {\n  const placeholder = findOrCreatePlaceholder(el)\n  const oldPosition = window.getComputedStyle(el).position\n\n  el.style.position = 'static' // do this to get offsetParent\n  const offsetParent = el.offsetParent\n\n  // set to fixed so we can read the `top` value from CSS\n  el.style.position = 'fixed'\n\n  const top = getOriginalTop(el)\n  const hash = {\n    element: el,\n    placeholder,\n    offsetParent,\n    top: top === 'auto' ? 0 : parseInt(top || '0'),\n  }\n\n  // set back to static\n  el.style.position = oldPosition\n\n  stickySets.push(hash)\n}\n\nfunction removeSet(el: HTMLElement) {\n  const idx = stickySets.map(set => set.element).indexOf(el)\n  stickySets.splice(idx, 1)\n}\n\nasync function initializeSet(el: HTMLElement) {\n  await loaded\n\n  requestAnimationFrame(() => {\n    if (!el.isConnected) return\n    createSet(el)\n    checkElementsForSticking()\n    manageObservers()\n  })\n  if (!stickyHeaderRendered) {\n    window.dispatchEvent(new CustomEvent('sticky-header-rendered'))\n    stickyHeaderRendered = true\n  }\n}\n\nobserve('.js-sticky', {\n  constructor: HTMLElement,\n  add(el) {\n    initializeSet(el)\n  },\n  remove(el) {\n    removeSet(el)\n    manageObservers()\n  },\n})\n\nobserve('.js-notification-top-shelf', {\n  constructor: HTMLElement,\n  add(shelfEl) {\n    initializeNotificationShelf(shelfEl)\n  },\n  remove() {\n    if (getBaseStickyHeaderHeight() > 0) {\n      setBaseStickyHeaderHeight(0)\n      updateTopOffsets()\n      forceStickyRelayout()\n    }\n  },\n})\n\n// Update the top value to include the shelf offset if elements are added later.\nobserve('.js-notification-shelf-offset-top, .js-position-sticky', {\n  constructor: HTMLElement,\n  add: updateTopOffset,\n})\n\n// Sets the global notificationShelfHeight variable to match a newly rendered shelf\n// if required, so that other sticky headers can adjust their position to match.\nasync function initializeNotificationShelf(shelfEl: HTMLElement) {\n  // don't measure the height of a hidden shelf\n  if (shelfEl.offsetParent === null) return\n  await loaded\n\n  const height = Math.floor(shelfEl.getBoundingClientRect().height)\n  if (height > 0) {\n    setBaseStickyHeaderHeight(height)\n    updateTopOffsets()\n    forceStickyRelayout()\n  }\n}\n\n// Updates the top offset of all js-position-sticky or js-notification-shelf-offset-top\n// elements to include the height of the notification shelf.\n//\n// If the shelf has since been removed, will return `top` to it's original value.\nfunction updateTopOffsets() {\n  for (const el of document.querySelectorAll<HTMLElement>('.js-position-sticky, .js-notification-shelf-offset-top')) {\n    updateTopOffset(el)\n  }\n}\n\n// Updates the top offset to include the notification bar offset.\nfunction updateTopOffset(el: HTMLElement) {\n  if (el.classList.contains('js-notification-top-shelf')) return\n\n  const top = parseInt(getOriginalTop(el)) || 0\n  setTopImportant(el, top + getBaseStickyHeaderHeight())\n}\n\n// Returns the original-top value if it's been set as a data-attribute, or if not\n// retrieves it from getComputedStyle and caches it.\n//\n// This is required because an element with an already modified top value may be\n// loaded in from the PJAX cache, and without this attribute, we cannot tell if\n// we already added the shelf offset to it's top value or not.\nfunction getOriginalTop(el: HTMLElement): string {\n  const originalTop = el.getAttribute('data-original-top')\n  if (originalTop != null) return originalTop\n\n  const top = window.getComputedStyle(el).top\n  el.setAttribute('data-original-top', top)\n  return top\n}\n\n// Add a pixel offset to a number (e.g an existing top value) to offset it\n// by the current height of the notification shelf.\nfunction withShelfOffset(el: HTMLElement, top: number): number {\n  if (el.classList.contains('js-notification-top-shelf')) return top\n\n  return top + getBaseStickyHeaderHeight()\n}\n\n// Update the top style property of an element with !important.\nfunction setTopImportant(el: HTMLElement, top: number) {\n  el.style.setProperty('top', `${top}px`, 'important')\n}\n","// Find element within document matching location hash.\nexport function findFragmentTarget(document: Document, hash: string = location.hash): Element | null {\n  return findElementByFragmentName(document, decodeFragmentValue(hash))\n}\n\n// Find element within document matching id or name.\nexport function findElementByFragmentName(document: Document, name: string): Element | null {\n  if (name === '') return null\n  return document.getElementById(name) || document.getElementsByName(name)[0]!\n}\n\n// Decode location hash.\nexport function decodeFragmentValue(hash: string): string {\n  try {\n    return decodeURIComponent(hash.slice(1))\n  } catch {\n    return ''\n  }\n}\n","import {findFragmentTarget} from './fragment-target'\nimport {forceStickyRelayout} from './behaviors/sticky'\n\n// Scroll element into view accounting for sticky/fixed overlays.\nexport function scrollIntoView(el: Element | HTMLElement) {\n  if (el.hasAttribute('data-ignore-sticky-scroll')) {\n    // Some elements already take sticky headers into account, and can scroll themselves properly\n    return\n  }\n\n  const document = el.ownerDocument\n  setTimeout(() => {\n    if (document && document.defaultView) {\n      el.scrollIntoView()\n      document.defaultView.scrollBy(0, -computeFixedYOffset(document))\n    }\n  }, 0)\n}\n\n// Scroll to fragment target element accounting for sticky/fixed\n// overlays.\nexport function scrollToFragmentTarget(document: Document) {\n  const target = findFragmentTarget(document)\n  if (target) {\n    scrollIntoView(target)\n  }\n}\n\n// Compute height of visible sticky/fixed overlay on page.\nexport function computeFixedYOffset(document: Document): number {\n  // Force synchronous layout of any sticky elements before measuring offset\n  forceStickyRelayout()\n\n  const jsStickyEls = document.querySelectorAll('.js-sticky-offset-scroll')\n  const positionStickyEls = document.querySelectorAll('.js-position-sticky')\n\n  // Find maximum combined height of sticky-offset / position-sticky elements\n  // If none are present, fallback to 0 as Math.max() returns -Infinity\n\n  const scrollOffset =\n    Math.max(\n      0,\n      ...Array.from(jsStickyEls).map(el => {\n        const {top, height} = el.getBoundingClientRect()\n        return top === 0 ? height : 0\n      }),\n    ) +\n    Math.max(\n      0,\n      ...Array.from(positionStickyEls).map(el => {\n        const {top, height} = el.getBoundingClientRect()\n        const topStyleValue = parseInt(getComputedStyle(el).top)\n\n        if (!el.parentElement) {\n          return 0\n        }\n\n        const parentTop = el.parentElement.getBoundingClientRect().top\n        // include js-position-sticky element height in scroll offset if element is sticky\n        return top === topStyleValue && parentTop < 0 ? height : 0\n      }),\n    )\n\n  // Use .js-position-sticky-stacked for sticky elements that are stacked (e.g. multiple sticky elements on a page)\n  // rather than nested\n  const jsStickyElsStacked = document.querySelectorAll('.js-position-sticky-stacked')\n  const stackedHeight = Array.from(jsStickyElsStacked).reduce((a, el) => {\n    const {height, top} = el.getBoundingClientRect()\n    const isOffScreen = top < 0\n    const isStuck = el.classList.contains('is-stuck')\n    return a + (!isOffScreen && isStuck ? height : 0)\n  }, 0)\n\n  return scrollOffset + stackedHeight\n}\n"],"names":["supportsTransitions","window","isTransitioningHeight","el","getComputedStyle","transitionProperty","withoutTransition","cb","style","transition","offsetHeight","updateOpenState","container","open","classList","toggle","initialFocus","querySelector","setTimeout","focus","target","querySelectorAll","filter","closest","setAttribute","toString","toggleDetailsTarget","opts","containerSelector","getAttribute","force","contains","withGroup","performTransition","els","Array","from","push","transitionHeight","HTMLElement","addEventListener","display","visibility","height","once","boxSizing","currentHeight","scrollHeight","group","toggleGroup","preservePosition","otherContainer","document","Promise","resolve","then","findAndFocusByQuerySelector","elements","find","selector","elementsFromSelector","lastVisibleElement","findLast","activeElement","remove","add","blur","dispatchEvent","CustomEvent","bubbles","cancelable","detail","isDetailsTargetExpanded","ensureExpanded","toCollapse","node","parentElement","on","event","altKey","currentTarget","preventDefault","hashChange","handlers","ran","handler","ready","runRemainingHandlers","index","length","runHandlers","slice","location","href","handlersToRun","oldURL","newURL","id","hash","getElementById","data","fn","call","clear","ieOldURL","softNavOldURL","SOFT_NAV_STATE","START","SUCCESS","hasSkippedToContent","skippedToContent","startOfContent","nextElement","nextElementSibling","removeAttribute","touchDevice","headerMenuItems","menuItem","item","label","contextRegionLabels","contextRegionLabel","textContent","dialog","close","baseStickyHeaderHeight","stickyHeaderHeightObservers","Set","setBaseStickyHeaderHeight","observer","body","setProperty","removeProperty","listening","stickyHeaderRendered","stickySets","manageObservers","checkElementsForStickingHandler","removeEventListener","forceStickyRelayout","checkElementsForSticking","set","element","placeholder","top","elementBox","getBoundingClientRect","placeholderBox","withShelfOffset","unpinSet","updatePinnedSet","pinSet","setTopImportant","left","width","marginTop","position","offsetParent","parentBox","bottom","parseInt","String","initializeSet","loaded","requestAnimationFrame","isConnected","createSet","findOrCreatePlaceholder","browserHasSticky","test","previousElement","previousElementSibling","div","createElement","className","parentNode","insertBefore","oldPosition","getOriginalTop","initializeNotificationShelf","shelfEl","Math","floor","updateTopOffsets","updateTopOffset","originalTop","observe","constructor","removeSet","idx","map","indexOf","splice","findFragmentTarget","findElementByFragmentName","decodeFragmentValue","name","getElementsByName","decodeURIComponent","scrollIntoView","hasAttribute","ownerDocument","defaultView","scrollBy","computeFixedYOffset","scrollToFragmentTarget","jsStickyEls","positionStickyEls","scrollOffset","max","topStyleValue","parentTop","jsStickyElsStacked","stackedHeight","reduce","a","isStuck"],"sourceRoot":""}