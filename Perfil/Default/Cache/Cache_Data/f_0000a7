{"version":3,"file":"dashboard-xxxxxxxxxxxx.js","mappings":"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","sources":["app/assets/modules/github/dashboard.ts","app/assets/modules/github/dashboard/repo-list.ts","app/assets/modules/github/feed-post-comment.ts","app/assets/modules/github/dashboard/favorites/favorite-pins-element.ts","app/assets/modules/github/dashboard/feed/feed-filter-element.ts","app/assets/modules/github/dashboard/feed/feed-filter-next-element.ts","app/assets/modules/github/dashboard/feed/feed-container-element.ts","app/assets/modules/github/dashboard/topic-feeds/topic-feeds-container-element.ts","app/assets/modules/github/behaviors/ajax-error.ts","app/assets/modules/github/history.ts","app/assets/modules/github/hydro-tracking.ts","app/assets/modules/github/profile/pinned-item-reordering.ts","ui/packages/html-safe-nonce/html-safe-nonce.ts","ui/packages/trusted-types-policies/server-x-safe-html.ts","ui/packages/fetch-utils/fetch-utils.ts","ui/packages/toggle-toast/toggle-toast.ts"],"sourcesContent":["import {debounce} from '@github/mini-throttle'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {parseHTML} from '@github-ui/parse-html'\nimport safeStorage from '@github-ui/safe-storage'\nimport {showGlobalError} from './behaviors/ajax-error'\nimport {trackView} from './hydro-tracking'\nimport type {FeedContainerElement} from './dashboard/feed/feed-container-element'\nimport type {TopicFeedsContainerElement} from './dashboard/topic-feeds/topic-feeds-container-element'\n\nconst {getItem, setItem} = safeStorage('localStorage')\n// for persisting which tab was last selected in localstorage\nconst LastSavedFeedsTabKey = 'feeds-last-saved-tab'\n// possible values for the last saved tab, first entry is used as default\nconst PossibleFeedsTabKeys = ['feed-next', 'feed-original']\nconst DefaultFeedsTab = PossibleFeedsTabKeys[0]!\n\non('click', '.js-follow-unfollow-submit', async function (event) {\n  const button = event.currentTarget as HTMLButtonElement\n  const form = button.form as HTMLFormElement\n  event.preventDefault()\n  let response\n  try {\n    response = await fetch(form.action, {\n      method: form.method,\n      body: new FormData(form),\n      headers: {\n        Accept: 'application/json',\n        'X-Requested-With': 'XMLHttpRequest',\n      },\n    })\n  } catch {\n    showGlobalError()\n  }\n  if (button.classList.contains('js-hide-heading-menu-button')) {\n    button.hidden = true\n  }\n  if (response && !response.ok) {\n    showGlobalError()\n  }\n})\n\nobserve('.js-feeds-tabs', {\n  constructor: HTMLElement,\n  initialize(tabsEl) {\n    if (tabsEl) {\n      let lastStoredTab = getItem(LastSavedFeedsTabKey) || DefaultFeedsTab\n      if (PossibleFeedsTabKeys.indexOf(lastStoredTab) === -1) {\n        lastStoredTab = DefaultFeedsTab\n      }\n\n      const tabButton = tabsEl.querySelector<HTMLButtonElement>(`button#${lastStoredTab}`)\n\n      if (tabButton) {\n        tabButton.setAttribute('aria-selected', 'true')\n        const controlledPanelId = tabButton.getAttribute('aria-controls') || ''\n        const controlledPanel = document.getElementById(controlledPanelId)\n        controlledPanel && controlledPanel.removeAttribute('hidden')\n      }\n\n      const feedbackLink = document.querySelector('.js-feedback-link')\n      if (feedbackLink) {\n        feedbackLink.toggleAttribute('hidden', lastStoredTab !== 'feed-next')\n      }\n    }\n  },\n})\n\non('click', '.js-feeds-tabs button', function (e) {\n  const button = e.currentTarget as HTMLButtonElement\n\n  if (!button.id || !PossibleFeedsTabKeys.includes(button.id)) return\n\n  // show feedback link if feed-next\n  const feedbackLink = document.querySelector('.js-feedback-link')\n  if (feedbackLink) {\n    feedbackLink.toggleAttribute('hidden', button.id !== 'feed-next')\n  }\n\n  setItem(LastSavedFeedsTabKey, button.id)\n})\n\non('click', '.js-toggle-feed-views', function (e: Event) {\n  const item = e.currentTarget as HTMLElement\n  const name = item?.getAttribute('data-name')\n  if (!name) {\n    return\n  }\n\n  const topicFeedsContainer = document.getElementById('topic-feeds-container') as TopicFeedsContainerElement\n  const feedContainer = document.querySelector('feed-container') as FeedContainerElement\n\n  const url = new URL('', window.origin)\n\n  const listItems = item.parentElement?.children\n  if (!listItems) {\n    return\n  }\n\n  for (const li of listItems) {\n    li.classList.remove('ActionListItem--navActive')\n  }\n\n  if (name === 'topics') {\n    feedContainer?.toggleAttribute('hidden', true)\n    topicFeedsContainer?.toggleAttribute('hidden', false)\n\n    item?.classList.add('ActionListItem--navActive')\n    url.searchParams.append('view', 'topics')\n    history.replaceState(null, document.title, url.href)\n  } else {\n    feedContainer?.toggleAttribute('hidden', false)\n    topicFeedsContainer?.toggleAttribute('hidden', true)\n\n    item?.classList.add('ActionListItem--navActive')\n    if (name === 'for-you') {\n      feedContainer?.handleForYouFeedItemClick()\n    } else {\n      feedContainer?.handleTopicFeedItemClick(name, item.getAttribute('data-display-name') || '')\n    }\n  }\n})\n\n// feed post topic tag menu\non('click', '.js-tag-menu-topic', function (e) {\n  e.preventDefault()\n  const topic = e.currentTarget as HTMLElement\n  const name = topic?.getAttribute('data-name') || ''\n  const id = topic?.getAttribute('data-id') || ''\n  if (!name || !id) return\n\n  updateSelectedTopicInForm(name, id)\n  closeFeedPostTagMenu()\n})\n\non('click', '.js-feed-post-active-topic-remove', function () {\n  updateSelectedTopicInForm(null, null)\n})\n\nfunction updateSelectedTopicInForm(name: string | null, id: string | null) {\n  const activeTopicId = document.querySelector('.js-feed-post-form-selected-topic-id') as HTMLInputElement\n  const activeTopicName = document.querySelector('.js-feed-post-form-selected-topic-name') as HTMLInputElement\n  const topicTagMenuButton = document.querySelector('.js-feed-post-tags-menu-show-button') as HTMLButtonElement\n  const displayedTopicTagName = document.querySelector('.js-feed-post-active-tag-name') as HTMLElement\n  const displayedTopicTagWrapper = document.querySelector('.js-feed-post-active-tag-wrapper') as HTMLElement\n\n  if (!activeTopicId || !activeTopicName || !topicTagMenuButton || !displayedTopicTagName || !displayedTopicTagWrapper)\n    return\n\n  if (id && name) {\n    activeTopicId.value = id\n    activeTopicName.value = name\n    displayedTopicTagName.textContent = name\n    displayedTopicTagWrapper.removeAttribute('hidden')\n    topicTagMenuButton.setAttribute('hidden', 'true')\n  } else {\n    activeTopicId.removeAttribute('value')\n    activeTopicName.removeAttribute('value')\n    displayedTopicTagWrapper.setAttribute('hidden', 'true')\n    topicTagMenuButton.removeAttribute('hidden')\n  }\n}\n\nfunction closeFeedPostTagMenu() {\n  const show_button = document.querySelector('.js-feed-post-tags-menu-show-button') as HTMLButtonElement\n  if (!show_button) return\n  show_button.click()\n}\n\n// feed card visibility tracking\nconst cards: {[key: string]: ReturnType<typeof setTimeout>} = {}\nconst visibleThreshold = 0.8 // amnt of the card element in the viewport for it to be considered visible\nconst minimumReadTime = 1000 // 1 second\nconst observer = new IntersectionObserver(\n  function (entries) {\n    for (const entry of entries) {\n      const el = entry.target as HTMLElement\n      const hydroAttrs = el.getAttribute('data-hydro-view')\n      if (!hydroAttrs) return\n\n      const id = JSON.parse(hydroAttrs).payload.feed_card.card_retrieved_id\n      const isVisible = entry.intersectionRatio > visibleThreshold\n\n      if (!isVisible && cards[id]) {\n        clearTimeout(cards[id])\n        delete cards[id]\n      }\n\n      if (isVisible && !cards[id]) {\n        cards[id] = setTimeout(() => {\n          trackView(el)\n        }, minimumReadTime)\n      }\n    }\n  },\n  {\n    rootMargin: '0px',\n    threshold: [0, visibleThreshold],\n  },\n)\n\nobserve('.js-feed-item-view', el => observer.observe(el))\n\n// heading menu button animations\nlet unhiddenHeadingMenus: HTMLDetailsElement[] = []\n\nfunction getHeadingMenuButton(card: HTMLElement): HTMLDetailsElement | null {\n  const menu = card.getElementsByClassName('js-feed-item-heading-menu')\n  if (menu.length === 0) return null\n  return menu[0] as HTMLDetailsElement\n}\n\nconst debouncedShowMenuButton = debounce((card: HTMLElement) => {\n  const menu = getHeadingMenuButton(card)\n  if (!menu) return\n\n  menu.hidden = false\n  unhiddenHeadingMenus.push(menu)\n}, 100)\n\nconst debouncedHideMenuButton = debounce(() => {\n  hideAllHeadingMenus()\n}, 100)\n\nfunction hideAllHeadingMenus() {\n  const visibleMenus = []\n  for (const menu of unhiddenHeadingMenus) {\n    // if menu is open, please don't hide it\n    const card = menu.closest('.js-feed-item-component') as HTMLElement\n\n    if (menu.open || card.hasAttribute('focus-child')) {\n      visibleMenus.push(menu)\n    } else {\n      menu.hidden = true\n    }\n  }\n\n  unhiddenHeadingMenus = visibleMenus\n}\n\nobserve('.js-feed-item-component', e => {\n  e.addEventListener('mouseenter', (evt: Event) => {\n    const card = evt.target as HTMLElement\n    debouncedShowMenuButton(card)\n  })\n  e.addEventListener('mouseleave', debouncedHideMenuButton)\n})\n\nobserve('.js-feed-item-component *', e => {\n  e.addEventListener('focus', (evt: Event) => {\n    const child = evt.target as HTMLElement\n    // if child is focused don't hide the menu\n    const card = child.closest('.js-feed-item-component') as HTMLElement\n    card.setAttribute('focus-child', child.localName)\n    debouncedShowMenuButton(card)\n  })\n  e.addEventListener('blur', (evt: Event) => {\n    const child = evt.target as HTMLElement\n    const card = child.closest('.js-feed-item-component') as HTMLElement\n    card.removeAttribute('focus-child')\n    debouncedHideMenuButton()\n  })\n})\n\non('click', 'js-feed-item-next-component', function () {\n  sessionStorage.setItem('github:dashboard:scrollHeight', `${window.scrollY}`)\n})\n\non('click', '.js-feed-item-heading-menu', e => {\n  const template = e.currentTarget.querySelector<HTMLTemplateElement>('template')\n\n  if (!template) return\n  const templateContainerContent = template.content\n  const target = e.currentTarget.querySelector('.js-block-user-button')\n  target?.append(templateContainerContent)\n})\n\non('click', '.js-feed-filter-trigger', function () {\n  const menu = document.querySelector<HTMLDetailsElement>('.js-feed-filter-menu')\n  if (!menu) return\n  menu.open = true\n})\n\nasync function submitEventVisibility(target: EventTarget & Element): Promise<void | {response: Response}> {\n  const form = target.parentElement as HTMLFormElement\n  if (!form) return\n\n  const formData = new FormData(form)\n  const eventId = formData.get('event_id')\n  if (!eventId) return\n\n  let response\n  try {\n    response = await fetch(form.action, {\n      method: form.method,\n      body: formData,\n      headers: {\n        Accept: 'application/json',\n        'X-Requested-With': 'XMLHttpRequest',\n      },\n    })\n  } catch {\n    showGlobalError()\n  }\n  if (response && !response.ok) {\n    showGlobalError()\n  } else {\n    form.closest('.js-feed-item-heading-menu')?.removeAttribute('open')\n\n    const card = form.closest('.js-feed-item-component')!\n    const labelContainer = card.querySelector<HTMLElement>('.js-hidden-label-target')\n    if (!labelContainer) return\n\n    const json = await response?.json()\n    if (json.hidden) {\n      const template = document.querySelector<HTMLTemplateElement>('#hidden-event-label')\n      if (!template) return\n\n      const content = template.content.cloneNode(true)\n      labelContainer.appendChild(content)\n    } else {\n      labelContainer.textContent = ''\n    }\n\n    const newForm = parseHTML(document, json.form.trim())\n    form.replaceWith(newForm)\n  }\n}\n\nasync function submitFeedDisinterest(target: EventTarget & Element): Promise<void | {response: Response}> {\n  const form = target.parentElement as HTMLFormElement\n  if (!form) return\n\n  const formData = new FormData(form)\n  const eventId = formData.get('event_id')\n  const reasonDismissed = formData.get('reason_dismissed')\n  const cardType = formData.get('card_type')\n  if (!eventId) return\n\n  let response\n  try {\n    response = await fetch(form.action, {\n      method: form.method,\n      body: formData,\n      headers: {\n        Accept: 'application/json',\n        'X-Requested-With': 'XMLHttpRequest',\n      },\n    })\n  } catch {\n    showGlobalError()\n  }\n  if (response && !response.ok) {\n    showGlobalError()\n  } else {\n    if (reasonDismissed === 'dismissed' && cardType === 'create_discussion') {\n      removeAnnouncementCard(eventId)\n    } else {\n      // close the dialog and menu\n      toggleDismissedPlaceholder(eventId)\n    }\n    form.closest('.js-feed-item-disinterest-dialog')?.parentElement?.removeAttribute('open')\n    form.closest('.js-feed-item-heading-menu')?.removeAttribute('open')\n  }\n}\n\nfunction toggleDismissedPlaceholder(event_id: FormDataEntryValue) {\n  const card = document.querySelector(`#feed-item-${event_id}`)\n  const showMore = card?.parentElement?.querySelector(':scope > .js-details-target')\n\n  const placeholder = document.querySelector(`#dismissed-item-placeholder-${event_id}`)\n  if (!card || !placeholder) return\n\n  card.toggleAttribute('hidden')\n  placeholder.toggleAttribute('hidden')\n  showMore?.toggleAttribute('hidden')\n}\n\nfunction removeAnnouncementCard(event_id: FormDataEntryValue) {\n  const card = document.querySelector(`#feed-item-${event_id}`)?.parentElement\n  const prevCard = card?.previousElementSibling\n  const nextCard = card?.nextElementSibling\n\n  if (!card) return\n\n  card.addEventListener('transitionend', () => {\n    card.remove()\n\n    const totalCards = document.querySelectorAll('.js-pinned-announcement-container').length\n    // Hide Show all/less if there are less than 3 announcements\n    if (totalCards < 3) {\n      document.querySelector('.js-pinned-announcements-toggle')?.toggleAttribute('hidden', true)\n    }\n    // Show \"No new announcements yet\" if there are no more pinned announcements\n    if (!nextCard && !prevCard) {\n      document.querySelector('#dismissed-announcements-placeholder')?.removeAttribute('hidden')\n      return\n    }\n\n    if (card.classList.contains('Details-content--hidden')) {\n      return\n    } else if (nextCard) {\n      slideAnnouncementCard(nextCard)\n    }\n  })\n  card.classList.add('transition')\n}\n\nfunction slideAnnouncementCard(nextCard: Element) {\n  if (nextCard.classList.contains('Details-content--hidden')) {\n    nextCard.classList.remove('Details-content--hidden')\n  } else {\n    const nextNextCard = nextCard.nextElementSibling\n    if (nextNextCard && nextNextCard.classList.contains('Details-content--hidden')) {\n      nextNextCard.classList.remove('Details-content--hidden')\n    }\n  }\n}\n\non('click', '.js-feed-disinterest-submit', function (e) {\n  e.preventDefault()\n\n  submitFeedDisinterest(e.currentTarget)\n})\n\non('click', '.js-feed-hide-event-submit', function (e) {\n  e.preventDefault()\n\n  submitEventVisibility(e.currentTarget)\n})\n\non('click', '.js-disinterest-checkbox', function (e) {\n  const checkbox = e.currentTarget as HTMLInputElement\n  const form = checkbox.closest('form')\n  if (!form) return\n\n  const submit = form.querySelector<HTMLButtonElement>('.js-feed-disinterest-submit')\n  if (!submit) return\n\n  const checkboxes = form.querySelectorAll<HTMLInputElement>('.js-disinterest-checkbox')\n  // if all checkboxes are unchecked, disable the submit button\n  submit.disabled = Array.from(checkboxes).every(cb => !cb.checked)\n})\n\n// hide details popups if the user scrolls through the sidebar\nconst leftColumnDetailsObserver = new IntersectionObserver(\n  entries => {\n    for (const entry of entries) {\n      entry.target.toggleAttribute('open', false)\n    }\n  },\n  {\n    root: document.querySelector('.js-left-column-scroll-container'),\n  },\n)\n\nobserve('.js-left-column-scroll-container details', el => leftColumnDetailsObserver.observe(el))\n","// eslint-disable-next-line no-restricted-imports\nimport {fire} from 'delegated-events'\nimport {onFocus, onInput} from '../onfocus'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\nimport {replaceState} from '../history'\nimport {requestSubmit} from '@github-ui/form-utils'\n\nconst dataStore = new WeakMap()\n\n// The maximum number of times we should load another page of repositories automatically, just\n// when the user wants to filter the list of repositories\nconst autoLoadLimit = 100\n\n// Submits the \"Load more\" form to load another page of repositories into the DOM\nfunction loadMoreRepositories(container: HTMLElement) {\n  const timesLoaded = dataStore.get(container) || 0\n  if (timesLoaded > autoLoadLimit) {\n    return\n  }\n  const form = container.querySelector<HTMLFormElement>('.js-more-repos-form')\n  if (form) {\n    dataStore.set(container, timesLoaded + 1)\n    requestSubmit(form)\n  }\n}\n\n// Updates a given URL string to have queryName (ex: `q=`) in it with the given text query\nfunction replaceQueryInUrl(baseUrl: string, query: string, queryName: string) {\n  const url = new URL(baseUrl, window.location.origin)\n  const params = new URLSearchParams(url.search.slice(1))\n  if (query.length < 1) {\n    params.delete(queryName)\n  } else {\n    params.set(queryName, query)\n  }\n  url.search = params.toString()\n  return url.toString()\n}\n\n// Should we submit the \"Load more\" form as many times as it takes to load all the user or org's\n// repositories into the page, so we can do in-page filtering?\nfunction shouldLoadAllRepositories(container: HTMLElement) {\n  const filterInput = container.querySelector<HTMLInputElement>('.js-your-repositories-search')\n  if (!filterInput) {\n    // No need to load all the repos into the page if they can't be filtered\n    return false\n  }\n  // Does the text input have the user's focus?\n  if (document.activeElement === filterInput) {\n    return true\n  }\n  // Does the text input already have a query loaded into it?\n  return filterInput.defaultValue.trim().length > 0\n}\n\nfunction filterRepositories(container: HTMLElement) {\n  const filterInput = container.querySelector('.js-your-repositories-search')\n  if (filterInput) {\n    fire(filterInput, 'filterable:change')\n  }\n}\n\n// Push new queries into the URL so the user can return to this exact filter later\nfunction updateQueryInUrl(filterInput: HTMLInputElement) {\n  const baseUrl = filterInput.getAttribute('data-url')!\n  const queryName = filterInput.getAttribute('data-query-name')!\n  replaceState(null, '', replaceQueryInUrl(baseUrl, filterInput.value.trim(), queryName))\n}\n\n// Load remaining repos as soon as we focus into the filter field; as new pages load, repos will\n// be filtered\nonFocus('.js-your-repositories-search', function (filterInput) {\n  const container = filterInput.closest<HTMLElement>('.js-repos-container')!\n  loadMoreRepositories(container)\n})\n\n// Filter repositories as soon as the page loads if there are no more pages of results to load and\n// the filter input comes with a query already\nobserve('.js-your-repositories-search', {\n  constructor: HTMLInputElement,\n  initialize(filterInput) {\n    if (filterInput.defaultValue.trim().length > 0) {\n      filterRepositories(filterInput.closest<HTMLElement>('.js-repos-container')!)\n    }\n  },\n})\n\nonInput('.js-your-repositories-search', function (event) {\n  const filterInput = event.target as HTMLInputElement\n  updateQueryInUrl(filterInput)\n})\n\nobserve('.js-more-repos-form', function (form) {\n  // When the page loads and we see there's a \"Load more\" form, check to see if we should submit it\n  // to load more repositories into the page\n  const container = form.closest<HTMLElement>('.js-repos-container')!\n  if (shouldLoadAllRepositories(container)) {\n    loadMoreRepositories(container)\n  }\n\n  // When a page of repositories is loaded into the DOM, update the filtering in case the user has\n  // typed a query into the text input\n  form.addEventListener('page:loaded', function () {\n    filterRepositories(container)\n  })\n})\n","import {blurForm, focusForm} from './behaviors/inline-comment'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {TemplateInstance} from '@github/template-parts'\nimport {remoteForm} from '@github/remote-form'\n\non('click', '.js-feed-post-comment-form-button', function ({currentTarget}) {\n  insertForm(currentTarget)\n})\n\non('click', '.feed-comment-paging-form-body', function ({currentTarget}) {\n  const form = currentTarget.querySelector<HTMLFormElement>('.js-feed-post-comment-paging-form')!\n  const formData = new FormData(form)\n  const page = formData.get('page')\n  const post = formData.get('feed_post_id')\n\n  const pageInput = document.querySelector<HTMLInputElement>(`#feed-post-${post}-comment-page`)\n  if (pageInput) pageInput.value = `${page}`\n})\n\nfunction insertForm(currentTarget: Element) {\n  const commentContainer = currentTarget.closest<HTMLElement>('.js-feed-item-component')!\n  const targetContainer = commentContainer.querySelector<HTMLElement>('.js-feed-post-comment-form-container')\n  if (!targetContainer) return\n  const postId = targetContainer.getAttribute('data-post-id')\n  const template = document.querySelector<HTMLTemplateElement>('template.js-new-comment-template')\n  if (postId && template) {\n    targetContainer.textContent = ''\n    targetContainer.appendChild(new TemplateInstance(template, {postId}))\n  }\n\n  focusForm(commentContainer)\n}\n\nremoteForm('.js-feed-post-comment-form', async function (form, wants) {\n  await wants.text()\n  blurForm(form)\n  const container = form.closest('.js-feed-post-comment-form-container')!\n  // eslint-disable-next-line github/no-d-none\n  container.querySelector('.js-comment-form-error')?.classList.add('d-none')\n})\n","import {controller, target, attr} from '@github/catalyst'\nimport {hasInteractions} from '../../has-interactions'\nimport {eventToHotkeyString} from '@github-ui/hotkey'\nimport {parseHTML} from '@github-ui/parse-html'\n\n@controller\nclass FavoritePinsElement extends HTMLElement {\n  @target form: HTMLFormElement\n  @target limitNotice: HTMLElement\n  @target input: HTMLInputElement\n  @target list: HTMLElement\n  @target submitButton: HTMLButtonElement\n  @target loadMoreButton: HTMLButtonElement\n  @target loadMoreSpinner: HTMLElement\n  @target querySpinner: HTMLElement\n  @target clearButton: HTMLButtonElement\n  @target filterEmptyState: HTMLElement\n\n  @attr datasource = ''\n  @attr query = ''\n  @attr page = 1\n\n  private setTimeoutId: number\n  private uncheckedItems: string[] = []\n\n  get items() {\n    return Array.from(this.list.children) as HTMLElement[]\n  }\n\n  async formModified(e: Event) {\n    this.submitButton.disabled = !hasInteractions(this.form)\n\n    // We need to keep track of what has been unchecked so that we can display the correct state\n    // over multiple filter queries.\n    const item = e.target as HTMLInputElement\n    if (!item.checked && !this.uncheckedItems.includes(item.value)) {\n      this.uncheckedItems.push(item.value)\n    }\n  }\n\n  // Prevent more than n pinned repository selections.\n  async limitPins() {\n    const checkboxes = this.items.map(node => node.querySelector('input[type=\"checkbox\"]') as HTMLInputElement)\n\n    const used = checkboxes.filter(el => el.checked).length\n    const limit = parseInt(this.getAttribute('max')!, 10)\n\n    for (const el of checkboxes) {\n      el.disabled = used === limit && !el.checked\n    }\n\n    const label = this.limitNotice.getAttribute('data-remaining-label') || ''\n    const diff = limit - used\n    this.limitNotice.textContent = `${used} ${label}`\n    this.limitNotice.classList.toggle('color-fg-danger', diff < 1)\n  }\n\n  querySearchTerm() {\n    this.withLoading(async () => {\n      this.list.hidden = true\n      this.page = 1\n      const container = await this.fetchData(this.query, this.page)\n      const selected = this.items.filter(\n        node => (node.querySelector('input[type=\"checkbox\"]') as HTMLInputElement)?.checked,\n      )\n      const items = Array.from(container.children) as HTMLElement[]\n\n      // Items that have been unchecked prior to the current query will come back from the server checked.\n      // We need to uncheck them before displaying the results.\n      items.map(item => {\n        const itemCheckbox = item.querySelector('input[type=\"checkbox\"]') as HTMLInputElement\n        const previouslyChecked = itemCheckbox.checked\n        const currentlyUnchecked = this.uncheckedItems.includes(itemCheckbox.value)\n        if (previouslyChecked && currentlyUnchecked) {\n          itemCheckbox.checked = false\n        }\n      })\n\n      const filteredSelectedItems = this.filterShownItems(selected, this.query)\n      this.list.replaceChildren(...this.sortItems(filteredSelectedItems, items))\n      this.filterEmptyState.hidden = this.list.children.length > 0\n      this.limitPins()\n      this.list.hidden = false\n\n      return container\n    })\n  }\n\n  filterShownItems(selected: HTMLElement[], query: string) {\n    selected.map(item => {\n      const name = item.textContent || ''\n      item.hidden = !name.toLowerCase().includes(query.toLowerCase())\n    })\n\n    return selected\n  }\n\n  sortItems(pinned: HTMLElement[], unpinned: HTMLElement[]) {\n    const pinnedIds = pinned.map(item => (item.querySelector('input[type=\"checkbox\"]') as HTMLInputElement).value)\n\n    const deduped = unpinned.filter(item => {\n      return !pinnedIds.includes((item.querySelector('input[type=\"checkbox\"]') as HTMLInputElement).value)\n    })\n\n    return pinned.concat(deduped)\n  }\n\n  queryNextPage() {\n    this.withLoading(async () => {\n      this.page += 1\n      const container = await this.fetchData(this.query, this.page)\n      if (container) {\n        this.list.append(...container.children)\n      }\n\n      return container\n    })\n  }\n\n  updateLoadMoreButton(container: HTMLElement) {\n    const hasMore = container.getAttribute('data-has-more-items') === 'true'\n    if (hasMore) {\n      this.loadMoreButton.hidden = false\n    } else {\n      this.loadMoreButton.hidden = true\n    }\n  }\n\n  async fetchData(query: string, page: number) {\n    const url = new URL(this.datasource, window.location.origin)\n    url.searchParams.append('q', query)\n    url.searchParams.append('page', page.toString())\n\n    const response = await fetch(url)\n    const html = await response.text()\n    const fragment = parseHTML(document, html)\n    return fragment.firstChild as HTMLElement\n  }\n\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  async withLoading(fn: Function) {\n    this.loadMoreButton.hidden = true\n    this.loadMoreSpinner.hidden = false\n    this.loadMoreSpinner.scrollIntoView({behavior: 'smooth', block: 'end', inline: 'nearest'})\n    const container = await fn()\n    this.loadMoreSpinner.hidden = true\n    this.updateLoadMoreButton(container)\n  }\n\n  handleSearchInput(evt: KeyboardEvent) {\n    if (eventToHotkeyString(evt) === 'Escape') {\n      evt.stopImmediatePropagation()\n    }\n\n    this.query = (evt.target as HTMLInputElement).value\n    this.clearButton.hidden = this.query.length === 0\n\n    clearTimeout(this.setTimeoutId)\n    this.setTimeoutId = setTimeout(() => this.querySearchTerm(), 500) as unknown as number\n  }\n\n  handleClearSearch() {\n    this.input.value = ''\n    this.query = ''\n    this.clearButton.hidden = true\n    this.querySearchTerm()\n  }\n}\n","import {controller, target, targets, attr} from '@github/catalyst'\nimport {reportError} from '@github-ui/failbot'\nimport {toggleToast} from '@github-ui/toggle-toast'\nimport {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\nimport type {ToggleSwitchElement} from '../../../../../components/primer/experimental/toggle-switch-element'\n\nexport interface IFeedFilterValue {\n  Announcements: boolean\n  Releases: boolean\n  Sponsors: boolean\n  Stars: boolean\n  Repositories: boolean\n  Follows: boolean\n  Recommendations: boolean\n}\n\n@controller\nexport class FeedFilterElement extends HTMLElement {\n  @attr value: string\n  @attr org: string\n  @target csrfToken: HTMLInputElement\n  @target applyButton: HTMLButtonElement\n  @targets inputs: HTMLInputElement[]\n\n  filterCache: Map<string, string> = new Map()\n  initialFilterValue: IFeedFilterValue\n\n  public get filterValues(): IFeedFilterValue {\n    return JSON.parse(this.value)\n  }\n\n  connectedCallback() {\n    this.initialFilterValue = this.filterValues\n  }\n\n  handleToggle(e: Event) {\n    if (!(e.target instanceof HTMLInputElement)) {\n      e.preventDefault()\n    }\n\n    const item = e.currentTarget as HTMLElement\n    // capturing input elements for label and toggle-switch\n    const input = item.querySelector('input') || (item as HTMLInputElement)\n    const filter = this.filterValues\n    const filterName = item.getAttribute('data-name') as keyof IFeedFilterValue\n\n    if (filter[filterName] === undefined) return\n    filter[filterName] = !filter[filterName]\n\n    input.checked = filter[filterName]\n    input.toggleAttribute('checked', filter[filterName])\n\n    this.setFilterValue(filter)\n    this.updateApplyButtonHydroAttributes(filter)\n  }\n\n  async handleApply() {\n    let CONDUIT_FILTER_FEED_URL = '/conduit/filter'\n    const activeTopic = this.getActiveTopic()\n\n    if (this.isTopicFeed(activeTopic)) {\n      CONDUIT_FILTER_FEED_URL = `${CONDUIT_FILTER_FEED_URL}?is_topic=true&topic=${activeTopic}`\n    } else if (this.org) {\n      CONDUIT_FILTER_FEED_URL = `${CONDUIT_FILTER_FEED_URL}?org=${this.org}`\n    }\n\n    try {\n      const response = await fetch(CONDUIT_FILTER_FEED_URL, {\n        method: 'PUT',\n        body: JSON.stringify(this.filterValues),\n        credentials: 'same-origin',\n        headers: {\n          'Scoped-CSRF-Token': this.csrfToken.value,\n          'X-Requested-With': 'XMLHttpRequest',\n        },\n      })\n\n      const html = await response.text()\n\n      this.dispatchEvent(\n        new CustomEvent('feed-filter:apply', {\n          bubbles: true,\n          detail: {\n            updatedFeedContent: html,\n          },\n        }),\n      )\n    } catch (err: unknown) {\n      reportError(err)\n      toggleToast(document.querySelector('.js-feed-filter-error-toast')!.innerHTML)\n      this.resetFilterValue()\n    }\n  }\n\n  public setFilterValue(value: IFeedFilterValue) {\n    this.value = JSON.stringify(value)\n  }\n\n  private resetFilterValue() {\n    for (const input of this.inputs) {\n      const groupName = (input.name || input.getAttribute('data-name')) as keyof IFeedFilterValue\n\n      const value = this.initialFilterValue[groupName]\n      input.toggleAttribute('checked', value)\n    }\n\n    this.setFilterValue(this.initialFilterValue)\n  }\n\n  private reloadFilterValues(cachedContent: string) {\n    this.value = cachedContent\n    const filter = this.filterValues\n    for (const input of this.inputs) {\n      const name = input.getAttribute('name') as keyof IFeedFilterValue\n      switch (input.tagName) {\n        case 'INPUT':\n          input.checked = filter[name]\n          break\n        default:\n          throw new Error(`Unexpected tag name: ${input.tagName}`)\n      }\n    }\n\n    this.setFilterValue(filter)\n  }\n\n  private updateApplyButtonHydroAttributes(filter: IFeedFilterValue) {\n    const attrs = this.applyButton.getAttribute('data-hydro-click') as string\n    const attrsObj = JSON.parse(attrs)\n    attrsObj.payload.metadata.filter_groups = Object.entries(filter)\n      .filter((kv: [string, unknown]) => kv[1])\n      .map((kv: [string, unknown]) => kv[0])\n    this.applyButton.setAttribute('data-hydro-click', JSON.stringify(attrsObj))\n  }\n\n  private getUrl() {\n    return new URL(window.location.href, window.location.origin)\n  }\n\n  private getUrlParams() {\n    const url = this.getUrl()\n    const params = new URLSearchParams(url.search)\n    return params\n  }\n\n  private isTopicFeed(topic: string) {\n    return topic !== 'for-you' && !this.org\n  }\n\n  async setFeedFilterSettings(previousTopic: string | null = null) {\n    let CONDUIT_FILTER_FEED_URL = '/conduit/filter'\n\n    if (previousTopic) {\n      this.cacheFilter(previousTopic)\n    }\n\n    const activeTopic = this.getActiveTopic()\n    const cachedContent = this.filterCache.get(this.getFilterCacheKey(activeTopic))\n\n    if (cachedContent) {\n      this.reloadFilterValues(cachedContent)\n    } else {\n      if (this.isTopicFeed(activeTopic)) {\n        CONDUIT_FILTER_FEED_URL = `${CONDUIT_FILTER_FEED_URL}?is_topic=true&topic=${activeTopic}`\n      } else if (this.org) {\n        CONDUIT_FILTER_FEED_URL = `${CONDUIT_FILTER_FEED_URL}?org=${this.org}`\n      }\n\n      const fragment = await fetchSafeDocumentFragment(document, CONDUIT_FILTER_FEED_URL)\n      this.innerHTML = fragment.querySelector(this.tagName)!.innerHTML\n      this.value = fragment.querySelector(this.tagName)!.getAttribute('data-value')!\n    }\n  }\n\n  private getActiveTopic() {\n    if (this.org) {\n      return this.org\n    }\n\n    const topic = this.getUrlParams().get('topic')\n    return topic || 'for-you'\n  }\n\n  cacheFilter(topic: string) {\n    this.filterCache.set(this.getFilterCacheKey(topic), this.value)\n  }\n\n  private getFilterCacheKey(topic: string) {\n    switch (topic) {\n      case 'for-you':\n        return 'for-you'\n      case 'topic':\n        return 'topic'\n      default:\n        return topic\n    }\n  }\n}\n","import {controller, attr} from '@github/catalyst'\nimport type {IFeedFilterValue} from './feed-filter-element'\nimport {FeedFilterElement} from './feed-filter-element'\nimport {pickBy, isEqual} from 'lodash-es'\n\ninterface IFeedFilterNextValue extends IFeedFilterValue {\n  RepositoryActivity: boolean\n  StarredRelationships: boolean\n}\n\n@controller\nexport class FeedFilterNextElement extends FeedFilterElement {\n  @attr default: string\n\n  private get defaultValues(): IFeedFilterNextValue {\n    return JSON.parse(this.default)\n  }\n\n  private get filterChangesCount(): number {\n    const diff = pickBy(this.filterValues, (v, k) => isEqual(this.defaultValues[k as keyof IFeedFilterNextValue], v))\n    return Object.keys(diff).filter(k => k !== 'StarredRelationships').length\n  }\n\n  override connectedCallback() {\n    this.updateFilterCounter()\n  }\n\n  public resetFilterToDefault() {\n    const filter = this.defaultValues\n    for (const input of this.inputs) {\n      const name = input.getAttribute('name') as keyof IFeedFilterNextValue\n      switch (input.type) {\n        case 'checkbox':\n          input.checked = this.defaultValues[name]\n          break\n        default:\n          throw new Error(`Unexpected tag name: ${input.tagName}`)\n      }\n    }\n\n    this.setFilterValue(filter)\n  }\n\n  public override async handleApply() {\n    await super.handleApply()\n    this.updateFilterCounter()\n  }\n\n  override async setFeedFilterSettings(previousTopic?: string | null): Promise<void> {\n    await super.setFeedFilterSettings(previousTopic)\n    this.updateFilterCounter()\n  }\n\n  private updateFilterCounter(): void {\n    this.dispatchEvent(\n      new CustomEvent('feed-filter-next:active-count', {\n        bubbles: true,\n        detail: {\n          count: this.filterChangesCount,\n        },\n      }),\n    )\n  }\n}\n","import {controller, target, attr} from '@github/catalyst'\nimport type IncludeFragmentElement from '@github/include-fragment-element'\nimport type {FeedFilterElement} from './feed-filter-element'\n\n@controller\nexport class FeedContainerElement extends HTMLElement {\n  FILTER_URL = '/conduit/filter'\n  TOPIC_FEEDS_URL = '/conduit/topic_feeds'\n  FOR_YOU_FEED_URL = '/conduit/for_you_feed'\n  FEED_POST_TAGS_URL = '/feed_posts/tags_menu'\n\n  private FOR_YOU_TOPIC = 'for-you'\n\n  contentCache: Map<string, string> = new Map()\n\n  private contentAbortController: AbortController | null\n\n  @attr org = ''\n  @attr activeTopic = this.org || this.FOR_YOU_TOPIC\n\n  @target feedTitle: HTMLElement\n  @target spinner: HTMLElement\n  @target filter: FeedFilterElement\n  @target filterTrigger: HTMLDetailsElement\n  @target filterCounter: HTMLElement\n  @target filterFragment: IncludeFragmentElement\n  @target content: HTMLElement\n\n  get topicFeedFilterUrl() {\n    let url = this.FILTER_URL\n    if (this.org) {\n      url += `?org=${this.org}`\n    } else if (this.activeTopic !== this.FOR_YOU_TOPIC) {\n      url += `?is_topic=true`\n    }\n    return url\n  }\n\n  connectedCallback() {\n    this.addEventListener('feed-filter:apply', this.handleFilterApply, true)\n    this.addEventListener('feed-filter-next:active-count', this.handleFilterCount, true)\n\n    // eslint-disable-next-line custom-elements/no-dom-traversal-in-connectedcallback\n    let filter = this.querySelector('feed-filter') || this.querySelector('feed-filter-next')\n\n    const observer = new MutationObserver(() => {\n      if (filter) {\n        this.cacheContent(this.activeTopic)\n        this.filter.cacheFilter(this.activeTopic)\n        observer.disconnect()\n      } else {\n        // eslint-disable-next-line custom-elements/no-dom-traversal-in-connectedcallback\n        filter = this.querySelector('feed-filter') || this.querySelector('feed-filter-next')\n        if (filter) {\n          this.cacheContent(this.activeTopic)\n          this.filter.cacheFilter(this.activeTopic)\n          observer.disconnect()\n        }\n      }\n    })\n\n    const heightObserver = new MutationObserver(() => {\n      const frame = this.querySelector('#conduit-feed-frame')\n      if (frame) {\n        const height = sessionStorage.getItem('github:dashboard:scrollHeight')\n        if (height) {\n          window.scrollTo(0, +height)\n          sessionStorage.removeItem('github:dashboard:scrollHeight')\n        }\n        observer.disconnect()\n      }\n    })\n\n    observer.observe(this, {childList: true, subtree: true})\n    heightObserver.observe(this.content, {childList: true, subtree: true})\n    // delay loading filter until listeners/observers are initialized\n    // to prevent race condition\n    this.filterFragment.src = this.topicFeedFilterUrl\n  }\n\n  async handleForYouFeedItemClick() {\n    const previousTopic = this.activeTopic\n\n    this.updateActiveTopic('for-you')\n    this.updateTitle('Home')\n    this.updateUrlParams()\n\n    await this.filter.setFeedFilterSettings(previousTopic)\n    await this.updateContent(this.FOR_YOU_FEED_URL, previousTopic)\n  }\n\n  async handleTopicFeedItemClick(name: string, displayName: string) {\n    if (!name) throw new Error('topic name is empty.')\n    const previousTopic = this.activeTopic\n\n    this.updateUrlParams(name)\n    this.updateActiveTopic(name)\n    this.updateTitle(displayName)\n    await this.updateContent(this.getTopicFeedUrl(name), previousTopic)\n    await this.filter.setFeedFilterSettings(previousTopic)\n  }\n\n  openTopicView() {\n    const elements = document.querySelectorAll('.js-toggle-feed-views')\n    for (const element of elements) {\n      if (element.textContent?.trim() === 'Topics') {\n        element.dispatchEvent(new MouseEvent('click', {bubbles: true}))\n      }\n    }\n  }\n\n  private getTopicFeedUrl(topic: string) {\n    return `${this.TOPIC_FEEDS_URL}?topic=${topic}`\n  }\n\n  private updateActiveTopic(name: string) {\n    this.activeTopic = name\n  }\n\n  private async updateContent(url: string, previousTopic: string | null = null) {\n    try {\n      this.spinner.toggleAttribute('hidden', false)\n      this.content.toggleAttribute('hidden', true)\n\n      if (this.contentAbortController) {\n        this.contentAbortController.abort()\n      } else if (previousTopic) {\n        this.cacheContent(previousTopic)\n      }\n\n      // use cached feed content for a particular topic if already loaded.\n      const cachedContent = this.contentCache.get(this.getCacheKey(this.activeTopic))\n      if (cachedContent) {\n        this.content.innerHTML = cachedContent\n      } else {\n        this.contentAbortController = new AbortController()\n\n        const response = await fetch(url, {\n          method: 'GET',\n          signal: this.contentAbortController.signal,\n          credentials: 'same-origin',\n          headers: {\n            'X-Requested-With': 'XMLHttpRequest',\n          },\n        })\n\n        const html = await response.text()\n        this.content.innerHTML = html\n        this.contentAbortController = null\n      }\n    } catch (err) {\n      // skip abort error\n      if (err instanceof DOMException) return\n      // eslint-disable-next-line compat/compat\n      reportError(err)\n    }\n\n    this.spinner.toggleAttribute('hidden', true)\n    this.content.toggleAttribute('hidden', false)\n  }\n\n  private handleFilterApply(e: Event) {\n    const detail = (e as CustomEvent).detail\n    this.content.innerHTML = detail.updatedFeedContent\n  }\n\n  private handleFilterCount(e: Event) {\n    const detail = (e as CustomEvent).detail\n    this.filterCounter.hidden = !detail.count\n    this.filterCounter.textContent = detail.count\n  }\n\n  private updateUrlParams(topic?: string) {\n    const url = new URL('', window.origin)\n    if (topic) {\n      url.searchParams.set('topic', topic)\n    }\n\n    history.replaceState(null, document.title, url.href)\n  }\n\n  private updateTitle(topic: string) {\n    this.feedTitle.textContent = topic\n  }\n\n  private cacheContent(topic: string) {\n    this.contentCache.set(this.getCacheKey(topic), this.content.innerHTML)\n  }\n\n  private getCacheKey(topic: string) {\n    return `${topic}:${this.filter.value}`\n  }\n\n  // This function updates the tags menu in the feed post dialog\n  // and conditionally removes any automatically-attributed tag based on\n  // changes made while the user was in the topics context in the dashboard.\n  private async updateFeedPostTags() {\n    const activeTopicIsForYou = this.activeTopic === 'for-you'\n    const topicTags = document.querySelector('.js-feed-post-tags')\n    const activeTag = document.querySelector('.js-feed-post-active-tag-wrapper')\n    const selectedTagIdEl = document.querySelector('.js-feed-post-form-selected-topic-id') as HTMLInputElement\n    const selectedTagNameEl = document.querySelector('.js-feed-post-form-selected-topic-name') as HTMLInputElement\n\n    if (!topicTags || !activeTag || !selectedTagIdEl || !selectedTagNameEl) return\n\n    // if the user is returned to the for_you feed with no selected topic,\n    // clear the hidden selected tag in the form and hide the active tag.\n    if (activeTopicIsForYou) {\n      selectedTagIdEl.value = ''\n      selectedTagNameEl.value = ''\n      activeTag.setAttribute('hidden', 'true')\n    }\n\n    // fetch and replace the tag menu since there may have been topics starred or unstarred...\n    const selectedTagName = selectedTagNameEl.value\n    const url = new URL(this.FEED_POST_TAGS_URL, window.origin)\n    if (selectedTagName) url.searchParams.set('context', selectedTagName)\n\n    try {\n      const response = await fetch(url, {\n        method: 'GET',\n        credentials: 'same-origin',\n        headers: {\n          'X-Requested-With': 'XMLHttpRequest',\n        },\n      })\n\n      const html = await response.text()\n      topicTags.innerHTML = html\n    } catch (err) {\n      if (err instanceof DOMException) return\n      // eslint-disable-next-line compat/compat\n      reportError(err)\n    }\n  }\n}\n","import {controller, target, attr} from '@github/catalyst'\nimport {eventToHotkeyString} from '@github-ui/hotkey'\nimport {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\nimport type {SidebarPinnedTopicsElement} from '@github-ui/sidebar-pinned-topics-element'\n\n@controller\nexport class TopicFeedsContainerElement extends HTMLElement {\n  private setTimeoutId: number\n\n  @attr query: string\n  @attr src: string\n\n  @target content: HTMLElement\n\n  searchInput: HTMLInputElement | null\n  clearButton: HTMLElement\n\n  connectedCallback() {\n    this.updateContent()\n\n    this.addEventListener('social:success', this.refreshPinnedTopics)\n\n    const observer = new MutationObserver(() => {\n      this.searchInput = this.querySelector('.js-topic-feeds-container-search')\n      const button = this.querySelector('#topic-feeds-container-clear-button')\n      if (button) {\n        this.clearButton = button as HTMLElement\n        this.clearButton.addEventListener('click', this.handleClearSearch.bind(this))\n        this.clearButton.toggleAttribute('hidden', !this.query)\n        this.clearButton.style.borderRadius = '3px'\n        observer.disconnect()\n      }\n    })\n\n    observer.observe(this, {childList: true, subtree: true})\n  }\n\n  attributeChangedCallback(name: string) {\n    switch (name) {\n      case 'data-query':\n        this.toggleClearButton()\n        break\n    }\n  }\n\n  async refreshPinnedTopics() {\n    const pinnedTopics: SidebarPinnedTopicsElement | null = document.querySelector('sidebar-pinned-topics')\n    if (!pinnedTopics) {\n      return\n    }\n\n    await pinnedTopics.reload()\n  }\n\n  handleSearchInput(evt: KeyboardEvent) {\n    if (eventToHotkeyString(evt) === 'Escape') {\n      evt.stopImmediatePropagation()\n    }\n\n    this.debounceQuery((evt.target as HTMLInputElement).value)\n  }\n\n  handleClearSearch() {\n    if (!this.searchInput) return\n    this.searchInput.value = ''\n    this.debounceQuery('', 0)\n  }\n\n  private async updateContent() {\n    const src = this.query ? `${this.src}?q=${this.query}` : this.src\n    const fragment = await fetchSafeDocumentFragment(document, src)\n    this.content.replaceChildren(fragment)\n  }\n\n  private debounceQuery(query: string, timeoutDuration = 250) {\n    this.query = query\n    clearTimeout(this.setTimeoutId)\n    this.setTimeoutId = setTimeout(() => this.updateContent(), timeoutDuration) as unknown as number\n  }\n\n  private toggleClearButton() {\n    if (this.clearButton) {\n      this.clearButton.toggleAttribute('hidden', !this.query)\n    }\n  }\n}\n","// Global handler for uncaught AJAX errors.\n//\n// Only enabled by default on new style `data-remote` requests.\n\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nexport function showGlobalError() {\n  const ajaxErrorMessage = document.getElementById('ajax-error-message')\n  if (ajaxErrorMessage) {\n    ajaxErrorMessage.hidden = false\n  }\n}\n\nexport function hideGlobalError() {\n  const ajaxErrorMessage = document.getElementById('ajax-error-message')\n  if (ajaxErrorMessage) {\n    ajaxErrorMessage.hidden = true\n  }\n}\n\non('deprecatedAjaxError', '[data-remote]', function (event) {\n  const detail = (event as CustomEvent).detail\n  const {error, text} = detail\n\n  if (event.currentTarget !== event.target) {\n    return\n  }\n  if (error === 'abort' || error === 'canceled') {\n    return\n  }\n\n  if (/<html/.test(text)) {\n    showGlobalError()\n    event.stopImmediatePropagation()\n  } else {\n    setTimeout(function () {\n      if (event.defaultPrevented) {\n        return\n      }\n      showGlobalError()\n    }, 0)\n  }\n})\n\n// Clear any errors when the request is tried again\non('deprecatedAjaxSend', '[data-remote]', function () {\n  hideGlobalError()\n})\n\n// \"Dismiss\" button\non('click', '.js-ajax-error-dismiss', function () {\n  hideGlobalError()\n})\n","let sessionHistoryEntries: Array<{url: string; state: unknown}> = []\nlet sessionHistoryOffset = 0\nlet state: State\n\ntype State = {\n  _id: number\n  turbo?: {\n    restorationIdentifier: string\n  }\n}\n\n/*\n * Array of history entries.\n *\n * Example:\n * {\n *   0: {\n *     url: \"/\",\n *     state: { ... }.\n *   },\n *   1: {\n *     url: \"/github/github/issues/123\",\n *     state: { ... }.\n *   },\n *   2: {\n *     url: \"/github/github/issues/123#comment-4\",\n *     state: { ... }.\n *   }.\n *  }.\n */\n\nexport function getState(): State {\n  return state\n}\n\nfunction safeGetHistory() {\n  try {\n    // Clamp history.length to 0<->9007199254740991 (Number.MAX_SAFE_INTEGER isn't supported in IE)\n    return Math.min(Math.max(0, history.length) || 0, 9007199254740991)\n  } catch (e) {\n    return 0\n  }\n}\n\nfunction initializeState(): State {\n  const newState = {_id: new Date().getTime(), ...history.state}\n  setState(newState)\n  return newState\n}\n\n// Current index into history entries stack.\nfunction position(): number {\n  return safeGetHistory() - 1 + sessionHistoryOffset\n}\n\nfunction setState(newState: State) {\n  state = newState\n\n  // Update entry at current position\n  const url = location.href\n  sessionHistoryEntries[position()] = {url, state}\n\n  // Trim entries to match history size\n  sessionHistoryEntries.length = safeGetHistory()\n\n  // Emit public statechange\n  window.dispatchEvent(new CustomEvent('statechange', {bubbles: false, cancelable: false}))\n}\n\n// Generate unique id for state object.\n//\n// Use a timestamp instead of a counter since ids should still be unique\n// across page loads.\nfunction uniqueId(): number {\n  return new Date().getTime()\n}\n\n// Indirection for history.pushState to support tracking URL changes.\n//\n// Would be great if there was a standard window.addEventListener('statechange') event.\nexport function pushState(oldState: State | null, title: string, url: string) {\n  // pushState drops any forward history entries\n  sessionHistoryOffset = 0\n  const newState = {_id: uniqueId(), ...oldState}\n  history.pushState(newState, title, url)\n  setState(newState)\n}\n\n// Indirection for history.replaceState to support tracking URL changes.\n//\n// Would be great if there was a standard window.addEventListener('statechange') event.\nexport function replaceState(oldState: Record<string, unknown> | null, title: string, url: string) {\n  const newState = {...getState(), ...oldState}\n  history.replaceState(newState, title, url)\n  setState(newState)\n}\n\nstate = initializeState()\n\nwindow.addEventListener(\n  'popstate',\n  function onPopstate(event: PopStateEvent) {\n    const currentState: State = event.state\n\n    if (!currentState || (!currentState._id && !currentState.turbo?.restorationIdentifier)) {\n      // Unmanaged state in history entries\n      // Or could be a hashchange pop, ignore and let hashchange handle it\n      return\n    }\n\n    // Each state has a unique restorationIdentifier provided by Turbo. We compare the id\n    // to see if we are going backwards or forwards.\n    const id = currentState.turbo?.restorationIdentifier\n    const restoreId = (sessionHistoryEntries[position() - 1]?.state as State)?.turbo?.restorationIdentifier\n\n    if (restoreId === id) {\n      sessionHistoryOffset--\n    } else {\n      sessionHistoryOffset++\n    }\n\n    setState(currentState)\n  },\n  true,\n)\n\nlet turboAction: string\n\nwindow.addEventListener('turbo:visit', event => {\n  if (!(event instanceof CustomEvent)) return\n\n  turboAction = event.detail.action\n})\n\n// Listen turbo navigations to reset the `sessionHistoryOffset` in case we are doing a page load\n// instead of poping a state from the history stack.\nwindow.addEventListener('turbo:load', () => {\n  if (turboAction === 'restore') return\n\n  sessionHistoryOffset = 0\n  // Add turbo navigations to the state stack, so we can keep it complete without `empty` entries.\n  replaceState(history.state, '', '')\n})\n\nwindow.addEventListener(\n  'hashchange',\n  function onHashchange() {\n    if (safeGetHistory() > sessionHistoryEntries.length) {\n      // Forward navigation\n      const newState = {_id: uniqueId()}\n      history.replaceState(newState, '', location.href)\n      setState(newState)\n    }\n  },\n  true,\n)\n\n// We need to reset our history state on full-page loads to prevent our state from getting out of sync with the browser's history stack.\nwindow.addEventListener('pageshow', () => {\n  sessionHistoryEntries = []\n  sessionHistoryOffset = 0\n})\n","import {sendStats} from '@github-ui/stats'\n\nexport function sendData(hydroEventPayload: string, hydroEventHmac: string, hydroClientContext: string): void {\n  const data = {\n    hydroEventPayload,\n    hydroEventHmac,\n    visitorPayload: '',\n    visitorHmac: '',\n    hydroClientContext,\n  }\n\n  const visitorPayload = document.querySelector('meta[name=visitor-payload]')\n  if (visitorPayload instanceof HTMLMetaElement) {\n    data['visitorPayload'] = visitorPayload.content\n  }\n  const visitorHmac = document.querySelector('meta[name=visitor-hmac]') || ''\n  if (visitorHmac instanceof HTMLMetaElement) {\n    data['visitorHmac'] = visitorHmac.content\n  }\n\n  sendStats(data, true)\n}\n\nexport function trackView(el: HTMLElement) {\n  const payload = el.getAttribute('data-hydro-view') || ''\n  const hmac = el.getAttribute('data-hydro-view-hmac') || ''\n  const hydroClientContext = el.getAttribute('data-hydro-client-context') || ''\n  sendData(payload, hmac, hydroClientContext)\n}\n\nexport function sendHydroEvent(el: HTMLElement) {\n  const payload = el.getAttribute('data-hydro-click-payload') || ''\n  const hmac = el.getAttribute('data-hydro-click-hmac') || ''\n  const hydroClientContext = el.getAttribute('data-hydro-client-context') || ''\n  sendData(payload, hmac, hydroClientContext)\n}\n","import type SortableI from '@github/sortablejs'\nimport type {SortableEvent} from '@github/sortablejs'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {announce} from '@github-ui/aria-live'\n\nlet sortable: SortableI | null = null\nlet siblingListItem: Node | null = null\n\nfunction handleStart(event: SortableEvent) {\n  const {item, oldIndex} = event\n  const {parentNode} = item\n  siblingListItem = parentNode!.children[oldIndex! + 1]!\n}\n\nasync function handleUpdate(event: SortableEvent): Promise<void> {\n  const {oldIndex, newIndex, item} = event\n\n  if (oldIndex === newIndex) {\n    return\n  }\n\n  const form = item.closest<HTMLFormElement>('.js-pinned-items-reorder-form')!\n  const container = form.closest<HTMLElement>('.js-pinned-items-reorder-container')!\n  const spinner = container.querySelector<HTMLElement>('.js-pinned-items-spinner')\n  const notice = container.querySelector<HTMLElement>('.js-pinned-items-reorder-message')\n  const showFeedback = spinner && notice\n\n  if (showFeedback) {\n    notice.textContent = ''\n    spinner.style.display = 'inline-block'\n  }\n  sortable!.option('disabled', true)\n\n  const response = await fetch(form.action, {\n    method: form.method,\n    body: new FormData(form),\n    headers: {\n      'X-Requested-With': 'XMLHttpRequest',\n    },\n  })\n  if (!response.ok) {\n    if (showFeedback) {\n      notice.textContent = notice.getAttribute('data-error-text') || ''\n      spinner.style.display = 'none'\n    }\n\n    const list = item.parentNode!\n\n    if (siblingListItem) {\n      list.insertBefore(item, siblingListItem)\n    } else {\n      list.appendChild(item)\n    }\n    return\n  }\n  if (showFeedback) {\n    notice.textContent = notice.getAttribute('data-success-text') || ''\n    announce(notice.textContent)\n    spinner.style.display = 'none'\n  }\n  sortable!.option('disabled', false)\n}\n\nobserve('.js-pinned-items-reorder-list', {\n  async add(el) {\n    const {Sortable} = await import('../sortable-behavior')\n    sortable = Sortable.create(el, {\n      animation: 150,\n      item: '.js-pinned-item-list-item',\n      handle: '.js-pinned-item-reorder',\n      onUpdate: handleUpdate,\n      onStart: handleStart,\n      chosenClass: 'is-dragging',\n    })\n  },\n})\n\non('submit', '.js-pinned-items-reorder-form', function (event) {\n  event.preventDefault()\n})\n\non('click', '.js-pinned-item-list-item .js-sortable-button', async function ({currentTarget: button}) {\n  const {moveWithButton} = await import('../sortable-behavior')\n  moveWithButton(button as HTMLButtonElement, button.closest<HTMLElement>('.js-pinned-item-list-item')!, handleUpdate)\n})\n","//  Get document's HTML Safe nonce.\n//\n// Example:\n//\n//   <meta name=\"html-safe-nonce\" content=\"de43a1f355c711f7f705e4f971964391ac0c8e13\">\nexport function getDocumentHtmlSafeNonces(document: Document): string[] {\n  const nonces = [...document.querySelectorAll<HTMLMetaElement>('meta[name=html-safe-nonce]')].map(meta => meta.content)\n\n  if (nonces.length < 1) {\n    throw new Error('could not find html-safe-nonce on document')\n  }\n  return nonces\n}\n\ninterface Response {\n  headers: Headers\n  status: number\n}\n\nclass ResponseError extends Error {\n  response: Response\n\n  constructor(message: string, response: Response) {\n    super(`${message} for HTTP ${response.status}`)\n    this.response = response\n  }\n}\n\nexport function verifyResponseHtmlSafeNonce(nonces: string[], response: Response, allowJson = false) {\n  const contentType = response.headers.get('content-type') || ''\n  if (!allowJson && !contentType.startsWith('text/html')) {\n    throw new ResponseError(`expected response with text/html, but was ${contentType}`, response)\n  }\n\n  if (allowJson && !(contentType.startsWith('text/html') || contentType.startsWith('application/json'))) {\n    throw new ResponseError(`expected response with text/html or application/json, but was ${contentType}`, response)\n  }\n\n  const responseNonce = response.headers.get('x-html-safe')\n  if (!responseNonce) {\n    throw new ResponseError(`missing X-HTML-Safe nonce`, response)\n  } else if (!nonces.includes(responseNonce)) {\n    throw new ResponseError(`response X-HTML-Safe nonce did not match`, response)\n  }\n}\n","import {getDocumentHtmlSafeNonces, verifyResponseHtmlSafeNonce} from '@github-ui/html-safe-nonce'\nimport {ghTrustedTypes} from '@github-ui/trusted-types'\nimport {trustedTypesPolicy} from './policy'\n\nconst policyName = 'server-x-safe-html'\n\n// This is a no-op policy to be used with server-side rendered HTML.\nexport const serverXSafeHTMLPolicy = ghTrustedTypes.createPolicy(policyName, {\n  createHTML: (s: string, response: Response) => {\n    return trustedTypesPolicy.apply({\n      policy: () => {\n        verifyResponseHtmlSafeNonce(getDocumentHtmlSafeNonces(document), response)\n        return s\n      },\n      policyName,\n      fallback: s,\n      silenceErrorReporting: true,\n    })\n  },\n})\n","import {parseHTML} from '@github-ui/parse-html'\nimport {serverXSafeHTMLPolicy} from '@github-ui/trusted-types-policies/server-x-safe-html'\n\nexport async function fetchSafeDocumentFragment(\n  document: Document,\n  url: RequestInfo,\n  options?: RequestInit,\n): Promise<DocumentFragment> {\n  const request = new Request(url, options)\n  request.headers.append('X-Requested-With', 'XMLHttpRequest')\n  const response = await self.fetch(request)\n  if (response.status < 200 || response.status >= 300) {\n    throw new Error(`HTTP ${response.status}${response.statusText || ''}`)\n  }\n  const trustedHTML = serverXSafeHTMLPolicy.createHTML(await response.text(), response)\n  return parseHTML(document, trustedHTML)\n}\n\nexport function fetchPoll(\n  url: RequestInfo,\n  options?: RequestInit,\n  timeBetweenRequests = 1000,\n  acceptedStatusCodes = [200],\n  pollStatusCodes = [202],\n): Promise<Response> {\n  return (async function poll(wait: number): Promise<Response> {\n    const request = new Request(url, options)\n    request.headers.append('X-Requested-With', 'XMLHttpRequest')\n    const response = await self.fetch(request)\n\n    if (pollStatusCodes.includes(response.status)) {\n      await new Promise(resolve => setTimeout(resolve, wait))\n      return poll(wait * 1.5)\n    }\n    if (acceptedStatusCodes.includes(response.status)) {\n      return response\n    }\n    if (response.status < 200 || response.status >= 300) {\n      throw new Error(`HTTP ${response.status}${response.statusText || ''}`)\n    }\n    throw new Error(`Unexpected ${response.status} response status from poll endpoint`)\n  })(timeBetweenRequests)\n}\n\ntype RetryResult = Response | 'retry'\ntype FetchRetryOptions = {\n  // Base wait time between retries\n  // this will be multiplied with the current attempt to perform a backoff strategy\n  // Defaults to 500ms\n  wait?: number\n  // List of accepted status codes that should not be retried. Defaults to [200]\n  acceptedStatusCodes?: number[]\n  // Max number of attempts. Defaults to 3\n  max?: number\n  // Current retry attempt. Starts at 0\n  attempt?: number\n}\n\n// Execute a fetch call in a callback and retry it up to `options.max` times\n// Each retry will be delayed `options.wait` * `options.attempt`\nexport async function fetchRetry(\n  url: RequestInfo,\n  fetchOptions?: RequestInit,\n  options?: FetchRetryOptions,\n): Promise<Response> {\n  const {wait = 500, acceptedStatusCodes = [200], max = 3, attempt = 0} = options || {}\n\n  const retry: () => Promise<RetryResult> = async () => {\n    return new Promise((resolve, reject) => {\n      setTimeout(async () => {\n        try {\n          const request = new Request(url, fetchOptions)\n          request.headers.append('X-Requested-With', 'XMLHttpRequest')\n          const response = await self.fetch(request)\n          if (acceptedStatusCodes.includes(response.status) || attempt + 1 === max) {\n            return resolve(response)\n          }\n\n          // The response failed, we indicate that it must be retried\n          resolve('retry')\n        } catch (err) {\n          // Only non successful HTTP status codes are controlled by this retry mechanism\n          // Any other error is propagated\n          reject(err)\n        }\n      }, wait * attempt)\n    })\n  }\n\n  const result = await retry()\n  if (result !== 'retry') {\n    return result\n  }\n\n  return fetchRetry(url, fetchOptions, {wait, acceptedStatusCodes, max, attempt: attempt + 1})\n}\n","let toastReference: HTMLElement | null\n\nexport function toggleToast(html?: string, options?: {closeAfter: number}) {\n  removeToast()\n  if (!html) return\n\n  const element = document.createElement('div')\n  element.innerHTML = html\n  if (document.body) document.body.append(element)\n\n  const close = element.querySelector('button')\n  if (close) {\n    close.addEventListener('click', removeToast, {once: true})\n  }\n\n  document.addEventListener('keydown', (event: KeyboardEvent) => {\n    // TODO: Refactor to use data-hotkey\n    /* eslint eslint-comments/no-use: off */\n    /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n    if (event.key === 'Escape') {\n      if (removeToast()) event.stopImmediatePropagation()\n    }\n    /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n  })\n\n  toastReference = element\n\n  if (options?.closeAfter) {\n    setTimeout(() => {\n      if (toastReference === element) {\n        removeToast()\n      }\n    }, options.closeAfter)\n  }\n}\n\nfunction removeToast(): boolean {\n  if (!toastReference) return false\n  toastReference.remove()\n  toastReference = null\n  return true\n}\n"],"names":["getItem","setItem","safeStorage","LastSavedFeedsTabKey","PossibleFeedsTabKeys","DefaultFeedsTab","updateSelectedTopicInForm","name","id","activeTopicId","document","querySelector","activeTopicName","topicTagMenuButton","displayedTopicTagName","displayedTopicTagWrapper","value","textContent","removeAttribute","setAttribute","on","event","response","button","currentTarget","form","preventDefault","fetch","action","method","body","FormData","headers","Accept","showGlobalError","classList","contains","hidden","ok","observe","constructor","HTMLElement","initialize","tabsEl","lastStoredTab","indexOf","tabButton","controlledPanelId","getAttribute","controlledPanel","getElementById","feedbackLink","toggleAttribute","e","includes","item","topicFeedsContainer","feedContainer","url","URL","window","origin","listItems","parentElement","children","li","remove","add","searchParams","append","history","replaceState","title","href","handleForYouFeedItemClick","handleTopicFeedItemClick","topic","closeFeedPostTagMenu","show_button","click","cards","observer","IntersectionObserver","entries","entry","el","target","hydroAttrs","JSON","parse","payload","feed_card","card_retrieved_id","isVisible","intersectionRatio","clearTimeout","setTimeout","trackView","rootMargin","threshold","unhiddenHeadingMenus","debouncedShowMenuButton","debounce","menu","getHeadingMenuButton","card","getElementsByClassName","length","push","debouncedHideMenuButton","hideAllHeadingMenus","visibleMenus","closest","open","hasAttribute","submitEventVisibility","formData","eventId","get","labelContainer","json","template","content","cloneNode","appendChild","newForm","parseHTML","trim","replaceWith","submitFeedDisinterest","reasonDismissed","cardType","removeAnnouncementCard","event_id","prevCard","previousElementSibling","nextCard","nextElementSibling","addEventListener","totalCards","querySelectorAll","slideAnnouncementCard","nextNextCard","toggleDismissedPlaceholder","showMore","placeholder","evt","child","localName","sessionStorage","scrollY","templateContainerContent","checkbox","submit","checkboxes","disabled","Array","from","every","cb","checked","leftColumnDetailsObserver","root","dataStore","WeakMap","loadMoreRepositories","container","timesLoaded","set","requestSubmit","filterRepositories","filterInput","fire","onFocus","HTMLInputElement","defaultValue","onInput","updateQueryInUrl","baseUrl","queryName","replaceQueryInUrl","query","location","params","URLSearchParams","search","slice","delete","toString","shouldLoadAllRepositories","activeElement","insertForm","commentContainer","targetContainer","postId","TemplateInstance","focusForm","page","post","pageInput","remoteForm","wants","text","blurForm","FavoritePinsElement","items","list","formModified","submitButton","hasInteractions","uncheckedItems","limitPins","map","node","used","filter","limit","parseInt","label","limitNotice","toggle","diff","querySearchTerm","withLoading","fetchData","selected","itemCheckbox","previouslyChecked","currentlyUnchecked","filteredSelectedItems","filterShownItems","replaceChildren","sortItems","filterEmptyState","toLowerCase","pinned","unpinned","pinnedIds","deduped","concat","queryNextPage","updateLoadMoreButton","hasMore","loadMoreButton","datasource","html","fragment","firstChild","fn","loadMoreSpinner","scrollIntoView","behavior","block","inline","handleSearchInput","eventToHotkeyString","stopImmediatePropagation","clearButton","setTimeoutId","handleClearSearch","input","attr","controller","FeedFilterElement","filterValues","connectedCallback","initialFilterValue","handleToggle","filterName","undefined","setFilterValue","updateApplyButtonHydroAttributes","handleApply","CONDUIT_FILTER_FEED_URL","activeTopic","getActiveTopic","isTopicFeed","org","stringify","credentials","csrfToken","dispatchEvent","CustomEvent","bubbles","detail","updatedFeedContent","err","reportError","toggleToast","innerHTML","resetFilterValue","inputs","groupName","reloadFilterValues","cachedContent","tagName","attrs","applyButton","attrsObj","metadata","filter_groups","Object","kv","getUrl","getUrlParams","setFeedFilterSettings","previousTopic","cacheFilter","filterCache","getFilterCacheKey","fetchSafeDocumentFragment","Map","targets","FeedFilterNextElement","defaultValues","default","filterChangesCount","pickBy","v","k","isEqual","keys","updateFilterCounter","resetFilterToDefault","type","count","FeedContainerElement","topicFeedFilterUrl","FILTER_URL","FOR_YOU_TOPIC","handleFilterApply","handleFilterCount","MutationObserver","cacheContent","disconnect","heightObserver","frame","height","scrollTo","removeItem","childList","subtree","filterFragment","src","updateActiveTopic","updateTitle","updateUrlParams","updateContent","FOR_YOU_FEED_URL","displayName","getTopicFeedUrl","openTopicView","elements","element","MouseEvent","TOPIC_FEEDS_URL","spinner","contentAbortController","abort","contentCache","getCacheKey","AbortController","signal","DOMException","filterCounter","feedTitle","updateFeedPostTags","activeTopicIsForYou","topicTags","activeTag","selectedTagIdEl","selectedTagNameEl","selectedTagName","FEED_POST_TAGS_URL","TopicFeedsContainerElement","refreshPinnedTopics","searchInput","bind","style","borderRadius","attributeChangedCallback","toggleClearButton","pinnedTopics","reload","debounceQuery","timeoutDuration","ajaxErrorMessage","hideGlobalError","error","test","defaultPrevented","state","turboAction","sessionHistoryEntries","sessionHistoryOffset","getState","safeGetHistory","Math","min","max","setState","newState","cancelable","uniqueId","Date","getTime","pushState","oldState","_id","initializeState","currentState","turbo","restorationIdentifier","restoreId","position","sendData","hydroEventPayload","hydroEventHmac","hydroClientContext","data","visitorPayload","visitorHmac","HTMLMetaElement","sendStats","hmac","sendHydroEvent","sortable","siblingListItem","handleStart","oldIndex","parentNode","handleUpdate","newIndex","notice","showFeedback","display","option","insertBefore","announce","Sortable","create","animation","handle","onUpdate","onStart","chosenClass","moveWithButton","ResponseError","Error","message","status","policyName","serverXSafeHTMLPolicy","ghTrustedTypes","createPolicy","createHTML","s","trustedTypesPolicy","apply","policy","verifyResponseHtmlSafeNonce","nonces","allowJson","contentType","startsWith","responseNonce","getDocumentHtmlSafeNonces","meta","fallback","silenceErrorReporting","options","request","Request","self","statusText","trustedHTML","fetchPoll","timeBetweenRequests","acceptedStatusCodes","pollStatusCodes","poll","wait","Promise","resolve","fetchRetry","fetchOptions","attempt","retry","reject","result","toastReference","removeToast","createElement","close","once","key","closeAfter"],"sourceRoot":""}