{"version":3,"file":"app_assets_modules_github_filter-input_ts-xxxxxxxxxxxx.js","mappings":"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","sources":["app/assets/modules/github/filter-input.ts","app/assets/modules/github/scrollto.ts","app/assets/modules/github/navigation.ts","app/assets/modules/github/visible.ts","ui/packages/form-utils/form-utils.ts","ui/packages/form-utils/remote-submit.ts","ui/packages/hotkey/keyboard-shortcuts-helper.ts","ui/packages/subscription/subscription.ts"],"sourcesContent":["import {type TemplateResult, html, render} from 'lit-html'\nimport {\n  activate as activateNavigation,\n  deactivate as deactivateNavigation,\n  focus as focusNavigation,\n} from './navigation'\n// eslint-disable-next-line no-restricted-imports\nimport {fire} from 'delegated-events'\nimport memoize from '@github/memoize/decorator'\nimport {requestSubmit} from '@github-ui/form-utils'\nimport {target} from '@github/catalyst'\nimport {until} from 'lit-html/directives/until'\n\nexport interface Suggestion {\n  value: string\n  description?: string\n  isAlpha?: boolean\n  isBeta?: boolean\n  isNew?: boolean\n}\n\n// Export the cache to allow it be be cleared in tests\n/* eslint-disable-next-line custom-elements/no-exports-with-element */\nexport const memoizeCache = new Map()\n\n// ================= DEPRECATED =================\n// Use QueryBuilderElement instead of this class.\n// ----------------------------------------------\n\n/**\n * When using any code example from this comment block, replace\n * `your-component` with your component's HTML tag name.\n *\n * Catalyst components that extend this base class need to be set up as\n * described below. Using the GitHub::FilterInputComponent is recommended\n * as that sets this up for you.\n * - An element with data-target=\"your-component.autocompleteDropdown\"\n * - An element within that with data-target=\"your-component.autocompleteResults\"\n * - (Optional) An element with data-target=\"your-component.clearButton\"\n *   This in turns needs data-action=\"click:your-component#clear\"\n * - A form with data-target=\"your-component.searchForm\"\n *   This in turns needs the following data-action values:\n *    navigation:keydown:your-component#handleFormKeydownEvent\n *    navigation:open:your-component#handleSelectedSuggestionResultEvent\n * - An input field with data-target=\"your-component.searchInput\"\n *   This in turn needs the following data attributes:\n *   - data-initial-value - the query value at the time of page-load\n *   - data-default-value - the default query, put into the search box when\n *     the search is cleared. For most filters, this will be an empty string,\n *     but some filters may enforce a default. For example, that there must\n *     always be an \"is:\" value and that this defaults to \"is:open\"\n *   - data-suggestable-qualifiers; optional - alternatively, override\n *     fetchQualifierSuggestions and define the qualifiers in the TypeScript\n *     directly.\n *   - data-negatable-qualifiers; optional - allows you to make use of the\n *     negatableQualifiers and removeNegationFromQualifierIfSupported methods\n *   - data-action:\n *       input:your-component#updateFilterSuggestionResults\n *       focusin:your-component#updateFilterSuggestionResults\n *       focusout:delay:your-component#handleSearchBlur\n *       keydown:your-component#inputKey\n *   - data-filter-support-url; optional - if this is provided, a \"learn more\"\n *     link pointing to this URL will be added to the invalid search message\n *\n * When creating a subclass, you should also consider whether to override\n * any of the fields listed below the targets.\n */\nexport abstract class BaseFilterElement extends HTMLElement {\n  @target autocompleteDropdown: HTMLElement\n  @target autocompleteResults: HTMLElement\n  @target clearButton: HTMLButtonElement | null\n  @target searchForm: HTMLFormElement\n  @target searchInput: HTMLInputElement\n\n  showAllQualifiersIfNoneMatch = true\n  fuzzyMatchQualifiers = false\n  fuzzyMatchValues = true\n  showSubmissionOptionIfInvalidSearchTerms = false\n  suggestionsTitle = 'Available filters'\n  spaceBetweenValueAndDescription = true\n  selectorOfElementToActivateOnBlur: string | null = null\n  unqualifiedSearchTermsAlwaysValid = true\n\n  @memoize({cache: memoizeCache})\n  async cachedJSON<T>(url: RequestInfo): Promise<T> {\n    const response = await fetch(url, {\n      headers: {\n        'X-Requested-With': 'XMLHttpRequest',\n        Accept: 'application/json',\n      },\n    })\n    if (!response.ok) {\n      const responseError = new Error()\n      const statusText = response.statusText ? ` ${response.statusText}` : ''\n      responseError.message = `HTTP ${response.status}${statusText}`\n      throw responseError\n    }\n    return response.json()\n  }\n\n  // As an alternative to defining the qualifiers in the template, you can\n  // override this method to return an array of Suggestions, defined in the\n  // TypeScript itself.\n  fetchQualifierSuggestions(): Suggestion[] {\n    const attribute = 'data-suggestable-qualifiers'\n    const qualifiersJSON = this.searchInput.getAttribute(attribute)\n    if (qualifiersJSON === null) {\n      throw new Error(`\n        ${attribute} is missing from ${this.searchInput.getAttribute('data-target')}.\n        Either add it or override fetchQualifierSuggestions.\n      `)\n    }\n    return JSON.parse(qualifiersJSON)\n  }\n\n  // A list of qualifiers for which the \"-\" prefix can be used for negation\n  // The qualifier strings should not include the colon.\n  negatableQualifiers(): string[] {\n    return JSON.parse(this.searchInput.getAttribute('data-negatable-qualifiers') || '[]')\n  }\n\n  removeNegationFromQualifierIfSupported(filterInput: string) {\n    if (!filterInput.startsWith('-')) {\n      return filterInput\n    }\n\n    // eslint-disable-next-line prefer-const\n    let [qualifier, ...values] = filterInput.split(':')\n\n    const strippedQualifier = qualifier!.substring(1)\n    if (this.negatableQualifiers().includes(strippedQualifier)) {\n      qualifier = strippedQualifier\n    }\n\n    if (filterInput.includes(':')) {\n      qualifier += ':'\n    }\n\n    return values?.length > 0 ? `${qualifier}${values.join(':')}` : qualifier\n  }\n\n  // In the search \"repo:github/github\", the qualifier is \"repo\" (no colon).\n  //\n  // This method should return a Promise that resolves to an array of Suggestions\n  // that are valid for the given qualifier.\n  //\n  // The most common pattern here is to either:\n  // 1) Retrieve a hardcoded list of suggestions from a data attribute\n  // 2) Retrieve a URL from a data attribute and call this.cachedJSON\n  // to retrieve the suggestions from that.\n  //\n  // You may want to mix and match approaches depending on the qualifier passed.\n  //\n  // Don't forget to use removeNegationFromQualifierIfSupported to remove possible negation.\n  //\n  // If you're using the `UI::SuggestableSearchComponent` (which populates\n  // data-suggestable-* and data-suggestable-*-path appropriately), the\n  // base implementation of this method here should suffice.\n  fetchSuggestionsForQualifier(qualifier: string): Promise<Suggestion[]> {\n    qualifier = this.removeNegationFromQualifierIfSupported(qualifier)!\n    const suggestionAttribute = `data-suggestable-${qualifier}`\n    const suggestionPathAttribute = `data-suggestable-${qualifier}-path`\n    if (this.searchInput.hasAttribute(suggestionAttribute)) {\n      return JSON.parse(this.searchInput.getAttribute(suggestionAttribute) || '[]')\n    } else if (this.searchInput.hasAttribute(suggestionPathAttribute)) {\n      const url = this.searchInput.getAttribute(suggestionPathAttribute)\n      if (!url) throw new Error(`${suggestionPathAttribute} not set`)\n      return this.cachedJSON(url)\n    } else {\n      return Promise.resolve([])\n    }\n  }\n\n  // Hide the dropdown and disable navigation\n  hideFilterSuggestions() {\n    deactivateNavigation(this.searchForm)\n    this.autocompleteDropdown.hidden = true\n    this.searchInput.setAttribute('aria-expanded', 'false')\n    this.searchInput.removeAttribute('aria-activedescendant')\n  }\n\n  // Parses the current search query to decide what autocompletes to show\n  updateFilterSuggestionResults(): void {\n    const searchString = this.searchInput.value\n\n    // The `currentString` is the text before the cursor position up until the\n    // previous whitespace, ignoring whitespace in quoted values.\n    // e.g. in: `repo:foo/bar reason:me| blah` it will be \"reason:me\"\n    const textBeforeCursor = searchString.slice(0, this.searchInput.selectionEnd!)\n    const currentString = (textBeforeCursor.match(/\\S+?(:(?:\"[^\"]*\"|[^\\s:])+?)?$/) || [''])[0].replace(/\"/g, '')\n\n    // Make sure results are visible\n    this.autocompleteDropdown.hidden = false\n    this.searchInput.setAttribute('aria-expanded', 'true')\n\n    // Update the suggestions list\n    // If the current string has a \":\" then we are autocompleting the value,\n    // otherwise we are still autocompleting a qualifier\n    let qualifier\n    let value\n    if (currentString.includes(':')) {\n      ;[qualifier, ...value] = currentString.split(':') as [string, ...string[]]\n    } else {\n      qualifier = currentString\n    }\n\n    if (value != null) {\n      this.renderValueSuggestions(qualifier, value.join(':'))\n    } else {\n      this.renderQualifierSuggestions(qualifier)\n    }\n\n    if (\n      searchString.trim().length > 0 &&\n      (!this.invalidSearchTerms() || this.showSubmissionOptionIfInvalidSearchTerms) &&\n      !this.searchMatchesDefault()\n    ) {\n      // If it's a non-empty, valid search that doesn't match the default, show\n      // the clear button and focus on the first item in the suggestions list:\n      // the \"submit\" option to trigger the search automatically on return\n      if (this.clearButton) this.clearButton.hidden = false\n      focusNavigation(this.searchForm)\n    } else {\n      // Otherwise, hide the clear button, and enable keyboard navigation\n      // of the suggestions list, but don't highlight anything\n      if (this.clearButton) this.clearButton.hidden = true\n      activateNavigation(this.searchForm)\n    }\n  }\n\n  // handles a suggestion item being selected\n  handleSelectedSuggestionResultEvent(event: Event) {\n    const selectedSuggestion = event.target as Element\n\n    // If clicking the documentation link, open it in a new tab\n    if (selectedSuggestion.classList.contains('js-filter-input-support-url')) {\n      return\n    }\n\n    // if the user selected the \"search\" entry, just submit the search form\n    if (selectedSuggestion.hasAttribute('data-search')) {\n      requestSubmit(this.searchForm)\n      return\n    }\n\n    // otherwise, replace the currently typed string with the suggested string in the input field\n    // or append the new value if this is a multi-value search (i.e. using commas)\n    let suggestedText = selectedSuggestion.getAttribute('data-value') || ''\n    // append a space if the user did not type a qualifier:\n    if (suggestedText[suggestedText.length - 1] !== ':') {\n      suggestedText += ' '\n    }\n    const textBeforeCursor = this.searchInput.value.slice(0, this.searchInput.selectionEnd!)\n    const phraseBeforeCursor = textBeforeCursor.match(/(\\S+)$/)?.pop() || ''\n    const textAfterCursor = this.searchInput.value.slice(this.searchInput.selectionEnd!)\n    //add a space after the cursor if the user is typing in the middle of the field\n    const spacer = textAfterCursor[0] !== ' ' ? ' ' : ''\n\n    if (phraseBeforeCursor) {\n      if (phraseBeforeCursor.startsWith('-') && !suggestedText.startsWith('-')) {\n        suggestedText = `-${suggestedText}`\n      }\n      if (phraseBeforeCursor.includes(',')) {\n        const existingValues = phraseBeforeCursor.split(',')\n        existingValues.pop()\n        let suggestedValue = suggestedText.split(':').slice(1).join(':')\n        if (suggestedValue.trim().includes(' ')) {\n          suggestedValue = `\"${suggestedValue.trim()}\" `\n        }\n        existingValues.push(suggestedValue || '')\n        suggestedText = existingValues.join(',')\n      } else {\n        const existingValues = suggestedText.split(':')\n        let suggestedValue = existingValues.slice(1).join(':')\n        existingValues.pop()\n        if (suggestedValue.slice(0, -1).includes(' ')) {\n          suggestedValue = `\"${suggestedValue.slice(0, -1)}\" `\n        }\n        existingValues.push(suggestedValue || '')\n        suggestedText = existingValues.join(':')\n      }\n    }\n\n    const updatedTextBeforeCursor = textBeforeCursor.replace(/\\S+$/, '')\n    this.searchInput.value = updatedTextBeforeCursor + suggestedText + spacer + textAfterCursor\n\n    event.preventDefault()\n\n    // return focus to the input field\n    this.searchInput.focus()\n\n    // move the cursor back to just after the suggested text\n    const cursorPosition = updatedTextBeforeCursor.length + suggestedText.length\n    this.searchInput.setSelectionRange(cursorPosition, cursorPosition)\n\n    // trigger an input event so other code knows the field updated\n    fire(this.searchInput, 'input')\n  }\n\n  handleFormKeydownEvent(event: CustomEvent) {\n    if (event.detail.hotkey === 'Enter') {\n      // Don't submit if only has \"loading...\"\n      if (this.autocompleteResults.querySelector('.js-filter-loading')) {\n        return\n      }\n\n      // Don't submit if we are choosing an autocomplete suggestion\n      if (this.autocompleteResults.querySelector('.js-navigation-item.navigation-focus')) {\n        return\n      }\n\n      requestSubmit(this.searchForm)\n    }\n  }\n\n  // Clear search and refresh list of alerts when a user clicks the 'x' icon in the search bar\n  clear() {\n    this.searchInput.value = this.getDefaultSearch()\n\n    if (this.getInitialValue().trim().length === 0) {\n      // The query started off blank and has been cleared so it's blank again. Rather than reloading\n      // the page, just clear the input and refresh the display state.\n      this.updateFilterSuggestionResults()\n    } else {\n      // The query has been cleared, and the blank query is different from the active one: execute the\n      // blank query so we refresh the list of results.\n      requestSubmit(this.searchForm)\n    }\n  }\n\n  // Render autocomplete suggestions to match qualifier names from the currently typed text\n  renderQualifierSuggestions(filterString: string): void {\n    if (this.showAllQualifiersIfNoneMatch) {\n      this.renderMatchingOrAllQualifierSuggestions(filterString)\n    } else {\n      this.renderMatchingQualifierSuggestions(filterString)\n    }\n  }\n\n  handleSuggestionNavigation(event: Event) {\n    if (event.target != null) {\n      this.searchInput.setAttribute('aria-activedescendant', (event.target as Element).id)\n    }\n  }\n\n  // Render autocomplete suggestions to match qualifier names from the currently typed text\n  // or all qualifiers if none match.\n  renderMatchingOrAllQualifierSuggestions(filterString: string): void {\n    const suggestions = this.fetchQualifierSuggestions()\n    const matchingSuggestions = this.filterSuggestionsList(suggestions, filterString, {\n      fuzzy: this.fuzzyMatchQualifiers,\n    })\n      /* eslint-disable-next-line github/no-then */\n      .then(matching => {\n        // If there are no matching suggestions, just show them all\n        if (matching.length === 0) return suggestions\n        return matching\n      })\n\n    this.renderSuggestionDropdown(matchingSuggestions)\n  }\n\n  // Render autocomplete suggestions to match qualifier names from the currently typed text\n  private renderMatchingQualifierSuggestions(filterString: string): void {\n    const matchingSuggestions = this.filterSuggestionsList(this.fetchQualifierSuggestions(), filterString, {\n      fuzzy: this.fuzzyMatchQualifiers,\n    })\n    this.renderSuggestionDropdown(matchingSuggestions)\n  }\n\n  // Render autocomplete suggestions to match qualifier values from the currently typed text.\n  //\n  // qualifier - Qualifier to find value suggestions for.\n  // filterString - Filter input to filter suggestions by.\n  renderValueSuggestions(qualifier: string, filterString: string) {\n    const matchingSuggestions = this.fetchMatchingSuggestions(qualifier, filterString)\n    this.renderSuggestionDropdown(matchingSuggestions)\n  }\n\n  // Fetch value suggestions for the given qualifier.\n  //\n  // qualifier - Qualifier to fetch matching suggestions for.\n  // filterString - Filter input to filter suggestions by.\n  //\n  // Returns a list of matching suggestions, prefixed with the given qualifier.\n  async fetchMatchingSuggestions(qualifier: string, filterString: string): Promise<Suggestion[]> {\n    const suggestionsPromise = this.fetchSuggestionsForQualifier(qualifier)\n    const lastSearchTerm = filterString.split(',').pop() || ''\n    const suggestions = await this.filterSuggestionsList(suggestionsPromise, lastSearchTerm, {\n      fuzzy: this.fuzzyMatchValues,\n    })\n\n    // prepend the qualifier to each suggestion\n    return suggestions.map(suggestion => ({\n      value: `${qualifier}:${suggestion.value}`,\n      description: suggestion.description,\n    }))\n  }\n\n  // filter a (promise of a) list of suggestions by a search query\n  async filterSuggestionsList(\n    suggestionsPromise: Promise<Suggestion[]> | Suggestion[],\n    _search: string,\n    {fuzzy} = {fuzzy: true},\n  ): Promise<Suggestion[]> {\n    const suggestions = await suggestionsPromise\n    let search = _search.trim().toLowerCase()\n\n    // if the search is empty, just return all results\n    if (!search || search.length === 0) {\n      return suggestions\n    }\n\n    if (search.startsWith('-')) {\n      search = search.slice(1)\n    }\n\n    return suggestions.filter(suggestion => {\n      if (fuzzy) return suggestion.value.toLowerCase().includes(search)\n      return suggestion.value.toLowerCase().startsWith(search)\n    })\n  }\n\n  // Render a promise of suggestions into the dropdown\n  // If the suggestions haven't finished loading,  \"loading...\" will be rendered until they do\n  renderSuggestionDropdown(suggestionsPromise: Promise<Suggestion[]>): void {\n    render(\n      html`\n        <div role=\"listbox\" aria-label=\"${this.suggestionsTitle}\">\n          ${this.renderSearchWarningIfRequired()}\n          ${this.shouldRenderSubmissionOption() ? this.renderSearchSuggestion() : ''}\n          ${until(this.renderSuggestionList(suggestionsPromise), this.renderLoadingItem())}\n        </div>\n      `,\n      this.autocompleteResults,\n    )\n\n    this.postDropdownRender()\n  }\n\n  renderSearchWarningIfRequired(): TemplateResult | string {\n    const invalidTerms = this.invalidSearchTerms()\n    if (!invalidTerms || invalidTerms.length === 0) return ''\n\n    let link = html``\n    const supportURL = this.getFilterSupportURL()\n    if (supportURL) {\n      link = html`<a\n        class=\"js-navigation-item js-navigation-open js-filter-input-support-url px-1\"\n        href=\"${supportURL}\"\n        target=\"_blank\"\n      >\n        Learn more about filters.\n      </a>`\n    }\n\n    return html`\n      <div class=\"color-bg-attention color-fg-muted ml-n2 mr-n2 mt-n1 py-1 px-2 js-search-warning-container\">\n        Sorry, we don't support the <span class=\"text-bold\">${invalidTerms}</span> filter yet. ${link}\n      </div>\n    `\n  }\n\n  // The attribute retrieved here is optional, so may not be present\n  getFilterSupportURL(): string | null {\n    return this.searchInput.getAttribute('data-filter-support-url')\n  }\n\n  // Subclasses may wish to perform additional rendering after the\n  // main dropdown has rendered.\n\n  postDropdownRender(): void {}\n\n  // Renders a result (for the top of the list) that the user can select to submit the search\n  renderSearchSuggestion() {\n    const searchString = this.searchInput.value.trim()\n    if (searchString.length === 0) {\n      return html``\n    }\n\n    // don't prompt users to submit a searchString containing a qualifier with no value\n    // but allow them to submit if the searchString includes a value with an additional ':' at the end\n    if (/:\\s|:$/g.test(searchString)) {\n      if (!/(?:\\w+:){2,}/g.test(searchString)) return html``\n    }\n\n    return html`\n      <div\n        id=\"${this.getComponentTagName()}-search-submit-option\"\n        class=\"border-bottom-0 rounded-2 py-1 px-2 mx-0 mb-1 js-navigation-item\"\n        data-action=\"navigation:focus:${this.getComponentTagName()}#handleSuggestionNavigation\"\n        data-search=\"true\"\n        role=\"option\"\n      >\n        <span class=\"text-bold\">${searchString}</span> - submit\n      </div>\n    `\n  }\n\n  // Returns a string of all invalid search terms in the current query\n  // For example 'invalid1 invalid2'. If no terms are invalid, return\n  // null or the empty string.\n  //\n  // If the concept of an invalid term is not relevant, just return null.\n  invalidSearchTerms(): string | null {\n    const validQualifiers = this.fetchQualifierSuggestions().map(q => q.value)\n    // Matches qualifiers such as \"risk:\", \"enabled:\", \"not-enabled:\", \"is:\", \"sort:\", \"archived:\"\n    const qualifierRegex = new RegExp(/[^\\s:]+:/)\n    // Matches any strings that are in quotes, including escaped quotes, note that within the quotes,\n    // spaces are allowed.\n    const quotedStringRegex = new RegExp(/\"(?:\\\\\"|.)*?\"/)\n    // Matches a qualifier followed by a value, such as 'risk:high' or 'team:\"my team\"'\n    const qualifiedSearchTerm = new RegExp(`${qualifierRegex.source}(?:${quotedStringRegex.source}|[^\\\\s]*)`)\n    // Matches a search term that is not a qualifier, such as \"repo-name\"\n    const unqualifiedSearchTermRegex = new RegExp(/[^\\s]+/)\n\n    const searchTermsRegex = new RegExp(`${qualifiedSearchTerm.source}|${unqualifiedSearchTermRegex.source}`, 'g')\n\n    const parts = this.searchInput.value.match(searchTermsRegex) || []\n\n    const invalidParts = parts.filter(part => {\n      part = this.removeNegationFromQualifierIfSupported(part)!\n      const colonIndex = part.indexOf(':')\n\n      if (colonIndex === -1) {\n        if (this.unqualifiedSearchTermsAlwaysValid) {\n          return null\n        } else {\n          // Assume valid only if any of the valid qualifiers start with what's typed so far\n          return !validQualifiers.some(validQualifier => validQualifier.startsWith(part))\n        }\n      } else {\n        const typedQualifier = part.substr(0, colonIndex + 1)\n        return !validQualifiers.some(validQualifier => validQualifier === typedQualifier)\n      }\n    })\n\n    if (invalidParts.length === 0) {\n      return null\n    }\n\n    return invalidParts.join(' ')\n  }\n\n  searchMatchesDefault(): boolean {\n    const sortedSearchInput = this.searchInput.value.trim().split(' ').sort()\n    const sortedDefaultSearch = this.getDefaultSearch().trim().split(' ').sort()\n    return (\n      sortedSearchInput.length === sortedDefaultSearch.length &&\n      sortedSearchInput.every((value, index) => value === sortedDefaultSearch[index])\n    )\n  }\n\n  // The query value at the time of page-load\n  getInitialValue(): string {\n    return this.getDataAttributeOrThrow('data-initial-value')\n  }\n\n  getComponentTagName(): string {\n    return this.tagName.toLowerCase()\n  }\n\n  // The value that should be put into the search input when the user\n  // clears the search. Often this will be the empty string, but some\n  // filters enforce that certain qualifiers are present.\n  getDefaultSearch(): string {\n    return this.getDataAttributeOrThrow('data-default-value')\n  }\n\n  getDataAttributeOrThrow(attribute: string): string {\n    const value = this.searchInput.getAttribute(attribute)\n    if (value === null) {\n      throw new Error(`${attribute} is missing from search input`)\n    }\n    return value\n  }\n\n  // Renders a title like \"Narrow your search\" in the dropdown\n  // aria-hidden=\"true\" is used to prevent screenreaders counting this\n  // title as a selectable item in the list when it isn't.\n  renderSuggestionsTitle() {\n    return html`<p\n      class=\"h6 width-full text-normal border-bottom color-bg-default color-fg-muted py-2 mb-2\"\n      aria-hidden=\"true\"\n    >\n      ${this.suggestionsTitle}\n    </p>`\n  }\n\n  // Renders a list of suggestions for the dropdown.\n  async renderSuggestionList(_suggestions: Promise<Suggestion[]>) {\n    const suggestions = await _suggestions\n\n    const suggestionsHTML = suggestions.map(\n      (suggestion, index) => html`\n        <div\n          class=\"border-bottom-0 rounded-2 py-1 px-2 mx-0 mb-1 js-navigation-item\"\n          data-value=\"${suggestion.value}\"\n          data-action=\"navigation:focus:${this.getComponentTagName()}#handleSuggestionNavigation\"\n          aria-label=\"${suggestion.value} ${suggestion.description}\"\n          id=\"${this.getComponentTagName()}-suggestion-${index}\"\n          role=\"option\"\n        >\n          <span class=\"text-bold\">${suggestion.value}</span>${this.spaceBetweenValueAndDescription ? ' ' : ''}<span\n            class=\"autocomplete-text-qualifier color-fg-muted\"\n            >&nbsp;${suggestion.description}</span\n          >\n          ${suggestion.isAlpha && this.alphaTag} ${suggestion.isBeta && this.betaTag}\n          ${suggestion.isNew ? this.newTag : ''}\n        </div>\n      `,\n    )\n\n    if (suggestionsHTML.length) {\n      suggestionsHTML.unshift(this.renderSuggestionsTitle())\n    }\n\n    return suggestionsHTML\n  }\n\n  renderLoadingItem() {\n    return html`\n      ${this.renderSuggestionsTitle()}\n      <span class=\"js-filter-loading\">loading...</span>\n    `\n  }\n\n  handleSearchBlur() {\n    this.hideFilterSuggestions()\n\n    if (this.selectorOfElementToActivateOnBlur) {\n      activateNavigation(document.querySelector<HTMLElement>(this.selectorOfElementToActivateOnBlur))\n    }\n  }\n\n  inputKey(event: KeyboardEvent) {\n    // We can't use data-hotkey since there's no corresponding UI element\n    // Related discussion: https://github.com/github/code-scanning/issues/4960\n    /* eslint eslint-comments/no-use: off */\n    /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n    if (event.key === 'Escape') {\n      this.handleSearchBlur()\n    }\n    /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n  }\n\n  shouldRenderSubmissionOption(): boolean {\n    return this.showSubmissionOptionIfInvalidSearchTerms || !this.invalidSearchTerms()\n  }\n\n  static tagFn(name: string) {\n    return html`<span class=\"lh-condensed px-1 rounded-2 border color-border-success\">${name}</span>`\n  }\n\n  alphaTag = BaseFilterElement.tagFn('Alpha')\n  betaTag = BaseFilterElement.tagFn('Beta')\n  newTag = html`<span class=\"Label ml-1 Label--accent color-bg-default float-right\">New</span>`\n}\n","type ScrollToOptions = {\n  top: number\n  left?: number\n}\n\nexport default function scrollTo(targetContainer: HTMLElement, options: ScrollToOptions) {\n  let container: Node = targetContainer\n  const document = targetContainer.ownerDocument\n\n  if (\n    container === document ||\n    /* eslint-disable-next-line @typescript-eslint/ban-ts-comment */\n    // @ts-ignore - Suppress TS2367 error that I don't trust\n    container === document.defaultView ||\n    container === document.documentElement ||\n    container === document.body\n  ) {\n    container = document\n  }\n\n  const Document = document.defaultView!.Document\n\n  if (container instanceof Document) {\n    const top = options.top != null ? options.top : document.defaultView!.pageYOffset\n    const left = options.left != null ? options.left : document.defaultView!.pageXOffset\n    document.defaultView!.scrollTo(left, top)\n    return\n  }\n\n  const HTMLElement = document.defaultView!.HTMLElement\n\n  if (!(container instanceof HTMLElement)) {\n    throw new Error('invariant')\n  }\n\n  container.scrollTop = options.top\n  if (options.left != null) {\n    container.scrollLeft = options.left\n  }\n}\n","// Navigation Behavior\n//\n// Provides basic cursor, vi and emacs keyboard navigation. As well as\n// mouseover selection.\n//\n// item Element with .js-navigation-item. The current focused\n//            item is denoted with the .navigation-focus class.\n// container Element with .js-navigation-container class name.\n//                 Contains item elements. The active container is denoted\n//                 by the .js-active-navigation-container class.\n//\n// The .js-active-navigation-container class can be part of the html or\n// added programmatically with navigation('focus'). Making it part of\n// the template will automatically activate it without any extra JS.\n// Just make sure its the only active container on the page.\n//\n// li.navigation-focus { background: yellow; }\n//\n// <ul class=\"js-navigation-container js-active-navigation-container\">\n//   <li class=\"js-navigation-item\"><a href=\"\">One</a></li>\n//   <li class=\"js-navigation-item\"><a href=\"\">Two</a></li>\n//   <li class=\"js-navigation-item\"><a href=\"\">Three</a></li>\n// </ul>\n//\n// Methods\n//\n// .navigation('active')\n//\n// Returns current active container.\n//\n// .navigation('activate')\n//\n// Activates navigation container.\n//\n// .navigation('deactivate')\n//\n// Deactivates navigation container.\n//\n// .navigation('push')\n//\n// Activates navigation container and push it onto a stack.\n//\n// .navigation('pop')\n//\n// Deactivates navigation container and remove it from stack. Then\n// activate the previous container on the top of the stack.\n//\n// .navigation('focus')\n//\n// Activates navigation container and focus first item.\n//\n// .navigation('clear')\n//\n// Removes current focus.\n//\n// .navigation('refocus')\n//\n// Removes current focus and focuses on the first item.\n//\n//\n// Events\n//\n// navigation:focus\n//\n// Bubbles Yes\n// Cancelable Yes\n// Default action Focus navigation item\n// Target .js-navigation-item Element\n//\n// navigation:keydown\n//\n// Bubbles Yes\n// Cancelable Yes\n// Default action Deactivate navigation\n// Target .js-navigation-item or .js-navigation-container Element\n// Context info\n//   * originalEvent - keydown event\n//   * relatedTarget - .js-navigation-container Element\n//\n// navigation:keyopen\n//\n// Bubbles Yes\n// Cancelable No\n// Target .js-navigation-item Element\n// Context info\n//   * modifierKey - Boolean for ctrl or command modifier key\n//\n// navigation:open\n//\n// Bubbles Yes\n// Cancelable Yes\n// Target .js-navigation-item Element\n// Context info\n//   * modifierKey - Boolean for ctrl or command modifier key\n//\n\nimport {compose, fromEvent} from '@github-ui/subscription'\n// eslint-disable-next-line no-restricted-imports\nimport {fire, on} from 'delegated-events'\nimport {overflowOffset, overflowParent, positionedOffset} from '@primer/behaviors'\nimport {eventToHotkeyString} from '@github-ui/hotkey'\nimport {isShortcutAllowed} from '@github-ui/hotkey/keyboard-shortcuts-helper'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\nimport scrollTo from './scrollto'\nimport visible from './visible'\n\nconst ctrlBindings = navigator.userAgent.match(/Macintosh/)\nconst modifierKey = ctrlBindings ? 'metaKey' : 'ctrlKey'\nconst hotkeyModifier = ctrlBindings ? 'Meta' : 'Control'\n\nlet disableMouseEvents = false\nlet mousePosition = {\n  x: 0,\n  y: 0,\n}\n\ntype ScrollBehavior = 'auto' | 'smooth'\n\n// Binds mouseover handlers on navigation containers.\n//\n// This is an optimization to avoid adding a global mouseover to document.\nobserve('.js-navigation-container:not(.js-navigation-container-no-mouse)', {\n  subscribe: el =>\n    compose(fromEvent(el, 'mouseover', onContainerMouseMove), fromEvent(el, 'mouseover', onContainerMouseOver)),\n})\n\n// Tracks last mouse position inside container.\nfunction onContainerMouseMove(event: Event) {\n  if (!(event instanceof MouseEvent)) return\n  if (mousePosition.x !== event.clientX || mousePosition.y !== event.clientY) {\n    disableMouseEvents = false\n  }\n  mousePosition = {\n    x: event.clientX,\n    y: event.clientY,\n  }\n}\n\nfunction onContainerMouseOver(event: Event) {\n  if (disableMouseEvents) {\n    return\n  }\n  const container = event.currentTarget\n  const {target} = event\n  if (\n    !(target instanceof Element) ||\n    !(container instanceof HTMLElement) ||\n    !container.closest('.js-active-navigation-container')\n  ) {\n    return\n  }\n  const item = target.closest('.js-navigation-item')\n  if (item) focusItem(item, container)\n}\n\nlet count = 0\nobserve('.js-active-navigation-container', {\n  add() {\n    count++\n    if (count === 1) document.addEventListener('keydown', fireCustomKeydown)\n  },\n  remove() {\n    count--\n    if (count === 0) document.removeEventListener('keydown', fireCustomKeydown)\n  },\n})\n\n// Dispatches custom events from focused items.\n//\n// It also makes it easy to bind custom hotkeys to focused items.\nfunction fireCustomKeydown(event: KeyboardEvent) {\n  if (\n    event.target !== document.body &&\n    event.target instanceof HTMLElement &&\n    !event.target.classList.contains('js-navigation-enable')\n  ) {\n    return\n  }\n\n  disableMouseEvents = true\n\n  const container = getActiveContainer()\n  let dispatched = false\n\n  if (container) {\n    const target = container.querySelector('.js-navigation-item.navigation-focus') || container\n    dispatched = fire(target, 'navigation:keydown', {\n      hotkey: eventToHotkeyString(event),\n      originalEvent: event,\n      originalTarget: event.target,\n    })\n  }\n\n  if (!dispatched) {\n    event.preventDefault()\n  }\n}\n\non('navigation:keydown', '.js-active-navigation-container', function (event) {\n  const container = event.currentTarget as HTMLElement\n  const isInput = event.detail.originalTarget.matches('input, textarea')\n  const item = event.target as HTMLElement\n\n  if (!isShortcutAllowed(event.detail.originalEvent)) return\n\n  if (item.classList.contains('js-navigation-item')) {\n    if (isInput) {\n      if (ctrlBindings) {\n        switch (eventToHotkeyString(event.detail.originalEvent)) {\n          case 'Control+n':\n            cursorDown(item, container)\n            break\n          case 'Control+p':\n            cursorUp(item, container)\n        }\n      }\n      switch (eventToHotkeyString(event.detail.originalEvent)) {\n        case 'ArrowUp':\n          cursorUp(item, container)\n          break\n        case 'ArrowDown':\n          cursorDown(item, container)\n          break\n        case 'Enter':\n        case `${hotkeyModifier}+Enter`:\n          keyOpen(item, event.detail.originalEvent[modifierKey])\n          break\n      }\n    } else {\n      if (ctrlBindings) {\n        switch (eventToHotkeyString(event.detail.originalEvent)) {\n          case 'Control+n':\n            cursorDown(item, container)\n            break\n          case 'Control+p':\n            cursorUp(item, container)\n            break\n          case 'Alt+v':\n            pageUp(item, container)\n            break\n          case 'Control+v':\n            pageDown(item, container)\n        }\n      }\n      switch (eventToHotkeyString(event.detail.originalEvent)) {\n        case 'j':\n        case 'J':\n          cursorDown(item, container)\n          break\n        case 'k':\n        case 'Shift+K':\n          cursorUp(item, container)\n          break\n        case 'o':\n        case 'Enter':\n        case `${hotkeyModifier}+Enter`:\n          keyOpen(item, event.detail[modifierKey])\n          break\n      }\n    }\n  } else {\n    const firstItem = getItems(container)[0]\n    if (firstItem) {\n      if (isInput) {\n        if (ctrlBindings) {\n          switch (eventToHotkeyString(event.detail.originalEvent)) {\n            case 'Control+n':\n              focusItem(firstItem, container)\n          }\n        }\n        switch (eventToHotkeyString(event.detail.originalEvent)) {\n          case 'ArrowDown':\n            focusItem(firstItem, container)\n        }\n      } else {\n        if (ctrlBindings) {\n          switch (eventToHotkeyString(event.detail.originalEvent)) {\n            case 'Control+n':\n            case 'Control+v':\n              focusItem(firstItem, container)\n          }\n        }\n        switch (eventToHotkeyString(event.detail.originalEvent)) {\n          case 'j':\n            focusItem(firstItem, container)\n        }\n      }\n    }\n  }\n\n  if (isInput) {\n    if (ctrlBindings) {\n      switch (eventToHotkeyString(event.detail.originalEvent)) {\n        case 'Control+n':\n        case 'Control+p':\n          event.preventDefault()\n      }\n    }\n    switch (eventToHotkeyString(event.detail.originalEvent)) {\n      case 'ArrowUp':\n      case 'ArrowDown':\n        event.preventDefault()\n        break\n      case 'Enter':\n        event.preventDefault()\n    }\n  } else {\n    if (ctrlBindings) {\n      switch (eventToHotkeyString(event.detail.originalEvent)) {\n        case 'Control+n':\n        case 'Control+p':\n        case 'Control+v':\n        case 'Alt+v':\n          event.preventDefault()\n      }\n    }\n    switch (eventToHotkeyString(event.detail.originalEvent)) {\n      case 'j':\n      case 'k':\n      case 'o':\n        event.preventDefault()\n        break\n      case 'Enter':\n      case `${modifierKey}+Enter`:\n        event.preventDefault()\n    }\n  }\n})\n\n// Fire custom navigation:open event.\n//\n// Examples:\n//\n// on('navigation:open', '.listings .listing', function() {\n//   window.location = this.querySelector('a').getAttribute('href')\n// }).\nfunction fireOpen(\n  event: Event & {modifierKey?: boolean; altKey?: boolean; ctrlKey?: boolean; metaKey?: boolean; shiftKey?: boolean},\n) {\n  /* eslint eslint-comments/no-use: off */\n  /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n  const modifier = event.modifierKey || event.altKey || event.ctrlKey || event.metaKey\n  const dispatched = fire(event.currentTarget as Element, 'navigation:open', {\n    modifierKey: modifier,\n    shiftKey: event.shiftKey,\n  })\n  /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n\n  if (!dispatched) {\n    event.preventDefault()\n  }\n}\n\n// Open the item on click.\non('click', '.js-active-navigation-container .js-navigation-item', function (event) {\n  fireOpen(event)\n})\n\n// Handle keydown open events.\non('navigation:keyopen', '.js-active-navigation-container .js-navigation-item', function (event) {\n  const a = event.currentTarget.classList.contains('js-navigation-open')\n    ? event.currentTarget\n    : event.currentTarget.querySelector('.js-navigation-open')\n  if (a instanceof HTMLAnchorElement) {\n    if (event.detail.modifierKey) {\n      window.open(a.href, '_blank')\n      window.focus()\n    } else {\n      const clicked = a.dispatchEvent(\n        new MouseEvent('click', {\n          bubbles: true,\n          cancelable: true,\n        }),\n      )\n      if (clicked) {\n        a.click()\n      }\n    }\n    event.preventDefault()\n  } else {\n    fireOpen(event)\n  }\n})\n\n// Make container active by adding the js-active-navigation-container class to it.\nexport function activate(container: Element | null) {\n  const activeContainer = getActiveContainer()\n  if (container !== activeContainer) {\n    if (activeContainer !== null) deactivate(activeContainer)\n    container?.classList.add('js-active-navigation-container')\n  }\n}\n\n// Remove active id from container.\nexport function deactivate(container: Element) {\n  container.classList.remove('js-active-navigation-container')\n}\n\nconst containerStack: Element[] = []\n\n// Active container and push previous onto a stack.\nexport function push(container: HTMLElement) {\n  const activeContainer = getActiveContainer()\n  if (activeContainer) {\n    containerStack.push(activeContainer)\n  }\n  activate(container)\n}\n\n// Deactivate container and activate the next on the stack.\nexport function pop(container: Element) {\n  deactivate(container)\n  clear(container)\n\n  const activeContainer = containerStack.pop()\n  if (activeContainer) {\n    activate(activeContainer)\n  }\n}\n\n// Active the container and focus on the target or first element.\nexport function focus(container: HTMLElement, targetElement?: HTMLElement) {\n  const target = targetElement || container\n\n  const firstItem = getItems(container)[0]\n  const item = target.closest('.js-navigation-item') || firstItem\n\n  activate(container)\n\n  if (item instanceof HTMLElement) {\n    const focusPrevented = focusItem(item, container)\n    if (focusPrevented) {\n      return\n    }\n    const parent = overflowParent(item)\n    scrollItemTo(parent!, item)\n  }\n}\n\n// Clear current focus.\nexport function clear(container: Element) {\n  const elements = container.querySelectorAll('.js-navigation-item.navigation-focus')\n  for (const element of elements) {\n    element.classList.remove('navigation-focus')\n  }\n}\n\n// Clear current focus and focus on the target or first element.\nexport function refocus(container: HTMLElement, target?: HTMLElement) {\n  clear(container)\n  focus(container, target)\n}\n\n// Select the previous item and scroll to it if its off screen.\nfunction cursorUp(item: HTMLElement, container: HTMLElement) {\n  const items = getItems(container)\n  const index = items.indexOf(item)\n  const previous = items[index - 1]\n  if (previous) {\n    const focusPrevented = focusItem(previous, container)\n    if (focusPrevented) {\n      return\n    }\n\n    const overflowParentEl = overflowParent(previous)\n    if (getScrollStyle(container) === 'page') {\n      scrollPageTo(overflowParentEl!, previous)\n    } else {\n      scrollItemTo(overflowParentEl!, previous)\n    }\n  }\n}\n\n// Select the next item and scroll to it if its off screen.\nfunction cursorDown(item: HTMLElement, container: HTMLElement) {\n  const items = getItems(container)\n  const index = items.indexOf(item)\n  const next = items[index + 1]\n\n  if (next) {\n    const focusPrevented = focusItem(next, container)\n    if (focusPrevented) {\n      return\n    }\n\n    const overflowParentEl = overflowParent(next)\n    if (getScrollStyle(container) === 'page') {\n      scrollPageTo(overflowParentEl!, next)\n    } else {\n      scrollItemTo(overflowParentEl!, next)\n    }\n  }\n}\n\n// Scrolls up to the previous item that is above the viewport.\nfunction pageUp(item: HTMLElement, container: HTMLElement) {\n  const items = getItems(container)\n  let index = items.indexOf(item)\n  const overflowParentEl = overflowParent(item)\n\n  if (overflowParentEl == null) {\n    return\n  }\n\n  let previous\n  let dimension\n  while (\n    (previous = items[index - 1]) &&\n    (dimension = overflowOffset(previous, overflowParentEl)) &&\n    dimension.top >= 0\n  ) {\n    index--\n  }\n\n  if (previous) {\n    const focusPrevented = focusItem(previous, container)\n    if (focusPrevented) {\n      return\n    }\n\n    scrollPageTo(overflowParentEl, previous)\n  }\n}\n\n// Scrolls down to the next item that is below the viewport.\nfunction pageDown(item: HTMLElement, container: HTMLElement) {\n  const items = getItems(container)\n  let index = items.indexOf(item)\n  const overflowParentEl = overflowParent(item)\n\n  if (overflowParentEl == null) {\n    return\n  }\n\n  let next\n  let dimension\n  while ((next = items[index + 1]) && (dimension = overflowOffset(next, overflowParentEl)) && dimension.bottom >= 0) {\n    index++\n  }\n\n  if (next) {\n    const focusPrevented = focusItem(next, container)\n    if (focusPrevented) {\n      return\n    }\n    scrollPageTo(overflowParentEl, next)\n  }\n}\n\n// Handle opening item from keyboard.\n//\n// Hitting o or enter on a item will call this method.\nfunction keyOpen(item: Element, modifier = false) {\n  fire(item, 'navigation:keyopen', {\n    modifierKey: modifier,\n  })\n}\n\nfunction focusItem(target: Element, container: Element): boolean {\n  if (fire(target, 'navigation:focus')) {\n    clear(container)\n    target.classList.add('navigation-focus')\n\n    return false\n  } else {\n    return true\n  }\n}\n\nfunction getActiveContainer() {\n  return document.querySelector('.js-active-navigation-container')\n}\n\nfunction getItems(container: Element): HTMLElement[] {\n  const items = []\n  for (const element of container.querySelectorAll('.js-navigation-item')) {\n    if (element instanceof HTMLElement && visible(element)) {\n      items.push(element)\n    }\n  }\n\n  return items\n}\n\nfunction getScrollStyle(container: HTMLElement): string {\n  return container.getAttribute('data-navigation-scroll') || 'item'\n}\n\nfunction scrollPageTo(container: HTMLElement, element: HTMLElement, behavior: ScrollBehavior = 'smooth') {\n  const overflow = overflowOffset(element, container)\n  if (!overflow) return\n\n  if (overflow.bottom <= 0) {\n    element.scrollIntoView({behavior, block: 'start'})\n  } else if (overflow.top <= 0) {\n    element.scrollIntoView({behavior, block: 'end'})\n  }\n}\n\nfunction scrollItemTo(container: HTMLElement, element: HTMLElement) {\n  const position = positionedOffset(element, container)\n  const overflow = overflowOffset(element, container)\n\n  if (position == null || overflow == null) {\n    return\n  }\n\n  if (overflow.bottom <= 0 && document.body) {\n    const scrollHeight = container.offsetParent != null ? container.scrollHeight : document.body.scrollHeight\n    const scrollTop = scrollHeight - (position.bottom + overflow.height!)\n    scrollTo(container, {\n      top: scrollTop,\n    })\n  } else if (overflow.top <= 0) {\n    scrollTo(container, {\n      top: position.top,\n    })\n  }\n}\n","// Due to the way `visible` is implemented, it causes the browser to\n// perform a full page reflow, it lays out all elements again, when called. This\n// is one of the most time consuming operations the browser can perform, so it\n// affects perceived page load times.\n//\n// The preferred way to determine element visibility is check for the presence\n// of the `hidden` attribute: `if (el.hidden) ...` and `el.hidden = false`.\n//\n// More info: https://github.com/github/eslint-plugin-github/blob/master/docs/rules/no-d-none.md.\n//\n// We would ideally like to remove the `visible` function and consistently\n// use the `hidden` attribute.\n//\n// Returns true if the element is hidden.\nfunction hidden(element: HTMLElement): boolean {\n  return element.offsetWidth <= 0 && element.offsetHeight <= 0\n}\n\nexport default function visible(element: HTMLElement): boolean {\n  return !hidden(element)\n}\n","import {persistSubmitButtonValue} from './remote-submit'\n\ntype TextField = HTMLInputElement | HTMLTextAreaElement\ntype Button = HTMLInputElement | HTMLButtonElement\n\nfunction fire(target: HTMLElement, name: string, cancelable: boolean): boolean {\n  return target.dispatchEvent(\n    new CustomEvent(name, {\n      bubbles: true,\n      cancelable,\n    }),\n  )\n}\n\n// Submit a form while ensuring that `submit` event is also triggered.\n//\n// Calling native `form.submit()` method immediately submits the form without triggering the `submit` event.\n// As a result, code that wants to hook into form submits would never execute.\n//\n// This method first triggers the `submit` event and, if that event wasn't `preventDefault`d, submits the\n// form natively.\nexport function requestSubmit(form: HTMLFormElement, submitter?: Button) {\n  if (submitter) {\n    checkButtonValidity(form, submitter)\n    persistSubmitButtonValue(submitter)\n  }\n  if (fire(form, 'submit', true)) {\n    form.submit()\n  }\n}\n\n// Check submitter validity for form.requestSubmit compatibility.\n// See https://html.spec.whatwg.org/#dom-form-requestsubmit.\nfunction checkButtonValidity(form: HTMLFormElement, submitter: Button) {\n  if (!(form instanceof HTMLFormElement)) throw new TypeError('The specified element is not of type HTMLFormElement.')\n  if (!(submitter instanceof HTMLElement)) throw new TypeError('The specified element is not of type HTMLElement.')\n  if (submitter.type !== 'submit') throw new TypeError('The specified element is not a submit button.')\n  if (!form || form !== submitter.form) throw new Error('The specified element is not owned by the form element.')\n}\n\n// Set a form field value while ensuring that `change` event is also triggered.\n//\n// Having the `change` event fire is important for various behaviors to react, such as form validation.\nexport function changeValue(input: TextField, value: string | boolean) {\n  if (typeof value === 'boolean') {\n    if (input instanceof HTMLInputElement) {\n      input.checked = value\n    } else {\n      throw new TypeError('only checkboxes can be set to boolean value')\n    }\n  } else {\n    if (input.type === 'checkbox') {\n      throw new TypeError(\"checkbox can't be set to string value\")\n    } else {\n      input.value = value\n    }\n  }\n  fire(input, 'change', false)\n}\n\n// Fill multiple form fields by item name.\nexport function fillFormValues(form: HTMLFormElement, fields: {[key: string]: string}) {\n  for (const name in fields) {\n    const value = fields[name]\n    const element = form.elements.namedItem(name)\n\n    if (element instanceof HTMLInputElement) {\n      element.value = value!\n    } else if (element instanceof HTMLTextAreaElement) {\n      element.value = value!\n    }\n  }\n}\n\n// Test if element is a form field.\nexport function isFormField(element: Node): boolean {\n  if (!(element instanceof HTMLElement)) {\n    return false\n  }\n\n  const name = element.nodeName.toLowerCase()\n  const type = (element.getAttribute('type') || '').toLowerCase()\n  return (\n    name === 'select' ||\n    name === 'textarea' ||\n    (name === 'input' && type !== 'submit' && type !== 'reset') ||\n    element.isContentEditable\n  )\n}\n\nfunction searchParamsFromFormData(formData: FormData): URLSearchParams {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return new URLSearchParams(formData as any)\n}\n\n// Get a `?` search string for a URL for a GET form, using its `action` attribute as well as its other fields.\nexport function combineGetFormSearchParams(formAction: URL, formData: FormData): string {\n  const allSearchParams = new URLSearchParams(formAction.search)\n  const searchParamsFromInputs = searchParamsFromFormData(formData)\n  for (const [key, value] of searchParamsFromInputs) {\n    allSearchParams.append(key, value)\n  }\n  return allSearchParams.toString()\n}\n\n// Serialize form data into string.\nexport function serialize(form: HTMLFormElement): string {\n  return searchParamsFromFormData(new FormData(form)).toString()\n}\n","// Emulates submit button submission values by inserting a hidden input to the form.\n//\n// Submit events can be triggerd in the following ways:\n// - User clicks on a submit button.\n// - User press Enter when focusing on a form field; also known as \"implicit submission\".\n// - Programmatically via requestSubmit helper.\n//\n// On GitHub.com, the submission is either handled by the browser or remoteForm.\n//\n// For submissions triggered by user actions, the name and value of the clicked submit button (also known as\n// \"the submitter\") is passed along in the request, and can be programmatically retrieved with FormData.entries().\n//\n// However, this value will be lost in the following cases:\n// - 1. When the submitter button is disabled, most commonly by [data-disable-with].\n// - 2. When submitting via requestSubmit (from form.js), because the submission does not originated from a submitter.\n// - 3. When submitting with remoteForm, because FormData(form).entries() does not know about the submitter. In Safari\n// the submitter is known during the submission steps, but this behavior is not supported in any other browsers.\n//\n// @see {@link https://github.com/github/form-data-entries/pull/7}.\n//\n// For the exact workarounds, refer to ./form.js and ./remote.js.\nexport function persistSubmitButtonValue(button: HTMLButtonElement | HTMLInputElement) {\n  const form = button.closest('form')\n  if (!(form instanceof HTMLFormElement)) {\n    return\n  }\n\n  let input = findPersistedSubmitButtonValue(form)\n\n  if (button.name) {\n    const defaultValue = button.matches('input[type=submit]') ? 'Submit' : ''\n    const value = button.value || defaultValue\n    if (!input) {\n      input = document.createElement('input')\n      input.type = 'hidden'\n      input.classList.add('js-submit-button-value')\n      form.prepend(input)\n    }\n    input.name = button.name\n    input.value = value\n  } else if (input) {\n    input.remove()\n  }\n}\n\nexport function findPersistedSubmitButtonValue(form: HTMLFormElement): HTMLInputElement | null {\n  const input = form.querySelector('input.js-submit-button-value')\n  return input instanceof HTMLInputElement ? input : null\n}\n","import {isFeatureEnabled} from '@github-ui/feature-flags'\nimport {eventToHotkeyString} from './hotkey'\n\n/** Returns false if a user has explicitly disabled character key shortcuts. */\nexport const areCharacterKeyShortcutsEnabled = () => {\n  const keyboardShortcutsPreference = document.querySelector<HTMLMetaElement>(\n    'meta[name=keyboard-shortcuts-preference]',\n  )\n  if (keyboardShortcutsPreference) {\n    return keyboardShortcutsPreference.content === 'all'\n  }\n  return true\n}\n\n/**\n * Character-key shortcuts are implemented only with lowercase characters (\"g\", \"g f\"), uppercase characters (\"Shift+A\", \"a\"),\n * symbols (\"Alt+g\"), and punctuation (\"?\", \"!\", \"/\").\n *\n * Returns true if string is NOT what we define as a character key shortcut.\n */\nexport const isNonCharacterKeyShortcut = (hotkey: string) => {\n  return /Enter|Arrow|Escape|Meta|Control|Esc/.test(hotkey) || (hotkey.includes('Alt') && hotkey.includes('Shift'))\n}\n\nconst nonEditableInputTypes = new Set([\n  'button',\n  'checkbox',\n  'color',\n  'file',\n  'hidden',\n  'image',\n  'radio',\n  'range',\n  'reset',\n  'submit',\n])\n\n/**\n * Returns true if `element` is editable - that is, if it can be focused and typed in like an input or textarea.\n */\nexport function isEditableElement(target: EventTarget | null): boolean {\n  if (!(target instanceof HTMLElement)) return false\n\n  const name = target.nodeName.toLowerCase()\n  const type = target.getAttribute('type')?.toLowerCase() ?? 'text'\n\n  const isReadonly =\n    target.ariaReadOnly === 'true' ||\n    target.getAttribute('aria-readonly') === 'true' ||\n    target.getAttribute('readonly') !== null\n\n  return (\n    (name === 'select' ||\n      name === 'textarea' ||\n      (name === 'input' && !nonEditableInputTypes.has(type)) ||\n      target.isContentEditable) &&\n    !isReadonly\n  )\n}\n\n/**\n * Returns false if a user settings has character key shortcut disabled and keyboard event corresponds to a character\n * key shortcut. Character key shortcuts are never enabled on editable form inputs.\n */\nexport const isShortcutAllowed = (event: KeyboardEvent) => {\n  const hotkey = eventToHotkeyString(event)\n\n  const disallowCharKeyShortcutsBecauseEditable =\n    isEditableElement(event.target) && isFeatureEnabled('no_character_key_shortcuts_in_inputs')\n\n  const allowCharacterKeyShortcuts = areCharacterKeyShortcutsEnabled() && !disallowCharKeyShortcutsBecauseEditable\n\n  return isNonCharacterKeyShortcut(hotkey) || allowCharacterKeyShortcuts\n}\n","// TODO: Research replacing this module with a composable observable library.\n// The scope of this module simply returns a finalized subscription object.\n\n// Lightweight TC39 observable Subscription.\nexport class Subscription {\n  constructor(cleanup: () => void) {\n    this.closed = false\n    this.unsubscribe = () => {\n      cleanup()\n      this.closed = true\n    }\n  }\n\n  // A boolean value indicating whether the subscription is closed.\n  closed: boolean\n  // Cancels the subscription.\n  unsubscribe: () => void\n}\n\n// Create a Subscription from an event.\nexport function fromEvent(\n  target: EventTarget,\n  eventName: string,\n  onNext: EventListenerOrEventListenerObject,\n  options: AddEventListenerOptions = {capture: false},\n): Subscription {\n  target.addEventListener(eventName, onNext, options)\n  return new Subscription(() => {\n    target.removeEventListener(eventName, onNext, options)\n  })\n}\n\n// Combine several subscriptions into a single subscription.\n//\n// subscriptions - A list of subscriptions to combine.\n//\n// Returns a single, combined, subscription.\nexport function compose(...subscriptions: Subscription[]): Subscription {\n  return new Subscription(() => {\n    for (const subscription of subscriptions) {\n      subscription.unsubscribe()\n    }\n  })\n}\n"],"names":["memoizeCache","Map","BaseFilterElement","HTMLElement","cachedJSON","url","response","fetch","headers","Accept","ok","responseError","statusText","message","status","json","fetchQualifierSuggestions","attribute","qualifiersJSON","searchInput","getAttribute","JSON","parse","negatableQualifiers","removeNegationFromQualifierIfSupported","filterInput","startsWith","qualifier","values","split","strippedQualifier","substring","includes","length","join","fetchSuggestionsForQualifier","suggestionAttribute","suggestionPathAttribute","hasAttribute","Promise","resolve","hideFilterSuggestions","deactivateNavigation","searchForm","autocompleteDropdown","hidden","setAttribute","removeAttribute","updateFilterSuggestionResults","value","searchString","textBeforeCursor","slice","selectionEnd","currentString","match","replace","renderValueSuggestions","renderQualifierSuggestions","trim","invalidSearchTerms","showSubmissionOptionIfInvalidSearchTerms","searchMatchesDefault","clearButton","focusNavigation","activateNavigation","handleSelectedSuggestionResultEvent","event","selectedSuggestion","target","classList","contains","requestSubmit","suggestedText","phraseBeforeCursor","pop","textAfterCursor","spacer","existingValues","suggestedValue","push","updatedTextBeforeCursor","preventDefault","focus","cursorPosition","setSelectionRange","fire","handleFormKeydownEvent","detail","hotkey","autocompleteResults","querySelector","clear","getDefaultSearch","getInitialValue","filterString","showAllQualifiersIfNoneMatch","renderMatchingOrAllQualifierSuggestions","renderMatchingQualifierSuggestions","handleSuggestionNavigation","id","suggestions","matchingSuggestions","filterSuggestionsList","fuzzy","fuzzyMatchQualifiers","then","matching","renderSuggestionDropdown","fetchMatchingSuggestions","suggestionsPromise","lastSearchTerm","fuzzyMatchValues","map","suggestion","description","_search","search","toLowerCase","filter","render","html","suggestionsTitle","renderSearchWarningIfRequired","shouldRenderSubmissionOption","renderSearchSuggestion","until","renderSuggestionList","renderLoadingItem","postDropdownRender","invalidTerms","link","supportURL","getFilterSupportURL","test","getComponentTagName","validQualifiers","q","qualifierRegex","RegExp","quotedStringRegex","qualifiedSearchTerm","source","unqualifiedSearchTermRegex","searchTermsRegex","parts","invalidParts","part","colonIndex","indexOf","unqualifiedSearchTermsAlwaysValid","some","validQualifier","typedQualifier","substr","sortedSearchInput","sort","sortedDefaultSearch","every","index","getDataAttributeOrThrow","tagName","renderSuggestionsTitle","_suggestions","suggestionsHTML","spaceBetweenValueAndDescription","isAlpha","alphaTag","isBeta","betaTag","isNew","newTag","unshift","handleSearchBlur","selectorOfElementToActivateOnBlur","document","inputKey","key","tagFn","name","memoize","cache","scrollTo","targetContainer","options","container","ownerDocument","defaultView","documentElement","body","Document","top","pageYOffset","left","pageXOffset","scrollTop","scrollLeft","ctrlBindings","navigator","userAgent","modifierKey","hotkeyModifier","disableMouseEvents","mousePosition","x","y","onContainerMouseMove","MouseEvent","clientX","clientY","onContainerMouseOver","currentTarget","Element","closest","item","focusItem","observe","subscribe","el","compose","fromEvent","count","fireCustomKeydown","getActiveContainer","dispatched","eventToHotkeyString","originalEvent","originalTarget","fireOpen","modifier","altKey","ctrlKey","metaKey","shiftKey","activate","activeContainer","deactivate","add","remove","addEventListener","removeEventListener","on","isInput","matches","isShortcutAllowed","cursorDown","cursorUp","keyOpen","pageUp","previous","dimension","items","getItems","overflowParentEl","overflowParent","overflowOffset","focusPrevented","scrollPageTo","pageDown","next","bottom","firstItem","a","HTMLAnchorElement","window","open","href","clicked","dispatchEvent","bubbles","cancelable","click","containerStack","targetElement","parent","scrollItemTo","elements","querySelectorAll","element","refocus","getScrollStyle","visible","behavior","overflow","scrollIntoView","block","position","positionedOffset","scrollHeight","offsetParent","height","offsetWidth","offsetHeight","CustomEvent","form","submitter","checkButtonValidity","HTMLFormElement","type","persistSubmitButtonValue","submit","changeValue","input","HTMLInputElement","checked","fillFormValues","fields","namedItem","HTMLTextAreaElement","isFormField","nodeName","isContentEditable","searchParamsFromFormData","formData","URLSearchParams","combineGetFormSearchParams","formAction","allSearchParams","searchParamsFromInputs","append","toString","serialize","FormData","button","findPersistedSubmitButtonValue","defaultValue","createElement","prepend","areCharacterKeyShortcutsEnabled","keyboardShortcutsPreference","content","isNonCharacterKeyShortcut","nonEditableInputTypes","Set","disallowCharKeyShortcutsBecauseEditable","isEditableElement","isReadonly","ariaReadOnly","has","isFeatureEnabled","allowCharacterKeyShortcuts","Subscription","constructor","cleanup","closed","unsubscribe","eventName","onNext","capture","subscriptions","subscription"],"sourceRoot":""}