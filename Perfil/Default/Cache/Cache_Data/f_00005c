{"version":3,"file":"settings-xxxxxxxxxxxx.js","mappings":"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","sources":["node_modules/scroll-anchoring/dist/scroll-anchoring.esm.js","app/assets/modules/github/code-scanning-alerts-search-input.ts","app/assets/modules/code-scanning.ts","app/assets/modules/github/perform-transition.ts","app/assets/modules/github/behaviors/details.ts","app/assets/modules/github/behaviors/hash-change.ts","app/assets/modules/github/color-modes.ts","app/assets/modules/github/history.ts","app/assets/modules/github/hydro-tracking.ts","app/assets/modules/github/profile/edit-social-account.ts","app/assets/modules/github/repositories/overview.ts","app/assets/modules/github/scanning.ts","app/assets/modules/github/settings/pages-jekyll-config.ts","app/assets/modules/github/settings/profile.ts","app/assets/modules/github/settings/webauthn-create.ts","app/assets/modules/github/settings/dependabot-alert-rule-form.ts","app/assets/modules/github/settings/actions-policy-popover.ts","app/assets/modules/github/settings/add-runner-input.ts","app/assets/modules/github/settings/advanced-security-usage-list.ts","app/assets/modules/github/settings/appearance-form-element.ts","app/assets/modules/github/settings/appearance-preview-element.ts","app/assets/modules/github/settings/apps.ts","app/assets/modules/github/settings/apps/installation-repo-selection.ts","app/assets/modules/github/codespaces/default-location-setting-element.ts","app/assets/modules/github/settings/codespaces-user-secrets.ts","app/assets/modules/github/settings/dependabot-alert-rule-criteria-providers.ts","app/assets/modules/github/settings/dependabot-repository-selection-input.ts","app/assets/modules/github/settings/integrations-callback-urls.ts","app/assets/modules/github/settings/integrations-edit.ts","app/assets/modules/github/settings/integrations.ts","app/assets/modules/github/settings/key-links.ts","app/assets/modules/github/settings/oauth-apps.ts","app/assets/modules/github/settings/email.ts","app/assets/modules/github/settings/org-secrets.ts","app/assets/modules/github/settings/org-variables.ts","app/assets/modules/github/settings/personal-access-token-collapsible-containers.ts","app/assets/modules/github/settings/personal-access-tokens.ts","app/assets/modules/github/settings/personal-access-token-summary.ts","app/assets/modules/github/settings/personal-access-token-cap-check.ts","app/assets/modules/github/settings/personal-access-token-edit.ts","app/assets/modules/github/settings/repository-collabs.ts","app/assets/modules/github/settings/policy-repos-container-checkbox-selector.ts","app/assets/modules/github/settings/repository-list-filter.ts","app/assets/modules/github/settings/repository-options.ts","app/assets/modules/github/settings/repository-restore.ts","app/assets/modules/github/settings/repository-security-analysis.ts","app/assets/modules/github/settings/repository-selection-input.ts","app/assets/modules/github/settings/repository-settings.ts","app/assets/modules/github/settings/retention-form-element.ts","app/assets/modules/github/settings/runner-labels.ts","app/assets/modules/github/settings/saved-replies.ts","app/assets/modules/github/settings/selected-item-count.ts","app/assets/modules/github/settings/selected-item-list.ts","app/assets/modules/github/settings/user-add.ts","app/assets/modules/github/settings/user-settings.ts","app/assets/modules/github/settings/pages-composer.ts","app/assets/modules/github/settings/upload-repository-image.ts","app/assets/modules/github/settings/user-blocks.ts","app/assets/modules/github/settings/user-sessions.ts","app/assets/modules/github/settings/tokens.ts","app/assets/modules/github/settings/pages-build-type.ts","app/assets/modules/github/secret-scanning/custom-patterns-list.ts","app/assets/modules/github/secret-scanning/settings/push-protection.ts","ui/packages/cookies/cookies.ts","ui/packages/query-builder-element/query-builder-api.ts","ui/packages/sudo/sudo.ts","ui/packages/webauthn-support-level/webauthn-support-level.ts","node_modules/@github/webauthn-json/dist/esm/webauthn-json.browser-ponyfill.js"],"sourcesContent":["function preserveAnchorNodePosition(document, callback) {\n  return preservePosition(findAnchorNode(document), callback);\n}\nfunction preservePosition(anchorNode, callback) {\n  var node = anchorNode;\n\n  if (!node) {\n    return Promise.resolve(callback());\n  }\n\n  var documentElement = node.ownerDocument.documentElement;\n\n  function computeAncestorBoundingRects(element) {\n    var rects = [];\n\n    while (element) {\n      var _element$getBoundingC = element.getBoundingClientRect(),\n          top = _element$getBoundingC.top,\n          left = _element$getBoundingC.left;\n\n      rects.push({\n        element: element,\n        top: top,\n        left: left\n      });\n      element = element.parentElement;\n    }\n\n    return rects;\n  }\n\n  function firstAttachedBoundingRect(rects) {\n    for (var i = 0; i < rects.length; i++) {\n      var rect = rects[i];\n\n      if (documentElement.contains(rect.element)) {\n        return rect;\n      }\n    }\n  }\n\n  var origBoundingRects = computeAncestorBoundingRects(node);\n  return Promise.resolve(callback()).then(function (result) {\n    var origBoundingRect = firstAttachedBoundingRect(origBoundingRects);\n\n    if (origBoundingRect) {\n      node = origBoundingRect.element;\n      var origTop = origBoundingRect.top;\n      var origLeft = origBoundingRect.left;\n\n      var _node$getBoundingClie = node.getBoundingClientRect(),\n          top = _node$getBoundingClie.top,\n          left = _node$getBoundingClie.left;\n\n      cumulativeScrollBy(node, left - origLeft, top - origTop);\n    }\n\n    return result;\n  });\n}\nfunction findAnchorNode(document) {\n  if (document.activeElement !== document.body) {\n    return document.activeElement;\n  }\n\n  var hoverElements = document.querySelectorAll(':hover');\n  var len = hoverElements.length;\n\n  if (len) {\n    return hoverElements[len - 1];\n  }\n}\n\nfunction cumulativeScrollBy(element, x, y) {\n  var document = element.ownerDocument;\n  var window = document.defaultView;\n\n  function scrollOffsets(element) {\n    if (element.offsetParent) {\n      return {\n        top: element.scrollTop,\n        left: element.scrollLeft\n      };\n    } else {\n      return {\n        top: window.pageYOffset,\n        left: window.pageXOffset\n      };\n    }\n  }\n\n  function scrollBy(element, x, y) {\n    if (x === 0 && y === 0) {\n      return [0, 0];\n    }\n\n    var origScroll = scrollOffsets(element);\n    var top = origScroll.top + y;\n    var left = origScroll.left + x;\n\n    if (element === document || element === window || element === document.documentElement || element === document.body) {\n      document.defaultView.scrollTo(left, top);\n    } else {\n      element.scrollTop = top;\n      element.scrollLeft = left;\n    }\n\n    var newScroll = scrollOffsets(element);\n    return [newScroll.left - origScroll.left, newScroll.top - origScroll.top];\n  }\n\n  function overflowParent(el) {\n    var element = el;\n\n    if (!element.offsetParent || element === document.body) {\n      return;\n    }\n\n    while (element !== document.body) {\n      if (element.parentElement) {\n        element = element.parentElement;\n      } else {\n        return;\n      }\n\n      var _window$getComputedSt = window.getComputedStyle(element),\n          position = _window$getComputedSt.position,\n          overflowY = _window$getComputedSt.overflowY,\n          overflowX = _window$getComputedSt.overflowX;\n\n      if (position === 'fixed' || overflowY === 'auto' || overflowX === 'auto' || overflowY === 'scroll' || overflowX === 'scroll') {\n        break;\n      }\n    }\n\n    return element;\n  }\n\n  var container = overflowParent(element);\n  var cumulativeX = 0;\n  var cumulativeY = 0;\n\n  while (container) {\n    var scrolled = scrollBy(container, x - cumulativeX, y - cumulativeY);\n    cumulativeX += scrolled[0];\n    cumulativeY += scrolled[1];\n\n    if (cumulativeX === x && cumulativeY === y) {\n      break;\n    }\n\n    container = overflowParent(container);\n  }\n}\n\nexport { preserveAnchorNodePosition, preservePosition, findAnchorNode };\n","import type {Suggestion} from './filter-input'\nimport {BaseFilterElement} from './filter-input'\nimport {controller} from '@github/catalyst'\n\n@controller\nclass CodeScanningAlertFilterElement extends BaseFilterElement {\n  override selectorOfElementToActivateOnBlur = '.js-alert-list'\n\n  override async fetchSuggestionsForQualifier(qualifier: string): Promise<Suggestion[]> {\n    switch (this.removeNegationFromQualifierIfSupported(qualifier)) {\n      case 'branch':\n        return this.fetchSuggestionsForBranchQualifier()\n      default:\n        return super.fetchSuggestionsForQualifier(qualifier)\n    }\n  }\n\n  // Retrieves the suggested refs, extracts any related to branches\n  // (not tags) and returns new suggestions that are those branches'\n  // names (excluding the 'refs/heads/' prefix)\n  async fetchSuggestionsForBranchQualifier(): Promise<Suggestion[]> {\n    const refSuggestions = await this.fetchSuggestionsForQualifier('ref')\n    const branchNameSuggestions = []\n    const branchRefPrefix = 'refs/heads/'\n    for (const suggestion of refSuggestions) {\n      if (suggestion.value.startsWith(branchRefPrefix)) {\n        branchNameSuggestions.push({value: suggestion.value.substring(branchRefPrefix.length)})\n      }\n    }\n\n    return branchNameSuggestions\n  }\n\n  override invalidSearchTerms(): string | null {\n    const validQualifiers = this.fetchQualifierSuggestions().map(q => q.value)\n    const parts = this.searchInput.value.match(/[^\\s:]+:(?:\"(?:\\\\\"|.)*?\"|[^\\s]*)|[^\\s]+/g) || []\n\n    const invalidParts = parts.filter(part => {\n      const colonIndex = part.indexOf(':')\n\n      if (colonIndex === -1) {\n        // It's free text so never invalid\n        return false\n      } else {\n        // If we have typed a ':', it must fully match a valid qualifier\n        const typedQualifier = this.removeNegationFromQualifierIfSupported(part.substr(0, colonIndex + 1))\n        return !validQualifiers.some(validQualifier => validQualifier === typedQualifier)\n      }\n    })\n\n    if (invalidParts.length === 0) {\n      return null\n    }\n\n    return invalidParts.join(' ')\n  }\n}\n","import './github/code-scanning-alerts-search-input'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nfunction bothChecked(): boolean {\n  const defaultSetup = document.getElementById('checkbox_code_scanning_default_setup_enabled') as HTMLInputElement\n  const advancedSetup = document.getElementById('checkbox_code_scanning_advanced_setup_enabled') as HTMLInputElement\n\n  return defaultSetup.checked && advancedSetup.checked\n}\n\nfunction showDialog() {\n  const switchDialog = document.getElementById('codeql-switch-to-new-setup-dialog') as HTMLDialogElement\n  switchDialog.show()\n}\n\non('change', '.js-repo-features-code-scanning-default-setup-form input[type=checkbox]', function () {\n  if (bothChecked()) {\n    showDialog()\n  } else {\n    ;(document.querySelector('.js-repo-features-code-scanning-default-setup-form') as HTMLFormElement).submit()\n  }\n})\n\non('change', '.js-repo-features-code-scanning-advanced-setup-form input[type=checkbox]', function () {\n  if (bothChecked()) {\n    showDialog()\n  } else {\n    ;(document.querySelector('.js-repo-features-code-scanning-advanced-setup-form') as HTMLFormElement).submit()\n  }\n})\n","// performTransition\n//\n// CSS3 transitions have some major pitfalls. First trying to transition\n// elements from `display:none` to `display:block.` And also dealing with\n// computed properties like `height:auto`.\n//\n// This helper attempts to deal with those issues while still defining\n// the transitions in pure css.\n//\n// Behaviors that intend to support these special case transitions\n// should call `performTransition` when they add or remove their state\n// classes.\n//\n// Any element that is performing a transition needs to be annotated\n// with the `js-transitionable` class name.\n//\n// @example\n//\n// <div class=\"js-transitionable collapse\">\n//   Slide down\n// </div>\n//\n// .collapse {\n//   display: none;\n//   position: relative;\n//   height: 0;\n//   overflow: hidden;\n//   @include transition(0.35s, height, ease);\n// }\n// .collapse.open {\n//   display: block;\n//   height: auto;\n// }\n//\n// performTransition document.querySelector('.collapse', () => {\n//   this.classList.add('open')\n// })\n\nconst supportsTransitions = 'ontransitionend' in window\n\n// DEPRECATED: PerformTransition is deprecated.\nexport default function performTransition(container: HTMLElement, cb: () => void) {\n  if (!supportsTransitions) {\n    cb()\n    return\n  }\n\n  const els = Array.from(container.querySelectorAll('.js-transitionable'))\n  if (container.classList.contains('js-transitionable')) els.push(container)\n\n  for (const el of els) {\n    const transitionHeight = isTransitioningHeight(el)\n    if (!(el instanceof HTMLElement)) continue\n\n    el.addEventListener(\n      'transitionend',\n      () => {\n        el.style.display = ''\n        el.style.visibility = ''\n\n        if (transitionHeight) {\n          withoutTransition(el, function () {\n            el.style.height = ''\n          })\n        }\n      },\n      {once: true},\n    )\n\n    el.style.boxSizing = 'content-box'\n    el.style.display = 'block'\n    el.style.visibility = 'visible'\n\n    if (transitionHeight) {\n      withoutTransition(el, function () {\n        el.style.height = getComputedStyle(el).height\n      })\n    }\n\n    // force reflow\n    el.offsetHeight\n  }\n\n  cb()\n\n  for (const el of els) {\n    if (!(el instanceof HTMLElement)) continue\n    if (isTransitioningHeight(el)) {\n      const currentHeight = getComputedStyle(el).height\n      el.style.boxSizing = ''\n      if (currentHeight === '0px') {\n        el.style.height = `${el.scrollHeight}px`\n      } else {\n        el.style.height = '0px'\n      }\n    }\n  }\n}\n\n// Detect if element is transitioning its height property.\nfunction isTransitioningHeight(el: Element) {\n  return getComputedStyle(el).transitionProperty === 'height'\n}\n\n// Apply style change callback w/o triggering a transition.\nfunction withoutTransition(el: HTMLElement, cb: () => void) {\n  el.style.transition = 'none'\n  cb()\n  el.offsetHeight\n  el.style.transition = ''\n}\n","/* eslint eslint-comments/no-use: off */\n/* eslint-disable github/no-then */\n\n/**\n * Details toggle.\n *\n * Use the details toggle to toggle content on the page. Similar to the\n * [HTML5 details element](https://www.w3.org/wiki/HTML/Elements/details).\n *\n * There are minimum two classes you will need to trigger the JS behavior.\n *\n * Apply the `.js-details-target` class to the element that will trigger\n * the toggle through a mouse click. For accessibility reasons, we recommend using a\n * `<button>` tag for this, but it can be applied to any element.\n *\n * A single `.js-details-container` class will be applied to a parent element that is wrapping\n * all the details components. The behavior will toggle an `Details--on` class on this element\n * which the CSS will use to show and hide the appropriate objects.\n *\n * There are default styling classes that will show and hide content for you. `.Details`\n * is a component that is built to show hidden content on open, and hide shown content\n * on close.\n *\n * The default state of the component is closed. Wrap the content and target with the `Details`\n * class. And apply `Details-content--hidden` to any element that you want *hidden* when closed\n * and *shown* when open.\n *\n * @example\n * ```html\n * <div class=\"Details js-details-container\">\n *   <button type=\"button\" class=\"js-details-target\" aria-expanded=\"false\">See more info</button>\n *   <div class=\"Details-content--hidden\">Hidden details</div>\n * </div>\n * ```\n *\n * Shown content\n *\n * If you have some content that you would like to be *shown* by default and\n * *hidden* when the details is `Details--on`. Then you can use the `Details-content--shown`\n * class.\n *\n * @example\n * ```html\n * <div class=\"Details js-details-container\">\n *   <button type=\"button\" class=\"js-details-target\" aria-expanded=\"false\" aria-label=\"Expand and collapse\">\n *     <%= octicon(\"chevron-down\", :class => \"Details-content--shown\") %>\n *     <%= octicon(\"chevron-up\", :class => \"Details-content--hidden\") %>\n *   </button>\n *   <div class=\"Details-content--shown\">Shown details</div>\n * </div>\n * ```\n */\n\nimport hashChange from './hash-change'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport performTransition from '../perform-transition'\nimport {preservePosition} from 'scroll-anchoring'\n\nfunction findAndFocusByQuerySelector(container: HTMLElement, elements: string[]) {\n  elements.find(selector => {\n    const elementsFromSelector = Array.from(container.querySelectorAll<HTMLElement>(selector))\n    const lastVisibleElement = elementsFromSelector.findLast(el => {\n      return window.getComputedStyle(el).display !== 'none'\n    })\n\n    if (lastVisibleElement && document.activeElement !== lastVisibleElement) {\n      lastVisibleElement.focus()\n      return true // found\n    }\n  })\n}\n\nfunction restoreAutofocus(container: HTMLElement) {\n  findAndFocusByQuerySelector(container, ['.js-focus-on-dismiss', 'input[autofocus], textarea[autofocus]'])\n}\n\nfunction hideTooltip(target: HTMLElement) {\n  if (!target.classList.contains('tooltipped')) return\n  target.classList.remove('tooltipped')\n  target.addEventListener(\n    'mouseleave',\n    () => {\n      target.classList.add('tooltipped')\n      // eslint-disable-next-line github/no-blur\n      target.blur()\n    },\n    {once: true},\n  )\n}\n\nfunction groupMembers(group: string): Element[] {\n  return [...document.querySelectorAll('.js-details-container')].filter(\n    el => el.getAttribute('data-details-container-group') === group,\n  )\n}\n\nfunction containerTargets(container: Element): Element[] {\n  return [...container.querySelectorAll('.js-details-target')].filter(\n    target => target.closest('.js-details-container') === container,\n  )\n}\n\nfunction toggleGroup(container: Element, open: boolean): string | null {\n  const group = container.getAttribute('data-details-container-group')\n  if (!group) return null\n  preservePosition(container, () => {\n    for (const otherContainer of groupMembers(group)) {\n      if (otherContainer !== container) {\n        updateOpenState(otherContainer, open)\n      }\n    }\n  })\n  return group\n}\n\nfunction updateOpenState(container: Element, open: boolean) {\n  container.classList.toggle('open', open)\n  container.classList.toggle('Details--on', open)\n  if (open) {\n    const initialFocus = container.querySelector<HTMLElement>('.js-details-initial-focus')\n    if (initialFocus) {\n      setTimeout(() => {\n        initialFocus.focus()\n      }, 0)\n    }\n  }\n  for (const target of containerTargets(container)) {\n    target.setAttribute('aria-expanded', open.toString())\n  }\n}\n\nexport function toggleDetailsTarget(target: HTMLElement, opts?: {withGroup?: boolean; force?: boolean}) {\n  const containerSelector = target.getAttribute('data-details-container') || '.js-details-container'\n  const container = target.closest<HTMLElement>(containerSelector)!\n  const open = opts?.force ?? !container.classList.contains('open')\n  const withGroup = opts?.withGroup ?? false\n  performTransition(container, () => {\n    updateOpenState(container, open)\n    const group = withGroup ? toggleGroup(container, open) : null\n    Promise.resolve().then(() => {\n      restoreAutofocus(container)\n      hideTooltip(target)\n      container.dispatchEvent(\n        new CustomEvent('details:toggled', {\n          bubbles: true,\n          cancelable: false,\n          detail: {open},\n        }),\n      )\n      if (group) {\n        container.dispatchEvent(\n          new CustomEvent('details:toggled-group', {\n            bubbles: true,\n            cancelable: false,\n            detail: {open, group},\n          }),\n        )\n      }\n    })\n  })\n}\n\nexport function isDetailsTargetExpanded(target: HTMLElement): boolean {\n  const containerSelector = target.getAttribute('data-details-container') || '.js-details-container'\n  const container = target.closest<HTMLElement>(containerSelector)!\n  const classList = container.classList\n  return classList.contains('Details--on') || classList.contains('open')\n}\n\nfunction handleDetailsTargetClick(event: Event) {\n  const withGroup = (event as MouseEvent).altKey\n  const target = event.currentTarget as HTMLElement\n  toggleDetailsTarget(target, {withGroup})\n  event.preventDefault()\n}\non('click', '.js-details-target', handleDetailsTargetClick)\n\n// Expand collapsed outdated diff if anchor points to it\n//   /github/github/pull/123#discussion-diff-456\n//   /github/github/pull/123#discussion-r345\nhashChange(function ({target}) {\n  if (target) ensureExpanded(target)\n})\n\nexport function ensureExpanded(target: Element) {\n  let toCollapse = false\n  let node = target.parentElement\n  while (node) {\n    if (node.classList.contains('Details-content--shown')) {\n      toCollapse = true\n    }\n    if (node.classList.contains('js-details-container')) {\n      node.classList.toggle('open', !toCollapse)\n      node.classList.toggle('Details--on', !toCollapse)\n      toCollapse = false\n    }\n    node = node.parentElement\n  }\n}\n","// Variant on the native `hashchange` event with extra features:\n//\n// * Guarantees that handlers run on DOMContentLoaded, or immediately if page has\n//   already loaded;\n// * If the anchor references an element by id, the `data.target` property of the\n//   argument passed to handlers will be a reference to that DOM element.\n//\n// Each handler will be invoked with a `data` object containing properties:\n//\n// * `oldURL` - String URL prior to the hash change, or `null` on initial page load;\n// * `newURL` - String URL after hash change, or current page URL;\n// * `target` - DOM element whose id matches the anchor value, or `null`.\n//\n// Examples\n//\n// ```js\n// // Redirect old anchor issue urls\n// hashChange((data) => {\n//   const m = data.newURL.match(/\\/issues#issue\\/(\\d+)$/)\n//   if (m) window.location = data.newURL.replace(/\\/?#issue\\/.+/, \"/#{m[1]}\")\n// })\n//\n// // Ensure that the referenced comment's parent container is visible\n// hashChange((data) => {\n//   const container = data.target && data.target.closest('.js-comments-container')\n//   if (container) container.classList.remove('d-none')\n// })\n// ```\n\nimport {ready} from '@github-ui/document-ready'\nimport {SOFT_NAV_STATE} from '@github-ui/soft-nav'\n\nconst handlers: HashChangeListener[] = []\nlet ran = 0\n\ntype HashChangeListener = (opts: {oldURL: string | null; newURL: string; target?: Element | null}) => unknown\n\nexport default function hashChange(handler: HashChangeListener) {\n  ;(async function () {\n    handlers.push(handler)\n    await ready\n    runRemainingHandlers()\n  })()\n}\n\nhashChange.clear = () => {\n  handlers.length = ran = 0\n}\n\nfunction runRemainingHandlers() {\n  const index = ran\n  ran = handlers.length\n  runHandlers(handlers.slice(index), null, window.location.href)\n}\n\nfunction runHandlers(handlersToRun: HashChangeListener[], oldURL: string | null, newURL: string) {\n  const id = window.location.hash.slice(1)\n  const target = id ? document.getElementById(id) : null\n  const data = {oldURL, newURL, target}\n\n  for (const fn of handlersToRun) {\n    fn.call(null, data)\n  }\n}\n\n// Track ieOldURL manually to work around an open IE bug where the hashchange\n// event does not have oldURL or newURL attributes. See\n// https://connect.microsoft.com/IE/feedback/details/828283/implement-hashchangeevent-oldurl-and-newurl\nlet ieOldURL = window.location.href\nwindow.addEventListener('popstate', function () {\n  ieOldURL = window.location.href\n})\n\nwindow.addEventListener('hashchange', function (event) {\n  const newURL = window.location.href\n  try {\n    runHandlers(handlers, event.oldURL || ieOldURL, newURL)\n  } finally {\n    ieOldURL = newURL\n  }\n})\n\nlet softNavOldURL: string | null = null\n\ndocument.addEventListener(SOFT_NAV_STATE.START, function () {\n  softNavOldURL = window.location.href\n})\n\ndocument.addEventListener(SOFT_NAV_STATE.SUCCESS, function () {\n  runHandlers(handlers, softNavOldURL, window.location.href)\n})\n","import {ready} from '@github-ui/document-ready'\nimport {setCookie} from './cookies'\n\nexport type ColorMode = 'light' | 'dark'\nexport type ColorModeWithAuto = ColorMode | 'auto'\n\n/**\n * Set the OS preferred color mode on page load\n */\n;(async () => {\n  await ready\n  setPreferredColorModeCookie()\n\n  // update the cookie when OS preferred color mode changes\n  if (window.matchMedia) {\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)')\n\n    if (mediaQuery?.addEventListener) {\n      mediaQuery.addEventListener('change', setPreferredColorModeCookie)\n    } else {\n      mediaQuery.addListener(setPreferredColorModeCookie)\n    }\n  }\n})()\n\nfunction setPreferredColorModeCookie() {\n  setCookie('preferred_color_mode', getPreferredColorMode() as string)\n}\n\nexport function getPreferredColorMode(): ColorMode | undefined {\n  if (prefersColorScheme('dark')) {\n    return 'dark'\n  } else if (prefersColorScheme('light')) {\n    return 'light'\n  }\n\n  return undefined\n}\n\nfunction prefersColorScheme(scheme: ColorMode): boolean {\n  return window.matchMedia && window.matchMedia(`(prefers-color-scheme: ${scheme})`).matches\n}\n\nfunction getColorModeAttribute() {\n  const rootEl = document.querySelector('html[data-color-mode]')\n  if (!rootEl) return undefined\n  return rootEl.getAttribute('data-color-mode')\n}\n\n/**\n * Set the `data-color-mode` attribute on the html element of the page.\n */\nexport function setClientMode(mode: ColorModeWithAuto) {\n  const rootEl = document.querySelector('html[data-color-mode]')\n  if (!rootEl) {\n    // Color modes are not active on this page\n    return\n  }\n  rootEl.setAttribute('data-color-mode', mode)\n}\n\nexport function setClientTheme(theme: string, type: ColorMode) {\n  const rootEl = document.querySelector('html[data-color-mode]')\n  if (!rootEl) {\n    // Color modes are not active on this page\n    return\n  }\n  rootEl.setAttribute(`data-${type}-theme`, theme)\n}\n\n/**\n * Returns the user theme as defined by the `data-light-theme` or\n * `data-dark-theme` attribute.\n */\nexport function getClientTheme(type: ColorMode) {\n  const rootEl = document.querySelector('html[data-color-mode]')\n  if (!rootEl) {\n    // Color modes are not active on this page\n    return\n  }\n  return rootEl.getAttribute(`data-${type}-theme`)\n}\n\n/**\n * Provides a stable color mode. This does not delineate the theme, but rather the light vs dark modes.\n *\n * If you're after the theme, please use {@link getClientTheme}\n */\nexport function getColorMode(fallback: ColorMode = 'light') {\n  const mode = getColorModeAttribute()\n  return (mode === 'auto' ? getPreferredColorMode() : mode) ?? fallback\n}\n","let sessionHistoryEntries: Array<{url: string; state: unknown}> = []\nlet sessionHistoryOffset = 0\nlet state: State\n\ntype State = {\n  _id: number\n  turbo?: {\n    restorationIdentifier: string\n  }\n}\n\n/*\n * Array of history entries.\n *\n * Example:\n * {\n *   0: {\n *     url: \"/\",\n *     state: { ... }.\n *   },\n *   1: {\n *     url: \"/github/github/issues/123\",\n *     state: { ... }.\n *   },\n *   2: {\n *     url: \"/github/github/issues/123#comment-4\",\n *     state: { ... }.\n *   }.\n *  }.\n */\n\nexport function getState(): State {\n  return state\n}\n\nfunction safeGetHistory() {\n  try {\n    // Clamp history.length to 0<->9007199254740991 (Number.MAX_SAFE_INTEGER isn't supported in IE)\n    return Math.min(Math.max(0, history.length) || 0, 9007199254740991)\n  } catch (e) {\n    return 0\n  }\n}\n\nfunction initializeState(): State {\n  const newState = {_id: new Date().getTime(), ...history.state}\n  setState(newState)\n  return newState\n}\n\n// Current index into history entries stack.\nfunction position(): number {\n  return safeGetHistory() - 1 + sessionHistoryOffset\n}\n\nfunction setState(newState: State) {\n  state = newState\n\n  // Update entry at current position\n  const url = location.href\n  sessionHistoryEntries[position()] = {url, state}\n\n  // Trim entries to match history size\n  sessionHistoryEntries.length = safeGetHistory()\n\n  // Emit public statechange\n  window.dispatchEvent(new CustomEvent('statechange', {bubbles: false, cancelable: false}))\n}\n\n// Generate unique id for state object.\n//\n// Use a timestamp instead of a counter since ids should still be unique\n// across page loads.\nfunction uniqueId(): number {\n  return new Date().getTime()\n}\n\n// Indirection for history.pushState to support tracking URL changes.\n//\n// Would be great if there was a standard window.addEventListener('statechange') event.\nexport function pushState(oldState: State | null, title: string, url: string) {\n  // pushState drops any forward history entries\n  sessionHistoryOffset = 0\n  const newState = {_id: uniqueId(), ...oldState}\n  history.pushState(newState, title, url)\n  setState(newState)\n}\n\n// Indirection for history.replaceState to support tracking URL changes.\n//\n// Would be great if there was a standard window.addEventListener('statechange') event.\nexport function replaceState(oldState: Record<string, unknown> | null, title: string, url: string) {\n  const newState = {...getState(), ...oldState}\n  history.replaceState(newState, title, url)\n  setState(newState)\n}\n\nstate = initializeState()\n\nwindow.addEventListener(\n  'popstate',\n  function onPopstate(event: PopStateEvent) {\n    const currentState: State = event.state\n\n    if (!currentState || (!currentState._id && !currentState.turbo?.restorationIdentifier)) {\n      // Unmanaged state in history entries\n      // Or could be a hashchange pop, ignore and let hashchange handle it\n      return\n    }\n\n    // Each state has a unique restorationIdentifier provided by Turbo. We compare the id\n    // to see if we are going backwards or forwards.\n    const id = currentState.turbo?.restorationIdentifier\n    const restoreId = (sessionHistoryEntries[position() - 1]?.state as State)?.turbo?.restorationIdentifier\n\n    if (restoreId === id) {\n      sessionHistoryOffset--\n    } else {\n      sessionHistoryOffset++\n    }\n\n    setState(currentState)\n  },\n  true,\n)\n\nlet turboAction: string\n\nwindow.addEventListener('turbo:visit', event => {\n  if (!(event instanceof CustomEvent)) return\n\n  turboAction = event.detail.action\n})\n\n// Listen turbo navigations to reset the `sessionHistoryOffset` in case we are doing a page load\n// instead of poping a state from the history stack.\nwindow.addEventListener('turbo:load', () => {\n  if (turboAction === 'restore') return\n\n  sessionHistoryOffset = 0\n  // Add turbo navigations to the state stack, so we can keep it complete without `empty` entries.\n  replaceState(history.state, '', '')\n})\n\nwindow.addEventListener(\n  'hashchange',\n  function onHashchange() {\n    if (safeGetHistory() > sessionHistoryEntries.length) {\n      // Forward navigation\n      const newState = {_id: uniqueId()}\n      history.replaceState(newState, '', location.href)\n      setState(newState)\n    }\n  },\n  true,\n)\n\n// We need to reset our history state on full-page loads to prevent our state from getting out of sync with the browser's history stack.\nwindow.addEventListener('pageshow', () => {\n  sessionHistoryEntries = []\n  sessionHistoryOffset = 0\n})\n","import {sendStats} from '@github-ui/stats'\n\nexport function sendData(hydroEventPayload: string, hydroEventHmac: string, hydroClientContext: string): void {\n  const data = {\n    hydroEventPayload,\n    hydroEventHmac,\n    visitorPayload: '',\n    visitorHmac: '',\n    hydroClientContext,\n  }\n\n  const visitorPayload = document.querySelector('meta[name=visitor-payload]')\n  if (visitorPayload instanceof HTMLMetaElement) {\n    data['visitorPayload'] = visitorPayload.content\n  }\n  const visitorHmac = document.querySelector('meta[name=visitor-hmac]') || ''\n  if (visitorHmac instanceof HTMLMetaElement) {\n    data['visitorHmac'] = visitorHmac.content\n  }\n\n  sendStats(data, true)\n}\n\nexport function trackView(el: HTMLElement) {\n  const payload = el.getAttribute('data-hydro-view') || ''\n  const hmac = el.getAttribute('data-hydro-view-hmac') || ''\n  const hydroClientContext = el.getAttribute('data-hydro-client-context') || ''\n  sendData(payload, hmac, hydroClientContext)\n}\n\nexport function sendHydroEvent(el: HTMLElement) {\n  const payload = el.getAttribute('data-hydro-click-payload') || ''\n  const hmac = el.getAttribute('data-hydro-click-hmac') || ''\n  const hydroClientContext = el.getAttribute('data-hydro-client-context') || ''\n  sendData(payload, hmac, hydroClientContext)\n}\n","import {controller, target, targets, attr} from '@github/catalyst'\nimport {changeValue, requestSubmit} from '@github-ui/form-utils'\n\ninterface IParticipantElement {\n  [methodName: string]: () => Promise<void>\n}\n\n// Catalyst component that defers the submission of a child <form/> until a collection of child components have\n// completed their work, such as input preprocessing or validation.\n//\n// Participating child components are identified by the `data-targets=\"waiting-form.prerequisites\"` attribute. Each\n// component must implement a method that returns a Promise. The name of the method may be specified by the\n// `data-waiting-form-method` attribute, or the default of `getPromise`.\n//\n// The child <form> element must be identified by `data-target=\"waiting-form.form\"`. Its submit button must be\n// identified by `data-target=\"waiting-form.submit\"` and have a `data-action` set to\n// `click:waiting-form#submitPolitely`.\n//\n// Example:\n//\n// <waiting-form>\n//   <form data-target=\"waiting-form.form\">\n//     <other-component data-targets=\"waiting-form.prerequisites\" data-waiting-form-method=\"getSomePromise\">\n//        <input type=\"text\" name=\"blah0\" />\n//     </other-component>\n//     <another-component data-targets=\"waiting-form.prerequisites\">\n//        <input type=\"text\" name=\"blah1\" />\n//     </another-component>\n//     <button\n//        type=\"submit\"\n//        data-target=\"waiting-form.submit\"\n//        data-action=\"click:waiting-form#submitPolitely\"\n//      >\n//        Submit\n//      </button>\n//   </form>\n// </waiting-form>\n@controller\nclass WaitingFormElement extends HTMLElement {\n  @target form: HTMLFormElement\n  @targets prerequisites: HTMLElement[]\n  @target submit: HTMLButtonElement\n\n  async submitPolitely() {\n    this.submit.disabled = true\n    try {\n      if (this.prerequisites.length > 0) {\n        await Promise.all(this.prerequisites.map(participant => this.getPrerequisitePromise(participant)))\n      }\n\n      requestSubmit(this.form)\n    } finally {\n      this.submit.disabled = false\n    }\n  }\n\n  private getPrerequisitePromise(participant: HTMLElement): Promise<void> {\n    const promiseMethodName = participant.getAttribute('data-waiting-form-method') || 'getPromise'\n    return (participant as unknown as IParticipantElement)[promiseMethodName]!()\n  }\n}\n\n@controller\nexport class SocialAccountEditorElement extends HTMLElement {\n  @target urlField: HTMLInputElement\n  @target iconField: HTMLInputElement\n  @targets iconOptions: HTMLElement[]\n  @target iconGeneric: HTMLElement\n  @target iconSpinner: HTMLElement\n  @attr nodeinfoSoftwareUrl = ''\n\n  private recognitionPromise = Promise.resolve()\n\n  recognizeUrl() {\n    this.recognitionPromise = new Promise(async resolve => {\n      this.preprocessUrl()\n      const matchingOption = await this.findMatchingSocialAccountIconOption(this.urlField.value)\n      this.setChosenSocialIcon(matchingOption)\n      resolve()\n    })\n  }\n\n  resetToDefault() {\n    if (this.urlField.value === this.urlField.defaultValue) return\n    changeValue(this.urlField, this.urlField.defaultValue)\n  }\n\n  waitForRecognition(): Promise<void> {\n    return this.recognitionPromise\n  }\n\n  private preprocessUrl(): void {\n    const url = this.urlField.value.trim()\n    if (url.length === 0) return\n\n    if (!/^https?:\\/\\//.test(url)) {\n      this.urlField.value = `https://${url}`\n    }\n  }\n\n  private setChosenSocialIcon(chosenOption: Element) {\n    const chosenKey = chosenOption.getAttribute('data-provider-key') || 'generic'\n\n    for (const choice of this.iconOptions) {\n      choice.hidden = choice !== chosenOption\n    }\n    this.iconSpinner.hidden = true\n    this.iconField.value = chosenKey\n  }\n\n  private async findMatchingSocialAccountIconOption(url: string): Promise<Element> {\n    for (const choice of this.iconOptions) {\n      for (const patternElement of choice.querySelectorAll('[data-provider-pattern]')) {\n        const pattern = new RegExp(patternElement.getAttribute('data-provider-pattern')!, 'i')\n        if (pattern.test(url)) {\n          return choice\n        }\n      }\n    }\n\n    // No direct URL pattern match. See if we should probe for the host for Nodeinfo.\n    const nodeInfoIcon = await this.findNodeInfoIconOption(url)\n    if (nodeInfoIcon) return nodeInfoIcon\n\n    return this.iconGeneric\n  }\n\n  private async findNodeInfoIconOption(url: string): Promise<Element | null> {\n    if (this.nodeinfoSoftwareUrl.trim().length === 0) return null\n\n    const nodeInfoCandidates = new Map<string, Element>()\n    for (const choice of this.iconOptions) {\n      for (const nodeInfoElement of choice.querySelectorAll('[data-try-nodeinfo-pattern]')) {\n        const pattern = new RegExp(nodeInfoElement.getAttribute('data-try-nodeinfo-pattern')!, 'i')\n        const expectedSoftware = nodeInfoElement.getAttribute('data-nodeinfo-software')\n\n        const match = url.match(pattern)\n        if (match && expectedSoftware) {\n          nodeInfoCandidates.set(expectedSoftware, choice)\n        }\n      }\n    }\n    if (nodeInfoCandidates.size === 0) return null\n\n    let parsedURL: URL | null = null\n    try {\n      parsedURL = new URL(url, window.location.origin)\n    } catch (e) {\n      return null\n    }\n\n    this.showSpinner()\n\n    const u = new URL(this.nodeinfoSoftwareUrl, window.location.origin)\n    u.searchParams.set('host', parsedURL.host)\n    const checkResponse = await fetch(u, {\n      headers: {\n        'X-Requested-With': 'XMLHttpRequest',\n        Accept: 'application/json',\n      },\n    })\n\n    const checkDocument = await checkResponse.json()\n    const softwareName = checkDocument?.['software_name']\n    if (softwareName) {\n      return nodeInfoCandidates.get(softwareName) || null\n    } else {\n      return null\n    }\n  }\n\n  showSpinner() {\n    for (const choice of this.iconOptions) {\n      choice.hidden = true\n    }\n    this.iconSpinner.hidden = false\n  }\n}\n","import FilterInputElement from '@github/filter-input-element'\nimport RemoteInputElement from '@github/remote-input-element'\n\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {sendHydroEvent} from '../hydro-tracking'\n\non('tab-container-changed', '.js-branches-tags-tabs', async function (event) {\n  const newTabPanel = event.detail.relatedTarget\n  const tabContainer = event.currentTarget\n  if (!tabContainer) return\n\n  let oldValue\n  let newControl\n\n  for (const controlInput of tabContainer.querySelectorAll('[data-controls-ref-menu-id]')) {\n    if (!(controlInput instanceof FilterInputElement || controlInput instanceof RemoteInputElement)) return\n    const id = controlInput.getAttribute('data-controls-ref-menu-id')!\n    const isNewControl = newTabPanel.id === id\n    controlInput.hidden = !isNewControl\n    if (isNewControl) {\n      newControl = controlInput\n    } else if (!oldValue) {\n      oldValue = controlInput.input ? controlInput.input.value : ''\n    }\n  }\n  const newInput = newControl && newControl.input\n  if (newInput) {\n    if (newControl && oldValue !== undefined) newInput.value = oldValue\n    newInput.focus()\n  }\n})\n\non('click', '.js-branch-select-menu', event => {\n  const target = event.currentTarget\n\n  if (target instanceof HTMLDetailsElement && !target.open) {\n    sendHydroEvent(target)\n  }\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nfunction copyInput(inputToCopy: HTMLInputElement): HTMLInputElement {\n  const input = document.createElement('input')\n  input.setAttribute('type', 'hidden')\n  input.setAttribute('name', inputToCopy.name)\n  input.setAttribute('value', inputToCopy.value)\n  return input\n}\n\n// Add the checked alerts to all the bulk action forms\nfunction copyCheckedAlertsToBulkActionForms(container: Element) {\n  let disableReopenButton = false\n  const fixedAlertNumbersElements = container.querySelectorAll<HTMLElement>('.js-scanning-fixed-alert-numbers')\n  const fixedAlertNumbers: number[] =\n    fixedAlertNumbersElements.length !== 0\n      ? JSON.parse(fixedAlertNumbersElements[0]!.getAttribute('data-numbers') || '[]')\n      : []\n\n  for (const items of container.querySelectorAll<HTMLElement>('.js-scanning-bulk-action-items')) {\n    // Remove any previous alert elements from the form\n    items.textContent = ''\n\n    // Copy the checked items to the form\n    const checkedAlerts = container.querySelectorAll<HTMLInputElement>(\n      '.js-scanning-alert-list [data-check-all-item]:checked',\n    )\n    for (const checked of checkedAlerts) {\n      // If any of the checked alerts are fixed, then disable the reopen button\n      // as it only works for manually resolved alerts\n      disableReopenButton ||= fixedAlertNumbers.indexOf(parseInt(checked.value)) !== -1\n      items.appendChild(copyInput(checked))\n    }\n  }\n\n  for (const reopenButton of container.querySelectorAll<HTMLButtonElement>('.js-scanning-reopen-button')) {\n    reopenButton.hidden = disableReopenButton\n  }\n  for (const reopenButtonDisabled of container.querySelectorAll<HTMLButtonElement>(\n    '.js-scanning-reopen-button-disabled',\n  )) {\n    reopenButtonDisabled.hidden = !disableReopenButton\n  }\n}\n\non('change', '.js-scanning-alert-check', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-scanning-alert-list')!\n  const checked = container.querySelector('.js-scanning-alert-check:checked') != null\n  const filterOptions = container.querySelector<HTMLElement>('.js-scanning-filter-options')\n  const bulkActions = container.querySelector<HTMLElement>('.js-scanning-alert-bulk-actions')\n  const alertLinks = container.querySelector<HTMLElement>('.js-scanning-alert-links')\n\n  if (filterOptions) {\n    filterOptions.hidden = checked\n  }\n  if (bulkActions) {\n    bulkActions.hidden = !checked\n  }\n  if (alertLinks) {\n    alertLinks.hidden = checked\n  }\n  copyCheckedAlertsToBulkActionForms(container)\n})\n\non(\n  'details-menu-selected',\n  '.js-scanning-code-path-menu',\n  function (event) {\n    const targetCodePath = event.detail.relatedTarget.getAttribute('data-target-code-path')\n    for (const codePath of document.querySelectorAll<HTMLElement>('.js-scanning-code-path')) {\n      codePath.hidden = targetCodePath !== codePath.getAttribute('data-code-path')\n    }\n  },\n  {capture: true},\n)\n","class PagesJekyllConfig extends HTMLElement {\n  initialSourceBranch: string | null\n  initialSourceSubdir: string | null\n  sourceBranch: string | null\n  sourceSubdir: string | null\n\n  changeListener(event: Event) {\n    const target = event.target as HTMLInputElement\n    if (target.name === 'source') {\n      this.sourceBranchListener(target)\n    } else if (target.name === 'source_dir') {\n      this.sourceSubdirListener(target)\n    }\n  }\n\n  sourceBranchListener(target: HTMLInputElement) {\n    this.sourceBranch = target.value\n\n    const sourceDirSelector = this.querySelector<HTMLElement>('.js-jekyll-source-dir')!\n    const branchIcon = this.querySelector<HTMLElement>('.js-branch-icon')!\n\n    if (target.value !== '') {\n      branchIcon.hidden = false\n      sourceDirSelector.hidden = false\n    } else {\n      branchIcon.hidden = true\n      sourceDirSelector.hidden = true\n    }\n\n    this.enableSubmitButton()\n  }\n\n  sourceSubdirListener(target: HTMLInputElement) {\n    this.sourceSubdir = target.value\n    this.enableSubmitButton()\n  }\n\n  enableSubmitButton() {\n    const submitButton = this.querySelector<HTMLButtonElement>('.js-jekyll-submit')!\n    if (submitButton.getAttribute('data-always-enabled') === 'true') return\n    submitButton.disabled =\n      this.initialSourceBranch === this.sourceBranch && this.initialSourceSubdir === this.sourceSubdir\n  }\n\n  disableSubmitButton() {\n    const submitButton = this.querySelector<HTMLButtonElement>('.js-jekyll-submit')!\n    submitButton.disabled = true\n  }\n\n  connectedCallback() {\n    this.initialSourceBranch = this.sourceBranch = this.getAttribute('data-initial-source')\n    this.initialSourceSubdir = this.sourceSubdir = this.getAttribute('data-initial-subdir')\n    this.addEventListener('change', this.changeListener)\n    this.addEventListener('submit', this.disableSubmitButton)\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener('change', this.changeListener)\n    this.removeEventListener('submit', this.disableSubmitButton)\n  }\n}\n\nif (!window.customElements.get('pages-jekyll-config')) {\n  window.customElements.define('pages-jekyll-config', PagesJekyllConfig)\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\n// These behaviours also affect the inline editable profile on the user's page\n\non('change', '.js-profile-editable-pronouns-select', function () {\n  const select = document.querySelector<HTMLSelectElement>('.js-profile-editable-pronouns-select')!\n  const input = document.querySelector<HTMLInputElement>('.js-profile-editable-pronouns-custom')!\n  const initialValue = input.getAttribute('data-initial-value')!\n\n  if (select.value === 'Custom') {\n    // Reset the input value to the user's pronouns if they're custom\n    if ([...select.options].find(option => option.value === initialValue)) {\n      input.value = ''\n    } else {\n      input.value = initialValue\n    }\n\n    input.hidden = false\n    input.focus()\n  } else {\n    input.value = select.value\n    input.hidden = true\n  }\n})\n","import {create, supported, parseCreationOptionsFromJSON} from '@github/webauthn-json/browser-ponyfill'\nimport type {\n  CredentialCreationOptionsJSON,\n  RegistrationPublicKeyCredential,\n} from '@github/webauthn-json/browser-ponyfill'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {parseHTML} from '@github-ui/parse-html'\nimport {remoteForm} from '@github/remote-form'\nimport sudo from '@github-ui/sudo'\nimport {toggleDetailsTarget} from '../behaviors/details'\nimport {iuvpaaSupportLevel} from '@github-ui/webauthn-support-level'\n\ninterface RegistrationResponse {\n  nickname?: string\n  passkey_type?: string\n  registered_passkeys_count?: number\n  registered_security_keys_count?: number\n  webauthn_register_request?: JSON\n  registration?: string\n  error?: string\n}\n\nlet originalErrorMessage: string | null\n\nfunction togglePasskeyRegistrationButton(hidden: boolean) {\n  const registerButton = document.querySelector<HTMLInputElement>('.js-trusted-device-registration-button')!\n  registerButton.hidden = hidden\n}\n\n/******* Reading/writing registration form data ********/\n\nfunction u2fForm(): HTMLFormElement | null {\n  return document.querySelector<HTMLFormElement>('.js-add-u2f-registration-form')\n}\n\nconst registerRequestDataAttribute = 'data-webauthn-register-request'\n\nfunction updateDataAttribute(data: RegistrationResponse): void {\n  if (data.webauthn_register_request) {\n    u2fForm()?.setAttribute(registerRequestDataAttribute, JSON.stringify(data.webauthn_register_request))\n  }\n}\n\n// exporting as an object that can be stubbed for testing purposes\nexport const helper = {\n  reloadPage: (anchor?: string) => {\n    if (anchor) {\n      window.location.replace(`#${anchor}`)\n    }\n    window.location.reload()\n  },\n}\n\n/******* DOM listeners ********/\n\n// delete passkey\nremoteForm('.js-passkey-registration-delete', async function (form, wants) {\n  const registration = form.closest<HTMLElement>('.js-passkey-registration')!\n  const button = registration.querySelector<HTMLButtonElement>('.js-passkey-registration-delete-button')!\n  // Trigger a spinner while deleting a U2F device\n  if (button) {\n    button.disabled = true\n  } else {\n    registration.classList.add('is-sending')\n  }\n\n  const response = await wants.json()\n\n  if (response.json.registered_passkeys_count === 0) {\n    // We need to refresh the UI to update preferred 2FA method\n    helper.reloadPage()\n  } else {\n    // Remove the U2F registration from the list once deleted\n    updateDataAttribute(response.json)\n    registration.remove()\n    if (button && response.json.registered_passkeys_count === 0) {\n      const passkeysView = document.querySelector<HTMLElement>('.js-passkeys-view')!\n      passkeysView.hidden = true\n      const emptyView = document.querySelector<HTMLElement>('.js-passkeys-empty-view')!\n      emptyView.hidden = false\n    }\n  }\n})\n\n// delete security key\nremoteForm('.js-u2f-registration-delete', async function (form, wants) {\n  const registration = form.closest<HTMLElement>('.js-u2f-registration')!\n  const button = registration.querySelector<HTMLButtonElement>('.js-u2f-registration-delete-button')!\n  // Trigger a spinner while deleting a U2F device\n  if (button) {\n    button.disabled = true\n  } else {\n    registration.classList.add('is-sending')\n  }\n\n  const response = await wants.json()\n\n  if (response.json.registered_security_keys_count === 0) {\n    // We need to refresh the UI to update preferred 2FA method and two_factor_summary_row labels\n    helper.reloadPage()\n  } else {\n    // Remove the U2F registration from the list once deleted\n    updateDataAttribute(response.json)\n    registration.remove()\n  }\n})\n\nremoteForm('.js-passkey-update', async function (form, wants) {\n  const container = form.closest<HTMLElement>('.js-details-container')!\n  const errorDisplay = container.querySelector<HTMLElement>('.js-passkey-edit-form-error')!\n  const showNickname = container.querySelector<HTMLElement>('.js-passkey-nickname')!\n\n  let response\n  try {\n    response = await wants.json()\n  } catch (error) {\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    const errorText = error.response?.json?.error\n    if (errorText) {\n      errorDisplay.textContent = errorText\n    }\n    errorDisplay.hidden = false\n  }\n\n  if (!response) return\n\n  toggleDetailsTarget(container)\n  errorDisplay.hidden = true\n  const data = response.json\n  if (data?.nickname) {\n    showNickname.textContent = data.nickname\n  }\n  for (const field of form.elements) {\n    if (field instanceof HTMLInputElement || field instanceof HTMLTextAreaElement) {\n      field.defaultValue = field.value\n    }\n  }\n})\n\n// Reveal the form the input when 'register a new device' is clicked\non('click', '.js-add-u2f-registration-link', function () {\n  const newDeviceBox = document.querySelector<HTMLElement>('.js-new-u2f-registration')!\n  newDeviceBox.classList.add('is-active')\n  newDeviceBox.classList.remove('is-showing-error')\n  const nickname = document.querySelector<HTMLInputElement>('.js-u2f-registration-nickname-field')!\n  nickname.value = ''\n  nickname.focus()\n})\n\n/******* Error Handling ********/\n\n// Reveal the error message with optional custom text content.\nfunction showError(text?: string) {\n  const newDeviceBox = document.querySelector<HTMLElement>('.js-new-u2f-registration')!\n  newDeviceBox.classList.add('is-showing-error')\n  newDeviceBox.classList.remove('is-sending')\n\n  const error_message = newDeviceBox.querySelector<HTMLElement>('.js-webauthn-registration-error-message')!\n  error_message.textContent = ''\n  for (const el of newDeviceBox.querySelectorAll<HTMLElement>('.js-webauthn-message')) {\n    el.hidden = true\n  }\n\n  const error_container = newDeviceBox.querySelector<HTMLElement>('.js-webauthn-registration-error')!\n  error_container.hidden = false\n  error_message.textContent = originalErrorMessage\n\n  const error_message_info = newDeviceBox.querySelector<HTMLElement>('.js-webauthn-registration-error-message-info')!\n  error_message_info.textContent = text ?? ''\n  error_message_info.hidden = false\n}\n\nfunction toggleDuplicatePasskeyMessage(hidden: boolean) {\n  const duplicateMessage = document.querySelector<HTMLElement>('.js-passkey-duplicate-message')!\n  duplicateMessage.hidden = hidden\n}\n\nfunction toggleUpgradeConflictPasskeyMessage(hidden: boolean) {\n  const conflictMessage = document.querySelector<HTMLElement>('.js-webauthn-registration-upgrade-conflict-message')!\n  conflictMessage.hidden = hidden\n}\n\n/******* Registration ********/\n\nfunction resetForm() {\n  const newDeviceBox = document.querySelector<HTMLElement>('.js-new-u2f-registration')!\n  newDeviceBox.classList.remove('is-sending', 'is-active')\n}\n\n// Persist the client's registration response on the server.\nasync function saveRegistration(registerResponse: RegistrationPublicKeyCredential): Promise<void> {\n  const sudoPassed = await sudo()\n  if (!sudoPassed) {\n    throw new Error('sudo failed')\n  }\n\n  const for_passkey = document.querySelector<HTMLButtonElement>('.js-passkey')\n  const form = document.querySelector<HTMLFormElement>('.js-add-u2f-registration-form')!\n\n  ;(form.elements.namedItem('response') as HTMLInputElement).value = JSON.stringify(registerResponse)\n\n  let response\n  try {\n    response = await fetch(form.action, {\n      method: form.method,\n      body: new FormData(form),\n      headers: {accept: 'application/json', 'X-Requested-With': 'XMLHttpRequest'},\n    })\n    if (!response.ok) {\n      throw new Error('Response was not ok')\n    }\n    const data: RegistrationResponse = await response.clone().json()\n\n    updateDataAttribute(data)\n    resetForm()\n    if (for_passkey) {\n      handlePasskeySave(data)\n    } else {\n      handleSecurityKeySave(data)\n    }\n  } catch (error) {\n    if (response) {\n      const errorResponse: RegistrationResponse = await response.json()\n      updateDataAttribute(errorResponse)\n      showError(errorResponse.error)\n    } else {\n      showError()\n    }\n  }\n}\n\nfunction handleSecurityKeySave(data: RegistrationResponse): void {\n  const htmlString = data.registration\n  if (!htmlString) {\n    return\n  }\n\n  const registrations = <HTMLElement>document.querySelector('.js-u2f-registrations')\n  registrations.append(parseHTML(document, htmlString))\n  if (data.registered_security_keys_count === 1) {\n    // for the first registered security key, we need to refresh the UI to update preferred 2FA method and two_factor_summary_row labels\n    helper.reloadPage('webauthn')\n  }\n}\n\nfunction handlePasskeySave(data: RegistrationResponse) {\n  const defer = document.querySelector<HTMLDivElement>('.js-new-u2f-registration-never-ask')\n  if (defer) {\n    defer.hidden = true\n  }\n  document.querySelector<HTMLDivElement>('.js-new-u2f-registration')!.hidden = true\n  document.querySelector<HTMLDivElement>('.js-webauthn-confirm')!.hidden = true\n  document.querySelector<HTMLDivElement>('.js-new-u2f-registration-success')!.hidden = false\n  const nickname = document.querySelector<HTMLInputElement>('.js-u2f-registration-nickname-field')!\n  switch (data.passkey_type) {\n    case 'synced': {\n      document.querySelector<HTMLInputElement>('.js-u2f-registration-nickname-advice-synced')!.hidden = false\n      break\n    }\n    case 'hardware': {\n      document.querySelector<HTMLInputElement>('.js-u2f-registration-nickname-advice-hardware')!.hidden = false\n      break\n    }\n    case 'bound':\n    case 'upgraded': {\n      nickname.value = data.nickname || ''\n      break\n    }\n  }\n  nickname.focus()\n}\n\nfunction showSpinner() {\n  const newDeviceBox = document.querySelector<HTMLElement>('.js-new-u2f-registration')!\n  newDeviceBox.classList.add('is-sending')\n  newDeviceBox.classList.remove('is-showing-error')\n}\n\nfunction hideSpinner() {\n  const newDeviceBox = document.querySelector<HTMLElement>('.js-new-u2f-registration')!\n  newDeviceBox.classList.remove('is-sending')\n}\n\n// Ask the device to register itself when the user taps its button.\nexport async function waitForWebauthnDevice(): Promise<void> {\n  const passkey = document.querySelector<HTMLButtonElement>('.js-passkey')\n  if (passkey) {\n    await waitForPasskeyGesture()\n  } else {\n    await waitForSecurityKeyGesture()\n  }\n}\n\nexport async function waitForPasskeyGesture(): Promise<void> {\n  try {\n    togglePasskeyRegistrationButton(true)\n    toggleDuplicatePasskeyMessage(true)\n    toggleUpgradeConflictPasskeyMessage(true)\n    showSpinner()\n\n    const registerRequestJSON: CredentialCreationOptionsJSON = JSON.parse(\n      u2fForm()!.getAttribute(registerRequestDataAttribute)!,\n    )\n    const registerResponse = await create(parseCreationOptionsFromJSON(registerRequestJSON))\n    await saveRegistration(registerResponse)\n  } catch (error) {\n    hideSpinner()\n\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    if (error.name === 'InvalidStateError') {\n      if (userHasSecurityKeys()) {\n        // if the user has security keys show the confirm\n        document.querySelector<HTMLButtonElement>('.js-new-u2f-registration')!.hidden = true\n        document.querySelector<HTMLButtonElement>('.js-webauthn-confirm')!.hidden = false\n        document.querySelector<HTMLButtonElement>('.js-webauthn-confirm-button')!.focus()\n      } else {\n        // if the user has no security keys and they have passkeys, we can assume it's a duplicate Passkey\n        if (userHasPasskeys()) {\n          togglePasskeyRegistrationButton(false)\n          toggleDuplicatePasskeyMessage(false)\n        } else {\n          // if the user has no passkeys, some other error has occurred (shouldn't happen)\n          togglePasskeyRegistrationButton(false)\n          showError()\n        }\n      }\n    } else {\n      togglePasskeyRegistrationButton(false)\n      showError()\n      // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n      if (error.name !== 'NotAllowedError' && userHasSecurityKeys() && (await iuvpaaSupportLevel()) === 'unsupported') {\n        toggleUpgradeConflictPasskeyMessage(false)\n      }\n      throw error\n    }\n  }\n}\n\nexport async function waitForSecurityKeyGesture(): Promise<void> {\n  try {\n    showSpinner()\n    const registerRequestJSON: CredentialCreationOptionsJSON = JSON.parse(\n      u2fForm()!.getAttribute(registerRequestDataAttribute)!,\n    )\n    const registerResponse = await create(parseCreationOptionsFromJSON(registerRequestJSON))\n    await saveRegistration(registerResponse)\n  } catch (error) {\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    if (error.name === 'InvalidStateError') {\n      showError()\n      // and show duplicate security key error message\n      document.querySelector<HTMLElement>('.js-webauthn-duplicate-registration-message')!.hidden = false\n    } else {\n      showError()\n      throw error\n    }\n  }\n}\n\non('click', '.js-add-u2f-registration-retry', function () {\n  waitForWebauthnDevice()\n})\n\n// Reveal the passkey registration form.\nobserve('.js-add-u2f-registration-form.for-trusted-device', {\n  constructor: HTMLFormElement,\n  add(el) {\n    el.hidden = false\n  },\n})\n\n// Handle the creation of a new registration.\non('submit', '.js-add-u2f-registration-form', function (event) {\n  event.preventDefault()\n  waitForWebauthnDevice()\n})\n\nobserve('.js-webauthn-box', function (el) {\n  // Remove the 'unsupported' message.\n  el.classList.toggle('available', supported())\n})\n\nobserve('.js-webauthn-registration-error-message', function (el) {\n  originalErrorMessage = el.textContent\n  el.textContent = ''\n})\n\non('auto-check-success', '.js-u2f-registration-nickname-field', function () {\n  const continueButton = document.querySelector<HTMLInputElement>('.js-trusted-device-continue')!\n  continueButton.disabled = false\n})\n\non('auto-check-error', '.js-u2f-registration-nickname-field', function () {\n  const continueButton = document.querySelector<HTMLInputElement>('.js-trusted-device-continue')!\n  continueButton.disabled = true\n})\n\nfunction userHasSecurityKeys() {\n  const securityKeyElem = document.querySelector<HTMLInputElement>('#existing_security_key_count')\n  return securityKeyElem && parseInt(securityKeyElem.value) > 0\n}\n\nfunction userHasPasskeys() {\n  const passkeyElem = document.querySelector<HTMLInputElement>('#existing_passkey_count')\n  return passkeyElem && parseInt(passkeyElem.value) > 0\n}\n","import {controller, target} from '@github/catalyst'\nimport type {QueryBuilderElement} from '@github-ui/query-builder-element'\n@controller\nclass DependabotAlertRuleFormElement extends HTMLElement {\n  @target name: HTMLInputElement\n  @target rule: HTMLInputElement\n  @target ruleOptions: HTMLElement\n  @target updateRule: HTMLInputElement\n\n  get #dependabotUpdatesEnabled() {\n    return this.querySelector<HTMLInputElement>('input[name=dependabot_updates_enabled]')?.value === 'true'\n  }\n\n  get #selectedRuleOption() {\n    return this.ruleOptions.querySelector<HTMLInputElement>('input:checked')\n  }\n\n  get #untilPatchRuleOption() {\n    return this.ruleOptions.querySelector<HTMLInputElement>('input[value=until_patch]')\n  }\n\n  connectedCallback() {\n    this.toggleRuleCheckbox()\n    this.focusAlertCriteriaIfInvalid()\n  }\n\n  toggleRuleCheckbox() {\n    if (!this.rule.checked) {\n      if (this.#selectedRuleOption?.value !== 'until_patch' && !this.#dependabotUpdatesEnabled) {\n        this.#untilPatchRuleOption?.click()\n      }\n      this.ruleOptions.hidden = true\n    } else {\n      this.ruleOptions.hidden = false\n    }\n    this.selectedRuleOptionDidChange()\n  }\n\n  selectedRuleOptionDidChange() {\n    // If Dependabot security updates are enabled, the updateRule checkbox is always checked and disabled,\n    // so we can ignore changes to the selected rule option.\n    // If `updateRule` is missing, it's because the form is not being rendered\n    if (this.#dependabotUpdatesEnabled || !this.updateRule) {\n      return\n    }\n    if (this.#selectedRuleOption?.value !== 'until_patch') {\n      this.updateRule.checked = false\n      this.updateRule.disabled = true\n    } else {\n      this.updateRule.disabled = false\n    }\n  }\n\n  focusAlertCriteriaIfInvalid() {\n    const queryBuilderInput = <HTMLInputElement>this.querySelector('query-builder input')\n    if (queryBuilderInput.hasAttribute('invalid')) {\n      // for the moment the nameField is the only field that is before this field, therefore\n      // we can assume that the queryBuilder is the first field that is invalid if the nameField is valid\n      if (!this.name.hasAttribute('invalid')) {\n        // we are (ab)using the `query-builder:request-provider` event to determine when the query builder\n        // is ready to be focused as it's not fully initialized during this callback\n        // https://github.com/github/dependabot-alerts/issues/1508\n        let focused = false\n        document.addEventListener('query-builder:request-provider', (event: Event) => {\n          // return unless the event is for our our query builder\n          const eventTarget = <QueryBuilderElement>event.target\n          if (!eventTarget || eventTarget.input.id !== queryBuilderInput.id) return\n\n          // since this event can be fired multiple times, only focus on the first\n          if (!focused) {\n            focused = true\n            queryBuilderInput.focus()\n          }\n        })\n      }\n    }\n  }\n}\n","import {controller, target} from '@github/catalyst'\n\n@controller\nclass ActionsPolicyPopoverElement extends HTMLElement {\n  @target popoverEl: HTMLElement\n\n  override togglePopover() {\n    this.popoverEl.hidden = !this.popoverEl.hidden\n  }\n}\n","import {getState, replaceState} from '../history'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\non(\n  'click',\n  '.js-actions-runner-platform-radio',\n  function (event) {\n    const target = event.target as Element\n    const selection = target.closest<HTMLElement>('.js-actions-runner-instructions')!\n    const architectureMenu = selection.querySelector<HTMLElement>('.js-actions-runner-architecture-menu')!\n\n    const os = target.getAttribute('data-download-os')!\n    const defaultArchitecture = architectureMenu.getAttribute('data-default-architecture')!\n\n    for (const el of architectureMenu.querySelectorAll<HTMLElement>('[data-download-os]')) {\n      const elementOS = el.getAttribute('data-download-os')!\n      el.hidden = elementOS !== os\n      if (elementOS === os && el.getAttribute('data-download-architecture') === defaultArchitecture) {\n        el.click()\n      }\n    }\n    selection.querySelector<HTMLElement>('.js-actions-runner-windows-instructions')!.hidden = os !== 'win'\n    selection.querySelector<HTMLElement>('.js-actions-runner-windows-arm64-preview')!.hidden = !(\n      os === 'win' && defaultArchitecture === 'arm64'\n    )\n    selection.querySelector<HTMLElement>('.js-actions-runner-unix-instructions')!.hidden = os === 'win'\n    updateUrlParams('os', os)\n  },\n  {capture: true},\n)\n\non(\n  'details-menu-selected',\n  '.js-actions-runner-architecture-menu',\n  function (event) {\n    const target = event.detail.relatedTarget as Element\n    const selection = target.closest<HTMLElement>('.js-actions-runner-instructions')!\n    const downloadUrl = target.getAttribute('data-download-url')!\n    const filename = target.getAttribute('data-download-filename')!\n    const token = target.getAttribute('data-download-token')!\n    const hash = target.getAttribute('data-download-hash')!\n    const os = target.getAttribute('data-download-os')!\n\n    for (const el of selection.querySelectorAll('.js-action-runner-url')) {\n      el.textContent = downloadUrl\n    }\n\n    for (const el of selection.querySelectorAll('.js-action-runner-filename')) {\n      el.textContent = filename\n    }\n\n    for (const el of selection.querySelectorAll('.js-action-runner-token')) {\n      el.textContent = token\n    }\n\n    for (const el of selection.querySelectorAll('.js-action-runner-hash')) {\n      el.textContent = hash\n    }\n    const architecture = target.getAttribute('data-download-architecture')!\n    selection.querySelector<HTMLElement>('.js-actions-runner-windows-arm64-preview')!.hidden = !(\n      os === 'win' && architecture === 'arm64'\n    )\n    updateUrlParams('arch', architecture)\n  },\n  {capture: true},\n)\n\nfunction updateUrlParams(key: string, value: string) {\n  const urlParams = new URLSearchParams(window.location.search)\n  urlParams.set(key, value)\n\n  const url = new URL(window.location.href, window.location.origin)\n  url.search = urlParams.toString()\n  replaceState(getState(), '', url.toString())\n}\n","import {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {pushState} from '../history'\nimport {ready} from '@github-ui/document-ready'\n\n// If the page parameter is provided, the page number in the\n// container's src URL will be updated to the provided number.\n// Otherwise the src URL will be used as-is.\n//\n// This function is exported so that it can be tested.\nexport async function updateAdvancedSecurityEntity(container: HTMLElement, page?: number) {\n  const showOnError = container.querySelector<HTMLElement>('[data-show-on-error]')\n  const loadingElement = container.querySelector<HTMLElement>('[data-loading]')\n\n  const dataContainer = container.querySelector<HTMLElement>('[data-content-container]')\n  if (dataContainer == null) {\n    handleErrorState(showOnError, loadingElement, dataContainer)\n    return\n  }\n\n  let src = container.getAttribute('data-src')\n  if (src == null) {\n    handleErrorState(showOnError, loadingElement, dataContainer)\n    return\n  }\n\n  // Update the page number if one has been explicitly passed in\n  // and hide the pager, replacing it with a spinner.\n  //\n  // There's no javascript to handle showing the pager again and\n  // hiding the paging spinner, since the container's entire contents\n  // - including the pager - are replaced with the response data (or\n  // error message) anyway!\n  if (page !== undefined) {\n    const srcURL = new URL(src, window.origin)\n\n    srcURL.pathname = srcURL.pathname.replace(/\\d+$/, page.toString())\n\n    const newSrc = srcURL.toString()\n\n    if (src === newSrc) {\n      // another container has triggered a statechange but we are still on the correct page and do not need\n      // to fetch again\n      return\n    }\n\n    src = newSrc\n\n    const pager = container.querySelector<HTMLElement>('.js-advanced-security-entities-pagination')\n    if (pager) {\n      pager.hidden = true\n    }\n    const pagerLoadingElement = container.querySelector('[data-pager-loading]')\n    if (pagerLoadingElement) {\n      pagerLoadingElement.removeAttribute('hidden')\n    }\n    const otherHideables = container.querySelectorAll<HTMLElement>('[data-hide-when-paging]')\n    for (const hideable of otherHideables) {\n      hideable.hidden = true\n    }\n  } else {\n    if (dataContainer.children.length > 0) {\n      // another pjax container has reloaded but we are already showing a page and we do not need\n      // to fetch again\n      return\n    }\n  }\n\n  let entityList\n  try {\n    entityList = await fetchSafeDocumentFragment(document, src)\n  } catch {\n    handleErrorState(showOnError, loadingElement, dataContainer)\n    return\n  }\n  if (!entityList) {\n    handleErrorState(showOnError, loadingElement, dataContainer)\n    return\n  }\n\n  if (loadingElement) {\n    loadingElement.hidden = true\n  }\n\n  dataContainer.textContent = ''\n  dataContainer.appendChild(entityList)\n}\n\nfunction findContainerWithRef(refToFind: string): HTMLDivElement | null {\n  const containers = document.querySelectorAll<HTMLDivElement>('.js-ghas-entity-list-container')\n  if (containers == null || containers.length === 0) {\n    return null\n  }\n\n  for (const container of containers) {\n    const showOnError = container.querySelector<HTMLElement>('[data-show-on-error]')\n    const loadingElement = container.querySelector<HTMLElement>('[data-loading]')\n    const dataContainer = container.querySelector<HTMLElement>('[data-content-container]')\n\n    const ref = container.getAttribute('data-ref')\n    if (ref == null) {\n      handleErrorState(showOnError, loadingElement, dataContainer)\n      return null\n    }\n\n    // found the container worth updating\n    if (ref === refToFind) {\n      return container\n    }\n  }\n\n  return null\n}\n\nexport async function retrieveAdvancedSecurityEntities(page?: number) {\n  const containers = document.querySelectorAll<HTMLDivElement>('.js-ghas-entity-list-container')\n  if (containers == null || containers.length === 0) {\n    return\n  }\n\n  for (const container of containers) {\n    await updateAdvancedSecurityEntity(container, page)\n  }\n}\n\nfunction handleErrorState(\n  showOnError: HTMLElement | null,\n  loadingElement: HTMLElement | null,\n  dataContainer: HTMLElement | null,\n) {\n  if (showOnError) {\n    showOnError.hidden = false\n  }\n  if (loadingElement) {\n    loadingElement.hidden = true\n  }\n  if (dataContainer) {\n    dataContainer.textContent = ''\n  }\n}\n\n// retrieve the repo/org list on page load\n;(async () => {\n  await ready\n  retrieveAdvancedSecurityEntities()\n})()\n\n// switching between settings pages is handled by turbo, so doesn't trigger a\n// full page reload. Listen for turbo:load to handle this\ndocument.addEventListener('turbo:load', function () {\n  retrieveAdvancedSecurityEntities()\n})\n\nwindow.addEventListener('popstate', function (event) {\n  if (event.state === null) {\n    // the user has popped through all the states and gone back to the first page\n    // this will not trigger a statechange event so we must reload it explicitly\n    retrieveAdvancedSecurityEntities(1)\n  }\n})\n\n// reload entries on a push/pop state change\nwindow.addEventListener('statechange', function () {\n  const params = new URLSearchParams(document.location.search)\n  const trackedParams = ['advanced_security_entities_page', 'advanced_security_users_page']\n\n  for (const param of trackedParams) {\n    const pageNumber = parseInt(params.get(param) || '')\n    if (isNaN(pageNumber)) {\n      continue\n    }\n\n    const container = findContainerWithRef(param)\n    if (container == null) {\n      continue\n    }\n\n    updateAdvancedSecurityEntity(container, pageNumber)\n  }\n})\n\non('click', '.js-advanced-security-entities-pagination a', function (event) {\n  if (event == null || event.target == null) {\n    return\n  }\n  const href = (event.target as HTMLAnchorElement).href\n\n  const hrefURL = new URL(href, window.origin)\n\n  const currentParams = new URLSearchParams(document.location.search)\n\n  for (const [key, value] of currentParams) {\n    if (!hrefURL.searchParams.has(key)) {\n      hrefURL.searchParams.append(key, value)\n    }\n  }\n\n  pushState(null, '', hrefURL.toString())\n\n  event.preventDefault()\n})\n","import {type ColorMode, getClientTheme, getPreferredColorMode, setClientMode, setClientTheme} from '../color-modes'\nimport {controller, target, targets} from '@github/catalyst'\n\n@controller\nclass AppearanceFormElement extends HTMLElement {\n  @target saveMessage: HTMLElement\n  @targets modePanels: HTMLElement[]\n\n  modeSelectChange(event: Event) {\n    const select = event.currentTarget as HTMLSelectElement\n    const modeName = select.value\n    const form = this.activatePanel(modeName)!\n    this.activateForm(form)\n  }\n\n  activatePanel(modeName: string) {\n    let activeForm\n    for (const panel of this.modePanels) {\n      const hidden = this.modePanels.length > 1 ? panel.getAttribute('data-mode-panel') !== modeName : false\n      panel.hidden = hidden\n      if (!hidden) {\n        const form = panel.querySelector('form') as HTMLFormElement\n        if (form) {\n          activeForm = form\n        }\n      }\n    }\n    return activeForm\n  }\n\n  activateForm(form: HTMLFormElement) {\n    const selectedInputs = form.querySelectorAll<HTMLInputElement>('input[type=\"radio\"]:checked')\n    if (selectedInputs.length === 0) {\n      const currentMode = getPreferredColorMode()\n      const userTheme = getClientTheme(currentMode as ColorMode)\n      const input = form.querySelector<HTMLInputElement>(`input[value=${userTheme}]`)\n      if (input) {\n        input.checked = true\n        this.changeTheme(input)\n      }\n    } else {\n      for (const selectedInput of selectedInputs) {\n        this.changeTheme(selectedInput)\n      }\n    }\n    form.dispatchEvent(new Event('submit'))\n  }\n\n  themeClicked(event: Event) {\n    const selectedInput = event.currentTarget as HTMLInputElement\n    this.changeTheme(selectedInput)\n  }\n\n  changeTheme(input: HTMLInputElement) {\n    this.statusReset()\n    const theme = input.value\n    const themeType = input.getAttribute('data-type')\n    const mode = input.getAttribute('data-mode')\n\n    if (theme && themeType && mode) {\n      setClientMode(mode as ColorMode)\n      setClientTheme(theme, themeType as ColorMode)\n    }\n  }\n\n  async saveTheme(event: Event) {\n    event.preventDefault()\n    this.loading()\n\n    const form = event.currentTarget as HTMLFormElement\n    const formData = new FormData(form)\n    const response = await fetch(form.action, {\n      method: form.method,\n      body: formData,\n      headers: {'X-Requested-With': 'XMLHttpRequest'},\n    })\n\n    if (response.status === 200) {\n      this.saved()\n    } else {\n      this.errored()\n    }\n  }\n\n  statusReset() {\n    this.saveMessage.classList.remove('status-indicator-success', 'status-indicator-loading', 'status-indicator-failed')\n  }\n\n  loading() {\n    this.statusReset()\n    this.saveMessage.classList.add('status-indicator-loading')\n  }\n\n  saved() {\n    this.statusReset()\n    this.saveMessage.classList.add('status-indicator-success')\n  }\n\n  errored() {\n    this.statusReset()\n    this.saveMessage.classList.add('status-indicator-failed')\n  }\n}\n","import {type ColorMode, getPreferredColorMode} from '../color-modes'\nimport {controller, target, targets} from '@github/catalyst'\n\n@controller\nclass AppearancePreviewElement extends HTMLElement {\n  @target boxElement: HTMLElement\n  @target activeLabel: HTMLElement\n  @targets themePreviews: HTMLElement[]\n\n  connectedCallback() {\n    this.checkActive()\n    window\n      .matchMedia(`(prefers-color-scheme: ${this.getAttribute('data-mode')})`)\n      .addEventListener('change', () => this.checkActive())\n  }\n\n  themePreview(e: Event) {\n    const disc = e.currentTarget as HTMLElement\n    if (!disc) {\n      return\n    }\n    const theme = disc.getAttribute('data-theme')\n    for (const preview of this.themePreviews) {\n      preview.hidden = preview.getAttribute('data-theme') !== theme\n    }\n  }\n\n  previewReset() {\n    const selectedTheme = this.boxElement.querySelector('input:checked') as HTMLInputElement\n    const theme = selectedTheme.value\n    for (const preview of this.themePreviews) {\n      preview.hidden = preview.getAttribute('data-theme') !== theme\n    }\n  }\n\n  checkActive() {\n    if ((this.getAttribute('data-mode') as ColorMode) === getPreferredColorMode()) {\n      this.boxElement.classList.add('Box--blue')\n      this.activeLabel.hidden = false\n    } else {\n      this.boxElement.classList.remove('Box--blue')\n      this.activeLabel.hidden = true\n    }\n  }\n}\n","import {debounce} from '@github/mini-throttle'\nimport {onInput} from '../onfocus'\nimport {remoteForm} from '@github/remote-form'\nimport {requestSubmit} from '@github-ui/form-utils'\n\nremoteForm('.js-app-bgcolor-form', async function (form, wants) {\n  const noticeContainer = form.querySelector('.js-app-bgcolor-save-notice')\n  if (!noticeContainer) {\n    return\n  }\n\n  let response\n  try {\n    response = await wants.html()\n  } catch (responseError) {\n    noticeContainer.classList.remove('visible')\n  }\n\n  if (response) {\n    noticeContainer.classList.add('visible')\n    setTimeout(() => noticeContainer.classList.remove('visible'), 1500)\n  }\n})\n\nfunction updateLogoBackgroundColor(container: Element, bgcolor: string) {\n  const bgcolorEl = container.querySelector('.js-app-logo-with-bgcolor')\n\n  if (bgcolorEl instanceof HTMLElement) {\n    bgcolorEl.style.backgroundColor = `#${bgcolor}`\n  }\n}\n\nfunction saveLogoBackgroundColor(form: HTMLFormElement, input: HTMLInputElement) {\n  if (input.checkValidity()) {\n    requestSubmit(form)\n  }\n}\n\nonInput('.js-app-bgcolor-input', function (event) {\n  const input = event.target\n  if (!(input instanceof HTMLInputElement)) return\n  const form = input.closest<HTMLFormElement>('form')!\n  const color = input.value.replace(/^#/, '')\n\n  if (color.length < 1) {\n    input.classList.remove('color-fg-danger')\n    updateLogoBackgroundColor(form, input.defaultValue)\n    return\n  }\n\n  if (input.checkValidity()) {\n    input.classList.remove('color-fg-danger')\n    updateLogoBackgroundColor(form, color)\n\n    if (form.classList.contains('js-app-bgcolor-form')) {\n      debounce(() => saveLogoBackgroundColor(form, input), 400)()\n    }\n  } else {\n    input.classList.add('color-fg-danger')\n    updateLogoBackgroundColor(form, input.defaultValue)\n  }\n})\n","// GitHub Apps: Installation repository select menu behavior\n\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nfunction selectedRepositories() {\n  return document.querySelectorAll<HTMLInputElement>('.js-selected-repository-field')\n}\n\nfunction isMaxRepositoriesSelected() {\n  const form = document.querySelector('.js-integrations-install-form')\n  if (form instanceof HTMLFormElement) {\n    const max = +(form.getAttribute('data-max-repos') || 0)\n    return max > 0 && selectedRepositories().length >= max\n  }\n}\n\n// Fetch new menu content, excluding selected repositories\nfunction toggleRepoVisibilityFromResults() {\n  const menu = document.querySelector<HTMLElement>('#repository-menu-list')!\n  const ids = Array.from(selectedRepositories()).map(input => input.value)\n  let anyVisible = false\n  for (const item of menu.querySelectorAll<HTMLButtonElement>('[role=menuitem]')) {\n    const hidden = ids.includes(item.value)\n    if (!anyVisible && !hidden) anyVisible = true\n    item.hidden = hidden\n  }\n  const noRepo = menu.querySelector('.js-no-repository-found')\n  if (noRepo instanceof HTMLElement) noRepo.hidden = anyVisible\n}\n\n// Disable the submit and cancel buttons if repository selection is required\nfunction updateFormValidity() {\n  const selectRepos = document.querySelector<HTMLInputElement>('.js-select-repositories-radio')\n  if (!selectRepos) return\n\n  const formIsValid = !selectRepos.checked || selectedRepositories().length > 0\n  toggleEnable('js-integrations-install-form-submit', formIsValid)\n  toggleEnable('js-integrations-install-form-cancel', true)\n}\n\n// Enable/disable button matching certain class\nfunction toggleEnable(className: string, enable: boolean) {\n  const button = document.querySelector(`.${className}`)\n  if (button && button instanceof HTMLButtonElement) {\n    if (button.disabled === enable) {\n      button.disabled = !enable\n    }\n  }\n}\n\n// Remove repository selection inputs if repository selection is not required\nfunction toggleRepoSelectionSection() {\n  const selectRepos = document.querySelector<HTMLInputElement>('.js-select-repositories-radio')\n  const repoSection = document.querySelector<HTMLElement>('.js-integrations-install-repo-selection')!\n  if (!selectRepos) return\n\n  repoSection.classList.toggle('has-removed-contents', !selectRepos.checked)\n}\n\nfunction updateRepositoriesSelectedCopy() {\n  const count = selectedRepositories().length\n  const repoCountEl = document.querySelector<HTMLElement>('.js-integration-total-repos')!\n  repoCountEl.hidden = count === 0\n  // eslint-disable-next-line i18n-text/no-en\n  repoCountEl.textContent = `Selected ${count} ${count === 1 ? 'repository' : 'repositories'}.`\n}\n\nobserve('.js-apps-install-select-repositories-container remote-input', el => {\n  el.addEventListener('remote-input-success', toggleRepoVisibilityFromResults)\n  el.addEventListener('remote-input-error', toggleRepoVisibilityFromResults)\n})\n\non(\n  'details-menu-selected',\n  '.js-apps-install-select-repositories-menu',\n  function (event) {\n    const button = event.detail.relatedTarget as Element\n\n    // Copy template content and insert selected repository into the \"picked\" list\n    const pickedCountainer = document.querySelector<HTMLElement>('.js-integrations-install-repo-picked')!\n    const result = button.querySelector<HTMLTemplateElement>('template')!.content.cloneNode(true)\n    pickedCountainer.prepend(result)\n\n    // Remove any errors from the form\n    document.querySelector<HTMLElement>('.js-min-repository-error')!.hidden = true\n    document.querySelector<HTMLElement>('.js-max-repository-warning')!.hidden = !isMaxRepositoriesSelected()\n\n    // Update selected repo counts and enable the install/save button if\n    // necessary\n    updateRepositoriesSelectedCopy()\n    updateFormValidity()\n    toggleRepoVisibilityFromResults()\n  },\n  {capture: true},\n)\n\non('change', '.js-integrations-install-form', updateFormValidity)\non('change', '.js-user-programmatic-access-form', updateFormValidity)\n\non('click', '.js-repository-picker-remove', function (event) {\n  // Remove the element from the \"Picked\" list\n  const row = event.currentTarget.closest<HTMLElement>('.js-repository-picker-result')!\n  row.remove()\n\n  // Show an error message if no repos are selected\n  document.querySelector<HTMLElement>('.js-min-repository-error')!.hidden = selectedRepositories().length > 0\n\n  updateRepositoriesSelectedCopy()\n  updateFormValidity()\n  toggleRepoVisibilityFromResults()\n})\n\non('change', '.js-installation-repositories-radio', toggleRepoSelectionSection)\n\non('click', '.js-integrations-install-form-cancel', function () {\n  window.location.reload()\n})\n","import {controller, target} from '@github/catalyst'\nimport {parseHTML} from '@github-ui/parse-html'\n\n@controller\nclass DefaultLocationSettingElement extends HTMLElement {\n  @target manualRadioButton: HTMLInputElement\n  @target regionSelect: HTMLInputElement\n  @target locationForm: HTMLFormElement\n  @target autoRadioButton: HTMLInputElement\n\n  async changeManuallySelected() {\n    if (this.manualRadioButton.checked) {\n      this.regionSelect.disabled = false\n      if (this.regionSelect.value !== '') {\n        await this.regionSelected()\n      }\n    }\n  }\n\n  async changeAutoSelected() {\n    if (this.autoRadioButton.checked) {\n      this.regionSelect.disabled = true\n      await this.submitSelectedRegion(null)\n    }\n  }\n\n  async regionSelected() {\n    const selectedRegion = this.regionSelect.value\n    await this.submitSelectedRegion(selectedRegion)\n  }\n\n  async submitSelectedRegion(region: string | null) {\n    const data = new FormData(this.locationForm)\n    if (region !== null) {\n      data.append('codespace_default_location', region)\n    }\n    const response = await fetch(this.locationForm.action, {\n      method: this.locationForm.method,\n      body: data,\n      headers: {\n        Accept: 'text/fragment+html',\n        'X-Requested-With': 'XMLHttpRequest',\n      },\n    })\n    const html = parseHTML(document, await response.text())\n    const settingContainer = this.closest('.js-default-location-setting-container')!\n    settingContainer.replaceWith(html)\n  }\n}\n","import '../codespaces/default-location-setting-element'\nimport {TemplateInstance} from '@github/template-parts'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {parseHTML} from '@github-ui/parse-html'\n\non('submit', '.js-codespaces-user-settings-form', async event => {\n  const form = event.currentTarget as HTMLFormElement\n  event.preventDefault()\n  const response = await fetch(form.action, {\n    method: form.method,\n    body: new FormData(form),\n    headers: {Accept: 'text/fragment+html'},\n  })\n\n  // Show an error message (if request fails)\n  if (response.status >= 400) {\n    // eslint-disable-next-line i18n-text/no-en\n    const message = 'An unknown error occurred.'\n    const template = document.querySelector<HTMLTemplateElement>('template.js-flash-template')!\n    template.after(new TemplateInstance(template, {className: 'flash-error', message}))\n  } else {\n    const target = <HTMLElement>form.closest('[data-replace-remote-form-target]')\n\n    const partial = parseHTML(document, await response.text())\n    replaceAndRefocus(target, partial)\n  }\n})\n\nfunction replaceAndRefocus(target: HTMLElement, partial: DocumentFragment) {\n  const partialContent = partial.querySelector('*')\n\n  const focusedElement = target.ownerDocument.activeElement\n\n  let elementToRefocus\n  if (focusedElement instanceof HTMLElement) {\n    elementToRefocus = partialContent?.querySelector(generateCssSelectorForElement(focusedElement))\n  }\n\n  target.replaceWith(partial)\n\n  if (elementToRefocus instanceof HTMLElement) {\n    elementToRefocus.focus()\n  }\n}\n\nfunction generateCssSelectorForElement(element: HTMLElement) {\n  const tagName = element.tagName.toLowerCase()\n  const classNames = element.hasAttribute('class') ? `.${element.className.split(' ').join('.')}` : ''\n  const id = element.hasAttribute('id') ? `#${element.id}` : ''\n  const name = element.hasAttribute('name') ? `[name=\"${element.getAttribute('name')}\"]` : ''\n\n  return `${tagName}${id}${classNames}${name}`\n}\n\non('click', '.js-codespaces-user-secrets-form input[name=repo]', async event => {\n  const input = (event.currentTarget as HTMLInputElement)!\n  const form = input.closest<HTMLElement>('form')!\n  if (!form.querySelector(`[name=\"codespaces_user_secret[repository_ids][]\"][value=\"${input.value}\"]`)) {\n    // Create and insert the repository control\n    const repoName = input.closest('.select-menu-item-text')!.querySelector('[data-menu-button-contents]')!.textContent\n    if (repoName && input.value) {\n      const repoControl = createRepositoryRow(repoName, input.value)\n      form.querySelector('[data-target=\"selected-repositories.repositories\"]')!.append(repoControl)\n    }\n    // Update the count\n    updateSelectedRepositoryCount(event)\n  }\n  input.closest('details')!.removeAttribute('open')\n  event.preventDefault()\n})\n\non(\n  'change',\n  '.js-codespaces-user-secrets-form input[name=\"codespaces_user_secret[repository_ids][]\"]',\n  updateSelectedRepositoryCount,\n)\n\nfunction createRepositoryRow(repositoryName: string, repositoryId: string) {\n  const repoControl = document.createElement('li')\n  repoControl.className = 'css-truncate d-flex flex-items-center width-full'\n  const checkbox = document.createElement('input')\n  checkbox.className = 'repository-item-checkbox js-repository-item-checkbox mx-2 position-absolute'\n  checkbox.type = 'checkbox'\n  checkbox.name = 'codespaces_user_secret[repository_ids][]'\n  checkbox.value = repositoryId\n  checkbox.id = `user-secret-repo-${repositoryId}`\n  checkbox.checked = true\n  repoControl.append(checkbox)\n  const label = document.createElement('label')\n  label.className = 'repository-item-name d-flex flex-items-center width-full color-fg-default py-1 pr-1 pl-5'\n  label.setAttribute('for', `user-secret-repo-${repositoryId}`)\n  label.title = repositoryName\n  label.textContent = repositoryName\n  repoControl.append(label)\n\n  return repoControl\n}\n\nfunction updateSelectedRepositoryCount(event: Event) {\n  const input = (event.currentTarget as HTMLInputElement)!\n  const form = input.closest<HTMLElement>('form')!\n  // Update the count\n  const count = form.querySelectorAll('[name=\"codespaces_user_secret[repository_ids][]\"]:checked').length\n  form.querySelector<HTMLElement>('[data-target=\"selected-repositories.plural\"]')!.hidden = count === 1\n  form.querySelector<HTMLElement>('[data-target=\"selected-repositories.singular\"]')!.hidden = count !== 1\n  form.querySelector<HTMLElement>('[data-target=\"selected-repositories.count\"]')!.textContent = String(count)\n  form.querySelector<HTMLElement>('[data-target=\"selected-repositories.active-warning\"]')!.hidden = count !== 0\n}\n\n// We're using this instead of a `pattern=` attribute on this input since using\n// a pattern doesn't support case-insensitivity\non('focusout', '.js-codespaces-user-secrets-form input[name=\"codespaces_user_secret[name]\"]', event => {\n  const field = event.currentTarget as HTMLInputElement\n  const value = field.value\n\n  const regex = new RegExp('^(?!github).+', 'i')\n  const formGroup = field.closest('div.form-group')!\n\n  if (regex.test(value)) {\n    field.setCustomValidity('')\n    formGroup.classList.remove('errored')\n    field.removeAttribute('aria-describedby')\n  } else {\n    // This string is never surfaced to the UI\n    // eslint-disable-next-line i18n-text/no-en\n    field.setCustomValidity('Secret names cannot start with \"GITHUB\"')\n    field.setAttribute('aria-describedby', 'codespaces-secret-name-error')\n    formGroup.classList.add('errored')\n  }\n  const form = field.closest<HTMLFormElement>('form')!\n  form.dispatchEvent(new Event('change'))\n})\n\non('focusout', '.js-codespaces-user-secrets-form textarea[name=\"secret_value\"]', event => {\n  const field = event.currentTarget as HTMLInputElement\n\n  const value = field.value\n\n  const formGroup = field.closest('div.form-group')!\n  if (value.trim() === '') {\n    formGroup.classList.add('errored')\n    field.setAttribute('aria-describedby', 'codespaces-secret-value-error')\n  } else {\n    formGroup.classList.remove('errored')\n    field.removeAttribute('aria-describedby')\n  }\n})\n","import memoize from '@github/memoize'\nimport {\n  FetchDataEvent,\n  FilterItem,\n  type FilterProvider,\n  type QueryEvent,\n  type QueryFilterElement,\n} from '@github-ui/query-builder-element/query-builder-api'\nimport type {QueryBuilderElement} from '@github-ui/query-builder-element'\n\nimport {hasMatch, score} from 'fzy.js'\n\ninterface Suggestion {\n  value: string\n  name?: string\n  description?: string\n}\n\ntype BaseProviderProps = {\n  queryBuilder: QueryBuilderElement\n  name: string\n  value: string\n  description: string\n  priority: number\n  suggestionConfigurationAttribute: string | null\n  suggestionConfigurationPath: string | null\n}\n\nconst memoizeCache = new Map()\nconst memoizeFetchJSON = memoize(fetchJSON, {cache: memoizeCache})\n\nasync function fetchJSON(url: string) {\n  const response = await fetch(url, {headers: {Accept: 'application/json'}})\n\n  if (response.ok) {\n    return await response.json()\n  } else {\n    return undefined\n  }\n}\n\nfunction filterSuggestions(suggestions: Suggestion[], query: string): Suggestion[] {\n  // no need to filter if we don't have a query\n  if (query === '') return suggestions\n\n  const filteredSuggestions = suggestions.filter(suggestion => {\n    if (hasMatch(query, suggestion.value)) return suggestion\n    if (suggestion.description != null && hasMatch(query, suggestion.description)) return suggestion\n  })\n\n  filteredSuggestions.sort((a, b) => {\n    const aValueMatch = hasMatch(query, a.value)\n    const bValueMatch = hasMatch(query, b.value)\n\n    // we want to prefer values matches over description matches\n    // if both suggestions have a value match, we use score to sort\n    if (aValueMatch && bValueMatch) {\n      return score(query, a.value) - score(query, b.value)\n    } else if (aValueMatch && !bValueMatch) {\n      // prefer a's value since it matches\n      return -1\n    } else if (!aValueMatch && bValueMatch) {\n      //  prefer b's value since it matches\n      return 1\n    } else {\n      // if neither suggestion has a value match that implies that both are matched on description\n      return score(query, a.description!) - score(query, b.description!)\n    }\n  })\n\n  // return in descending order\n  return filteredSuggestions.reverse()\n}\n\nclass BaseProvider extends EventTarget implements FilterProvider {\n  type = 'filter' as const\n  protected queryBuilder: QueryBuilderElement\n  readonly name: string\n  readonly value: string\n  readonly singularItemName: string\n  readonly description: string\n  readonly suggestionConfigurationAttribute: string | null\n  readonly suggestionConfigurationPath: string | null\n  readonly priority: number\n\n  constructor({\n    name = '',\n    value = '',\n    description = '',\n    suggestionConfigurationAttribute = null,\n    suggestionConfigurationPath = null,\n    priority = 0,\n    queryBuilder,\n  }: BaseProviderProps) {\n    super()\n    this.suggestionConfigurationAttribute = suggestionConfigurationAttribute\n    this.suggestionConfigurationPath = suggestionConfigurationPath\n\n    // if we don't have a suggestion configuration, that\n    // means we shouldn't add this provider to the QueryBuilder\n    // (for example, this prevents the manifest provider being show for org rules)\n    if (this.hasSuggestionConfiguration()) {\n      this.queryBuilder = queryBuilder\n      this.name = name\n      this.value = value\n      this.description = description\n      this.singularItemName = value\n      this.priority = priority\n\n      this.queryBuilder.attachProvider(this)\n      this.queryBuilder.addEventListener('query', this)\n\n      // preload the suggestions to avoid lag when user interacts with the QueryBuilder\n      this.fetchSuggestions()\n    }\n  }\n\n  fetchSuggestions(): Promise<Suggestion[]> {\n    if (this.suggestionConfigurationAttribute != null) {\n      return JSON.parse(this.getSearchInput().getAttribute(this.suggestionConfigurationAttribute)!)\n    } else {\n      return memoizeFetchJSON(this.getSearchInput().getAttribute(this.suggestionConfigurationPath!)!)\n    }\n  }\n\n  hasSuggestionConfiguration(): boolean {\n    if (this.getSearchInput() === null) return false\n\n    if (this.suggestionConfigurationAttribute != null) {\n      return this.getSearchInput().getAttribute(this.suggestionConfigurationAttribute) != null\n    } else if (this.suggestionConfigurationPath != null) {\n      return this.getSearchInput().getAttribute(this.suggestionConfigurationPath) != null\n    } else {\n      return false\n    }\n  }\n\n  getSearchInput(): HTMLElement {\n    return document.querySelector<HTMLElement>('query-builder#query-builder-rule-criteria-input-combobox')!\n  }\n\n  async handleEvent(event: QueryEvent) {\n    const lastQuery = event.parsedQuery.at(-1)\n    const lastQueryValue = lastQuery?.value || ''\n    const lastQueryType = lastQuery?.type\n    const lastQueryFilter = (lastQuery as QueryFilterElement)?.filter || ''\n\n    if (lastQueryType !== 'filter' && (hasMatch(lastQueryValue, this.value) || lastQueryValue === '')) {\n      this.dispatchEvent(new Event('show'))\n    }\n\n    if (lastQueryType !== 'filter' || lastQueryFilter !== this.value) return\n\n    const suggestions = await this.fetchSuggestions()\n    this.dispatchEvent(new FetchDataEvent(this.fetchSuggestions()))\n\n    const filteredSuggestions = filterSuggestions(suggestions, lastQueryValue)\n\n    // The search filter has a performance bug triggered by the number of suggestions we return\n    // The fix for now is to limit the number of suggestions to a smallish number\n    // See https://github.com/github/discussions/issues/2816\n    for (const suggestion of filteredSuggestions.slice(0, 10)) {\n      const filterItem = new FilterItem({\n        filter: this.singularItemName,\n        name: suggestion.name,\n        value: suggestion.value.replace(/\"/g, ''), // Remove quotes for some reason, unclear why we need this\n        description: suggestion.description,\n        priority: 1,\n      })\n      this.dispatchEvent(filterItem)\n    }\n  }\n}\n\nclass SeverityProvider extends BaseProvider {\n  constructor(queryBuilder: QueryBuilderElement) {\n    super({\n      queryBuilder,\n      name: 'Severities',\n      value: 'severity',\n      description: 'critical, high, moderate, low',\n      priority: 1,\n      suggestionConfigurationAttribute: 'data-suggestable-severities',\n      suggestionConfigurationPath: null,\n    })\n  }\n}\n\nclass PackageProvider extends BaseProvider {\n  constructor(queryBuilder: QueryBuilderElement) {\n    super({\n      queryBuilder,\n      name: 'Packages',\n      value: 'package',\n      description: 'package-name',\n      priority: 2,\n      suggestionConfigurationAttribute: null,\n      suggestionConfigurationPath: 'data-suggestable-packages-path',\n    })\n  }\n}\n\nclass EcosystemProvider extends BaseProvider {\n  constructor(queryBuilder: QueryBuilderElement) {\n    super({\n      queryBuilder,\n      name: 'Ecosystems',\n      value: 'ecosystem',\n      description: 'ecosystem-name',\n      priority: 3,\n      suggestionConfigurationAttribute: null,\n      suggestionConfigurationPath: 'data-suggestable-ecosystems-path',\n    })\n  }\n}\n\nclass ScopeProvider extends BaseProvider {\n  constructor(queryBuilder: QueryBuilderElement) {\n    super({\n      queryBuilder,\n      name: 'Scopes',\n      value: 'scope',\n      description: 'runtime, development',\n      priority: 4,\n      suggestionConfigurationAttribute: 'data-suggestable-scopes',\n      suggestionConfigurationPath: null,\n    })\n  }\n}\n\nclass ManifestProvider extends BaseProvider {\n  constructor(queryBuilder: QueryBuilderElement) {\n    super({\n      queryBuilder,\n      name: 'Manifests',\n      value: 'manifest',\n      description: 'manifest-name',\n      priority: 5,\n      suggestionConfigurationAttribute: null,\n      suggestionConfigurationPath: 'data-suggestable-manifests-path',\n    })\n  }\n}\n\nclass CWEProvider extends BaseProvider {\n  constructor(queryBuilder: QueryBuilderElement) {\n    super({\n      queryBuilder,\n      name: 'CWEs',\n      value: 'cwe',\n      description: 'cwe-number',\n      priority: 6,\n      suggestionConfigurationAttribute: 'data-suggestable-cwes',\n      suggestionConfigurationPath: null,\n    })\n  }\n}\n\nclass CVEProvider extends BaseProvider {\n  constructor(queryBuilder: QueryBuilderElement) {\n    super({\n      queryBuilder,\n      name: 'CVE IDs',\n      value: 'cve_id',\n      description: 'cve-id',\n      priority: 7,\n      suggestionConfigurationAttribute: null,\n      suggestionConfigurationPath: 'data-suggestable-cve-ids-path',\n    })\n  }\n}\n\nclass GHSAProvider extends BaseProvider {\n  constructor(queryBuilder: QueryBuilderElement) {\n    super({\n      queryBuilder,\n      name: 'GHSA IDs',\n      value: 'ghsa_id',\n      description: 'ghsa-id',\n      priority: 8,\n      suggestionConfigurationAttribute: null,\n      suggestionConfigurationPath: 'data-suggestable-ghsa-ids-path',\n    })\n  }\n}\n\ndocument.addEventListener('query-builder:request-provider', (event: Event) => {\n  const targetId = 'query-builder-rule-criteria-input-combobox'\n  const target: QueryBuilderElement | null = event.target as QueryBuilderElement\n  // only attach to our QueryBuilder\n  if (!target || target.id !== targetId) return\n\n  new SeverityProvider(target)\n  new PackageProvider(target)\n  new EcosystemProvider(target)\n  new ScopeProvider(target)\n  new ManifestProvider(target)\n  new CWEProvider(target)\n  new CVEProvider(target)\n  new GHSAProvider(target)\n})\n","import type AutocompleteElement from '@github/auto-complete-element'\nimport {TemplateInstance} from '@github/template-parts'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {onKey} from '../onfocus'\nimport {parseHTML} from '@github-ui/parse-html'\n\nasync function submitAndUpdate(event: CustomEvent) {\n  const form = event.currentTarget as HTMLFormElement\n  event.preventDefault()\n  submitAndUpdateForm(form)\n}\n\nasync function submitAndUpdateForm(form: HTMLFormElement) {\n  const response = await fetch(form.action, {\n    method: form.method,\n    body: new FormData(form),\n    headers: {Accept: 'text/fragment+html'},\n  })\n\n  // Show an error message (if request fails)\n  if (response.status >= 400) {\n    // eslint-disable-next-line i18n-text/no-en\n    const message = 'An unknown error occurred.'\n    const template = document.querySelector<HTMLTemplateElement>('template.js-flash-template')!\n    template.after(new TemplateInstance(template, {className: 'flash-error', message}))\n  } else {\n    const target = <HTMLElement>form.closest('[data-replace-remote-form-target]')\n    const partial = parseHTML(document, await response.text())\n    target.replaceWith(partial)\n  }\n}\n\non('submit', '.js-dependabot-selected-repos-remove-form', submitAndUpdate)\n\n// Add a selected repo to the list and clear the search box\non('auto-complete-change', '.js-dependabot-selected-repos-add-auto-complete', function (event) {\n  const autoComplete = event.target as AutocompleteElement\n  if (!autoComplete.value) {\n    return\n  }\n\n  const input = autoComplete.querySelector<HTMLInputElement>('.js-dependabot-selected-repos-add-input')\n  input!.value = autoComplete.value\n  autoComplete.value = ''\n\n  const addForm = <HTMLFormElement>autoComplete.closest('form')\n  submitAndUpdateForm(addForm)\n})\n\n// Don't let users accidentally submit the form when you hit enter\nonKey('keydown', '.js-dependabot-selected-repos-add-search', function (event: KeyboardEvent) {\n  // TODO: Refactor to use data-hotkey\n  /* eslint eslint-comments/no-use: off */\n  /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n  if (event.key === 'Enter') {\n    event.preventDefault()\n  }\n  /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n})\n","// Add and remove Callback URLs for a GitHub App\n\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nfunction replaceEndWith(value: string, separator: string, replacement: string): string {\n  const parts = value.split(separator)\n  parts[parts.length - 1] = replacement\n  return parts.join(separator)\n}\n\n// Adds the `required` class to the form-group container of all callback URL\n// fields to indicate that the field is now required.\nexport function markCallbackUrlsRequired(required: boolean) {\n  const container = document.querySelector<HTMLElement>('.js-application-callback-urls')\n  if (!container) return\n\n  const formGroups = container.querySelectorAll<HTMLElement>('.js-application-callback-url')\n  const formGroupsLength = formGroups.length\n  if (formGroupsLength === 0) return\n\n  for (const field of formGroups) {\n    if (required) {\n      field.classList.add('required')\n    } else {\n      field.classList.remove('required')\n    }\n  }\n}\n\n// Delete the ApplicationCallbackURL or the Hook if their\n// respective url input has been cleared out.\non('change', 'input.js-application-callback-url-field, input.js-hook-url-field', function ({currentTarget}) {\n  let hiddenInputId = currentTarget.id\n  hiddenInputId = replaceEndWith(hiddenInputId, '_', '_destroy')\n\n  const hiddenInput = document.getElementById(hiddenInputId)\n\n  if (hiddenInput instanceof HTMLInputElement) {\n    const inputValue = (<HTMLInputElement>currentTarget).value\n\n    if (inputValue === '') {\n      hiddenInput.value = 'true'\n    } else {\n      hiddenInput.value = 'false'\n    }\n  }\n})\n\non('click', '.js-add-application-callback-url', function (event) {\n  event.preventDefault()\n\n  const container = document.querySelector<HTMLElement>('.js-application-callback-urls')\n  if (!container) return\n\n  const formGroups = container.querySelectorAll<HTMLElement>('.js-application-callback-url')\n  const formGroupsLength = formGroups.length\n\n  if (formGroupsLength === 0) return\n\n  const formGroup = formGroups[formGroupsLength - 1]!\n  const newFormGroup = formGroup.cloneNode(true)\n\n  if (!(newFormGroup instanceof HTMLElement)) return\n\n  // Keep track of the index with a data-index attribute\n  // on the container rather than relying on the number\n  // of input groups.\n  let currentIndex = container.getAttribute('data-index')\n  if (currentIndex === null) currentIndex = '0'\n\n  const incrementedIndex = (parseInt(currentIndex, 10) + 1).toString()\n  container.setAttribute('data-index', incrementedIndex)\n\n  const formLabel = newFormGroup.querySelector<HTMLLabelElement>('label')\n  if (!formLabel) return\n\n  const labelForValue = formLabel.getAttribute('for')!\n  formLabel.setAttribute('for', labelForValue.replace(/\\d+/, currentIndex))\n\n  const formInput = newFormGroup.querySelector<HTMLInputElement>('input')\n  if (!formInput) return\n\n  formInput.id = formInput.id.replace(/\\d+/, currentIndex)\n  formInput.name = formInput.name.replace(/\\d+/, currentIndex)\n  formInput.value = ''\n\n  formGroup.insertAdjacentElement('afterend', newFormGroup)\n})\n\non('click', '.js-delete-application-callback-url', function (event) {\n  event.preventDefault()\n  const currentTarget = event.currentTarget\n\n  const formGroup = currentTarget.closest<HTMLElement>('.js-application-callback-url')\n  if (!formGroup) return\n\n  const formInput = formGroup.querySelector<HTMLInputElement>('input')\n  if (!formInput) return\n\n  const container = document.querySelector<HTMLElement>('.js-application-callback-urls')\n  if (!container) return\n\n  const formGroups = container.querySelectorAll<HTMLElement>('.js-application-callback-url')\n\n  if (formGroups.length > 1) {\n    formGroup.remove()\n  } else {\n    formInput.value = ''\n  }\n\n  let hiddenInputId = formInput.id\n  hiddenInputId = replaceEndWith(hiddenInputId, '_', '_destroy')\n\n  const hiddenInput = document.getElementById(hiddenInputId)\n  if (!(hiddenInput instanceof HTMLInputElement)) return\n\n  hiddenInput.value = 'true'\n})\n","// Edit an Integration (GitHub App)\n// The same form is used for both creating new Apps and updating existing Apps.\n\nimport {markCallbackUrlsRequired} from './integrations-callback-urls'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nfunction setupUrlField() {\n  return document.querySelector<HTMLInputElement>('input.js-edit-integration-setup-url')!\n}\n\nfunction setupUrlHint() {\n  const formGroup = setupUrlField().closest<HTMLElement>('.form-group')!\n\n  return formGroup.querySelector<HTMLElement>('.js-setup-url-hint')!\n}\n\nfunction helpTextForRedirectOnUpdate() {\n  return document.querySelector<HTMLElement>('.js-help-text-for-redirect-on-update')!\n}\n\nfunction updateSetupUrlHint(value: string) {\n  if (value) setupUrlHint().textContent = value\n}\n\non('change', '.js-edit-integration-request-oauth-on-install', function (event) {\n  const target = event.target as HTMLInputElement\n  const urlField = setupUrlField()\n\n  if (target.checked) {\n    markCallbackUrlsRequired(true)\n    urlField.disabled = true\n    urlField.placeholder = urlField.getAttribute('data-hint-unavailable-when-install') || ''\n\n    const hintUrl = urlField.getAttribute('data-hint-same-as-callback-url') || ''\n    updateSetupUrlHint(hintUrl)\n\n    const redirectOnUpdateHint = helpTextForRedirectOnUpdate()\n    redirectOnUpdateHint.textContent =\n      redirectOnUpdateHint.getAttribute('data-hint-redirect-on-update-callback-url') || ''\n  } else {\n    markCallbackUrlsRequired(false)\n    urlField.disabled = false\n    urlField.placeholder = ''\n    urlField.value = urlField.getAttribute('data-setup-url') || ''\n\n    const hintUrl = urlField.getAttribute('data-hint-setup-url') || ''\n    updateSetupUrlHint(hintUrl)\n\n    const redirectOnUpdateHint = helpTextForRedirectOnUpdate()\n    redirectOnUpdateHint.textContent = redirectOnUpdateHint.getAttribute('data-hint-redirect-on-update-setup-url') || ''\n  }\n})\n","// Integrations\n\nimport './integrations-callback-urls'\nimport './integrations-edit'\n\nimport {changeValue} from '@github-ui/form-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {onKey} from '../onfocus'\n\nfunction enableFormSubmission() {\n  const updatePermissionsButton = document.getElementById('js-update-integration-permissions')\n\n  if (updatePermissionsButton) {\n    updatePermissionsButton.removeAttribute('disabled')\n  }\n}\n\n// A list of the currently selected \"resource\" permissions for the Integration\n// based on the permissions drop downs.\n\n// E.g. [\"issues\", \"pull_requests\", \"metadata\"]\nfunction selectedResources(): string[] {\n  const inputs = document.querySelectorAll<HTMLInputElement>(\n    '[id^=integration_permission_]:checked:not([data-permission=\"none\"])',\n  )\n  return Array.from(inputs, input => input.getAttribute('data-resource')!)\n}\n\n// A NodeList of all the '.js-integration-hook-event' input nodes that are:\n// 1. Currently 'checked'\n// 2. Belong to the given \"resource\". E.g. \"issues\", \"pull_requests\" etc.\nfunction checkedHookEventsForResource(resource: string | null) {\n  if (!resource) return []\n  return Array.from(\n    document.querySelectorAll<HTMLInputElement>(`.js-integration-hook-event[data-resource~=\"${resource}\"]:checked`),\n  )\n}\n\n// A list of all the '.js-integration-hook-event' input nodes that are:\n// 1. Currently 'checked'\n// 2. Belong to resources permissions that are selected. E.g. \"Read\", \"Read &\n//    Write\" or \"Admin\".\nfunction checkedHookEventNodes() {\n  return selectedResources().flatMap(resource => checkedHookEventsForResource(resource))\n}\n\n// Can the given Hook event be hidden based on the chosen Integration\n// resource permissions?\n// E.g. When Issues is \"Read\" but Pull Requests is \"None\" the \"Milestones\"\n// event should still be visible because it applies to *both* resource types.\nfunction hookEventCheckboxCanBeHidden(node: HTMLInputElement): boolean {\n  return !checkedHookEventNodes().includes(node)\n}\n\non('change', '.js-integration-permissions-selector [id^=integration_permission_]', function ({currentTarget}) {\n  const permission = currentTarget.getAttribute('data-permission')\n  const resource = currentTarget.getAttribute('data-resource') || ''\n\n  // One event can apply to multiple resources (E.g. milestones apply to both\n  // Issues and Pull Requests). To model this in HTML data-resource can\n  // contain one or more resource names separated by spaces. E.g.\n  // data-resource=\"issues pull_requests\", which we select using the ~= CSS\n  // attribute condition.\n  const hookEvents = document.querySelectorAll<HTMLInputElement>(\n    `.js-integration-hook-event[data-resource~=\"${resource}\"]`,\n  )\n  const permissionContainers = document.querySelectorAll(`.js-dropdown-container[data-resource~=\"${resource}\"]`)\n\n  enableFormSubmission()\n\n  if (permission !== 'none') {\n    const hookPermissionErrors = document.querySelectorAll(\n      `.js-integration-hook-event-permission-error[data-resource~='${resource}']`,\n    )\n    for (const error of hookPermissionErrors) {\n      /* eslint-disable-next-line github/no-d-none */\n      error.classList.add('d-none')\n    }\n\n    for (const el of hookEvents) {\n      el.readOnly = false\n    }\n\n    currentTarget.closest<HTMLElement>('.js-list-group-item')!.classList.remove('disabled')\n    for (const el of permissionContainers) {\n      /* eslint-disable-next-line github/no-d-none */\n      el.classList.remove('d-none')\n    }\n  } else {\n    // The integrator has selected \"none\" as the permission for this resource.\n    // Hide all Hook event checkboxes related to this resource:\n    for (const el of hookEvents) {\n      if (hookEventCheckboxCanBeHidden(el)) {\n        // Disable the event hook checkbox\n        el.readOnly = true\n        el.checked = false\n\n        // Hide the hook checkbox's container\n        /* eslint-disable-next-line github/no-d-none */\n        el.closest<HTMLElement>('.js-dropdown-container')!.classList.add('anim-fade-in', 'd-none')\n      }\n    }\n\n    // Disable the current resource permission checkbox so we don't send a\n    // value to the server when this form is submitted.\n    currentTarget.closest<HTMLElement>('.js-list-group-item')!.classList.add('disabled')\n\n    if (resource === 'single_file') {\n      clearSubmittedFields(resource, '.js-single-files-path-list')\n    }\n  }\n})\n\nfunction clearSubmittedFields(resource: string, selectedList: string) {\n  // Hide the resource container\n  /* eslint-disable-next-line github/no-d-none */\n  document\n    .querySelector<HTMLElement>(`.js-dropdown-container[data-resource~='${resource}']`)!\n    .classList.add('anim-fade-in', 'd-none')\n\n  document.querySelector<HTMLElement>(selectedList)!.textContent = ''\n}\n\n// Toggle the 'required' state of the Hook URL input Field to let users know\n// that they need to provide a value when the hook is active.\nfunction toggleHookUrlRequired(active: boolean) {\n  const hookUrlField = document.querySelector<HTMLElement>('.js-hook-url-field')\n  if (!hookUrlField) return\n\n  hookUrlField.classList.toggle('required')\n  if (active) {\n    hookUrlField.setAttribute('required', 'required')\n  } else {\n    hookUrlField.removeAttribute('required')\n  }\n\n  const hookUrlFieldContainer = hookUrlField.closest('dl.form-group')\n  if (!hookUrlFieldContainer) return\n\n  hookUrlFieldContainer.classList.toggle('required')\n}\n\non('change', '.js-hook-active-checkbox', function (event) {\n  const currentTarget = event.currentTarget as HTMLInputElement\n  for (const el of document.querySelectorAll<HTMLElement>('.js-integration-hook-enabled')) {\n    el.hidden = !currentTarget.checked\n  }\n\n  toggleHookUrlRequired(currentTarget.checked)\n})\n\nexport function toggleMetadataSelectionMenu(readOn = false) {\n  const metadataReadInput = document.querySelector<HTMLInputElement>(\n    '.js-integration-permissions-selector [id=integration_permission_metadata_read]',\n  )!\n  const row = metadataReadInput.closest<HTMLElement>('.js-list-group-item')!\n\n  if (readOn) {\n    changeValue(metadataReadInput, true)\n  }\n\n  row.querySelector<HTMLElement>('.js-mandatory-label')!.hidden = !readOn\n\n  for (const input of row.querySelectorAll<HTMLInputElement>('input')) {\n    if (input !== metadataReadInput) input.disabled = readOn\n  }\n}\n\n// Has the user selected no repository-related permissions?\nfunction noRepoPermissionSelected(): boolean {\n  let noneSelected = true\n  const allSelectedRepoPermissions = document.querySelectorAll(\n    '.js-integration-permissions-selector [id^=integration_permission_][data-resource-parent=repository]:checked',\n  )\n  for (const repoPermission of allSelectedRepoPermissions) {\n    const permission = repoPermission.getAttribute('data-permission') || 'none'\n    const resource = repoPermission.getAttribute('data-resource') || ''\n    if (resource !== 'metadata' && permission !== 'none') {\n      noneSelected = false\n      break\n    }\n  }\n  return noneSelected\n}\n\n// Handle the mandatory repository metadata permission:\n//\n// When an integrator selects _any_ repository-related permission they are\n// _always_ granted the metadata permission.\n//\n// To make this clear in the UI we select 'Read-only' in the repository\n// metadata permissions select menu and disable the menu until _no_ repository\n// permissions are selected.\non(\n  'change',\n  '.js-integration-permissions-selector [id^=integration_permission_][data-resource-parent^=repository]',\n  function ({currentTarget}) {\n    const permission = currentTarget.getAttribute('data-permission')\n    const resource = currentTarget.getAttribute('data-resource') || ''\n\n    if (resource !== 'metadata') {\n      if (permission !== 'none') {\n        toggleMetadataSelectionMenu(true)\n      } else {\n        // If no repository permission is selected, re-enable the\n        // repository-metadata menu so that the user can deselect it if they\n        // want.\n        if (noRepoPermissionSelected()) {\n          toggleMetadataSelectionMenu()\n        }\n      }\n    }\n  },\n)\n\non('change', '.js-integration-permissions-selector [name^=integration]', enableFormSubmission)\n\non('click', '.js-integration-permissions-selector .js-integration-hook-event', function (event) {\n  const target = event.currentTarget as HTMLInputElement\n\n  if (target.readOnly) {\n    const sendEvents = target.closest<HTMLElement>('.js-send-events')!\n    const errorMessage = sendEvents.querySelector<HTMLElement>('.js-integration-hook-event-permission-error')!\n    /* eslint-disable-next-line github/no-d-none */\n    errorMessage.classList.remove('d-none')\n    event.preventDefault()\n  }\n})\n\nfunction addPath() {\n  const input = document.querySelector<HTMLInputElement>('.js-single-files input')!\n  const template = document.querySelector<HTMLTemplateElement>('.js-single-files template')!\n  const list = document.querySelector<HTMLElement>('.js-single-files-path-list')!\n\n  const path = input.value\n  if (!path) return\n\n  const item = template.content.cloneNode(true)\n  if (!(item instanceof DocumentFragment)) return\n  item.querySelector<HTMLInputElement>('input')!.value = path\n  item.querySelector<HTMLElement>('.js-single-files-path')!.textContent = path\n  input.value = ''\n\n  list.appendChild(item)\n\n  list.closest<HTMLElement>('.Box')!.hidden = false\n\n  enableFormSubmission()\n}\n\nonKey('keydown', '.js-single-files input', function (event: KeyboardEvent) {\n  // TODO: Refactor to use data-hotkey\n  /* eslint eslint-comments/no-use: off */\n  /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n  if (event.key !== 'Enter') return\n  event.preventDefault()\n  addPath()\n  /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n})\n\non('click', '.js-single-files .js-path-add', addPath)\n\non('click', '.js-single-files .js-close', function (event) {\n  if (!(event.target instanceof Element)) return\n  const item = event.target.closest<HTMLElement>('li')!\n  const list = item.parentElement\n  if (!list) return\n  list.removeChild(item)\n\n  if (list.querySelectorAll('li').length === 0) {\n    list.closest<HTMLElement>('.Box')!.hidden = true\n  }\n\n  enableFormSubmission()\n})\n","import {debounce} from '@github/mini-throttle'\nimport {onInput} from '../onfocus'\n\n// Get the src attribute from the check target.\nfunction getCheckTargetSrc(checkTarget: HTMLElement): string {\n  const src = checkTarget.getAttribute('src')\n  if (!src) return ''\n\n  const link = document.createElement('a')\n  link.href = src\n  return link.href\n}\n\n// Input Event Handler.\nasync function handleInput(event: Event) {\n  const field = event.target as HTMLInputElement\n  const form = field.form!\n  const inputs = form.querySelectorAll<HTMLInputElement>('.js-key-link-input')\n\n  const formData = new FormData()\n  for (const input of inputs) {\n    // only append the radio button value if it's checked, otherwise ignore it completely\n    if (input.type === 'radio') {\n      if (input.checked) {\n        formData.append(input.name, input.value)\n      }\n    } else {\n      formData.append(input.name, input.value)\n    }\n  }\n\n  const checkTarget = form.querySelector<HTMLElement>('.js-key-link-check')!\n  const src = getCheckTargetSrc(checkTarget)\n  const token = checkTarget.parentElement!.querySelector<HTMLInputElement>('.js-key-link-check-csrf')!\n  const response = await fetch(src, {\n    method: 'POST',\n    mode: 'same-origin',\n    body: formData,\n    headers: {\n      'Scoped-CSRF-Token': token.value,\n      'X-Requested-With': 'XMLHttpRequest',\n    },\n  })\n  if (!response.ok) {\n    checkTarget.hidden = true\n    return\n  }\n  const preview = await response.text()\n\n  checkTarget.innerHTML = preview\n  checkTarget.hidden = false\n}\n\nonInput('.js-key-link-input', debounce(handleInput, 300))\n","import {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\nimport {requestSubmit} from '@github-ui/form-utils'\n\n// Delete a token or revoke an application\nremoteForm('.js-revoke-access-form', async function (form, wants) {\n  await wants.html()\n  const id = form.getAttribute('data-id')!\n  const type = form.getAttribute('data-type-name')!\n  const target = document.querySelector<HTMLElement>(`.js-revoke-item[data-type='${type}'][data-id='${id}']`)!\n  target.remove()\n  if (target.classList.contains('new-token')) {\n    document.querySelector<HTMLElement>('.js-flash-new-token')!.remove()\n  }\n})\n\n// Remove an oauth application image\non('click', '.js-delete-oauth-application-image', function () {\n  const form = document.querySelector<HTMLFormElement>('.js-delete-oauth-application-image-form')!\n  requestSubmit(form)\n})\n\n// Add a new oauth application callback url form\non('click', '.js-new-callback', function (event) {\n  event.preventDefault()\n  const target = event.currentTarget\n\n  const container = target.closest<HTMLElement>('.js-callback-urls')!\n  const urlForm = container.querySelector<HTMLElement>('.js-callback-url')!\n  const newUrlForm = urlForm.cloneNode(true)\n  if (!(newUrlForm instanceof HTMLElement)) return\n\n  newUrlForm.classList.remove('is-default-callback')\n  const formInput = newUrlForm.querySelector<HTMLInputElement>('input')!\n  formInput.value = ''\n\n  container.classList.add('has-many')\n  target.parentNode!.insertBefore(newUrlForm, target)\n})\n\n// Delete an oauth application callback url\non('click', '.js-delete-callback', function (event) {\n  event.preventDefault()\n\n  const target = event.currentTarget\n  const callbackUrl = target.closest<HTMLElement>('.js-callback-url')!\n  callbackUrl.remove()\n  const container = document.querySelector<HTMLElement>('.js-callback-urls')!\n  const urls = container.querySelectorAll<HTMLElement>('.js-callback-url')\n  if (urls.length <= 1) {\n    container.classList.remove('has-many')\n  }\n})\n\non('click', '.js-oauth-application-allowlist .js-deny-this-request', function (event) {\n  const target = event.currentTarget\n  const targetSibling = target.nextElementSibling as HTMLInputElement\n\n  targetSibling.value = 'denied'\n  requestSubmit(target.closest<HTMLFormElement>('.js-org-application-access-form')!)\n})\n\n// Fetch keys list.\nasync function fetchKeysList(root: HTMLElement) {\n  if (!root) return\n  const url = root.getAttribute('data-url')\n  if (!url) return\n\n  let fragment\n  try {\n    fragment = await fetchSafeDocumentFragment(document, url)\n    root.textContent = ''\n    root.append(fragment)\n  } catch (e) {\n    // fall back to reloading the page\n    window.location.reload()\n  }\n}\n\n// Generating new integration key\non('click', '.js-generate-integration-key', function () {\n  const wrapper = document.querySelector<HTMLElement>('.js-integration-key-management-wrapper')!\n  wrapper.classList.add('downloading')\n\n  if (wrapper.classList.contains('js-integration-key-multi')) {\n    wrapper.classList.add('has-keys')\n\n    setTimeout(function () {\n      const root = document.querySelector<HTMLElement>('.js-integration-keys-container')!\n      if (root) fetchKeysList(root)\n    }, 1000)\n  }\n})\n\n// Delete an integration key; disable delete button for last remaining key\nremoteForm('.js-remove-integration-key', async function (form, wants) {\n  try {\n    await wants.text()\n  } catch (error) {\n    // This is not the error we expected, re-throw since we don't know how to\n    // handle it.\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    if (!error.response) throw error\n\n    form.closest<HTMLElement>('details')!.removeAttribute('open')\n\n    const wrapper = document.querySelector<HTMLElement>('.js-integration-key-management-wrapper')!\n    const errContainer = wrapper.querySelector<HTMLElement>('.js-error-container')!\n\n    const errLabel = errContainer.querySelector<HTMLElement>('.js-error-message')!\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    switch (error.response.status) {\n      case 500:\n        errLabel.textContent = 'Oops, something went wrong.'\n        break\n      case 404:\n        errLabel.textContent = 'Oops, that key could not be found.'\n        break\n      default:\n        // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n        errLabel.textContent = error.response.json.message\n    }\n\n    wrapper.classList.add('error')\n    return\n  }\n\n  const keyId = form.getAttribute('data-key-id')!\n  const key = document.getElementById(keyId)\n\n  if (key) {\n    const root = key.closest<HTMLElement>('.js-integration-keys-container')!\n    if (root) fetchKeysList(root)\n  }\n})\n\non('click', '.js-error-dismiss', function () {\n  const root = document.querySelector<HTMLElement>('.js-integration-keys-container')!\n  if (root) fetchKeysList(root)\n})\n\non('change', '.js-checkbox-scope', function (event) {\n  const target = event.currentTarget as HTMLInputElement\n  if (target.checked) {\n    addToSelectedBy(target, 'self')\n  } else {\n    removeFromSelectedBy(target, 'self')\n  }\n\n  // Check scope subsets if the parent is checked\n  toggleScopeSubsets(target)\n})\n\nfunction toggleScopeSubsets(target: HTMLInputElement) {\n  const container = target.closest<HTMLElement>('.js-check-scope-container')!\n  const scopes = container.querySelectorAll<HTMLInputElement>('.js-checkbox-scope')\n\n  for (const checkbox of scopes) {\n    if (checkbox !== target) {\n      if (target.checked) {\n        addToSelectedBy(checkbox, target.value)\n      } else removeFromSelectedBy(checkbox, target.value)\n    }\n  }\n}\n\n// Some scopes have related scopes. Auto-select those scope families.\non('change', '[data-check-related-scopes]', function (event) {\n  const parent = event.currentTarget as HTMLInputElement\n  const scopes = parent.getAttribute('data-check-related-scopes')!.split(' ')\n\n  for (const scope of scopes) {\n    const childScopes = document.querySelectorAll<HTMLInputElement>(`[data-scope-for=\"${scope}\"] .js-checkbox-scope`)\n\n    for (const checkbox of childScopes) {\n      if (parent.checked) {\n        addToSelectedBy(checkbox, parent.value)\n      } else removeFromSelectedBy(checkbox, parent.value)\n    }\n  }\n})\n\nasync function enabledCheckedAndDisabledScopes(event: Event) {\n  const newTokenForm = event.currentTarget as HTMLFormElement\n  const checkedParentSelector = '.js-checkbox-scope:checked:disabled'\n  const checkedParentScopes = newTokenForm.querySelectorAll<HTMLInputElement>(checkedParentSelector)\n  for (const scope of checkedParentScopes) {\n    scope.disabled = false\n  }\n}\n\n// Enable all the checked-disabled parent scopes on submit so they make it to the controller\non('submit', '#new_oauth_access', enabledCheckedAndDisabledScopes)\non('submit', '.js-edit-oauth-access', enabledCheckedAndDisabledScopes)\n\nfunction removeFromSelectedBy(target: HTMLInputElement, actor: string) {\n  let selectedBy = fetchSelectedByArray(target)\n  selectedBy = removeItemFromArray(selectedBy, actor)\n  target.setAttribute('data-selected-by', selectedBy.join(' '))\n  updateDependencyGraph(target)\n}\n\nfunction addToSelectedBy(target: HTMLInputElement, actor: string) {\n  const selectedBy = fetchSelectedByArray(target)\n  selectedBy.push(actor)\n  target.setAttribute('data-selected-by', selectedBy.join(' '))\n  updateDependencyGraph(target)\n}\n\nfunction updateDependencyGraph(target: HTMLInputElement) {\n  const selectedBy = target.getAttribute('data-selected-by')\n  target.checked = selectedBy !== ''\n  target.disabled = target.checked && selectedBy !== 'self'\n}\n\nfunction fetchSelectedByArray(target: HTMLInputElement) {\n  if (target.getAttribute('data-selected-by')) {\n    return target.getAttribute('data-selected-by')!.split(' ')\n  }\n  return []\n}\n\nfunction removeItemFromArray(arr: string[], value: string) {\n  const index = arr.indexOf(value)\n  if (index > -1) {\n    arr.splice(index, 1)\n  }\n  return arr\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\n\n// Disable email preference button if JS enabled.\nobserve('.js-email-global-unsubscribe-form', function (el) {\n  el.querySelector<HTMLInputElement>('.js-email-global-unsubscribe-submit')!.disabled = true\n})\n\n// Disable button until email preference has changed from current value.\non('change', '.js-email-global-unsubscribe-form', function (event) {\n  const target = event.currentTarget\n  const unsubscribeButton = target.querySelector<HTMLInputElement>('.js-email-global-unsubscribe-submit')!\n  const options = target.querySelectorAll<HTMLInputElement>('.js-email-global-unsubscribe')\n\n  // Check if any of the options have changed\n  const changed = Array.from(options).some(el => el.checked !== el.defaultChecked)\n\n  // Disable the button if nothing has changed\n  unsubscribeButton.disabled = !changed\n})\n\nremoteForm('.js-email-unsubscribe-form', async function (form, wants) {\n  await wants.text()\n  for (const el of document.querySelectorAll('.js-email-unsubscribe-message')) {\n    if (el instanceof HTMLElement) el.hidden = !el.hidden\n  }\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nconst selectedRepositories = 'VISIBILITY_SELECTED_REPOSITORIES'\n\nexport function updateSelectedRepositoryCount() {\n  const selection = document.querySelector<HTMLElement>('.js-org-secrets-selection')!\n\n  const selectedPermissionInput = selection.querySelector<HTMLElement>('.js-secrets-visibility-menu input:checked')!\n  const currentPermission = selectedPermissionInput.getAttribute('value')!\n  const repositoryAccessDialog = selection.querySelector<HTMLElement>('.js-repository-items-dialog')!\n  repositoryAccessDialog.hidden = currentPermission !== selectedRepositories\n\n  const container = selection.querySelector<HTMLElement>('.js-repository-selection-component')!\n  const count = Array.from(container.querySelectorAll<HTMLInputElement>('.js-repository-item-checkbox')).filter(\n    el => el.checked,\n  ).length\n\n  const selectedReposLabel = repositoryAccessDialog.querySelector<HTMLElement>('.js-selected-repos-label')!\n  selectedReposLabel.hidden = currentPermission !== selectedRepositories\n  selectedReposLabel.querySelector<HTMLElement>('.js-selected-repositories-count')!.textContent = count.toString()\n  selectedReposLabel.querySelector<HTMLElement>('.js-multiple-repositories-text')!.hidden = count === 1\n  selectedReposLabel.querySelector<HTMLElement>('.js-single-repository-text')!.hidden = count !== 1\n}\n\nexport function enableSaveSecretButton(event: Event) {\n  const container = (event.target as Element).closest<HTMLElement>('.js-encrypt-submit')!\n  const button = container.querySelector<HTMLButtonElement>('.js-btn-save-secret')\n  if (!button) return\n  button.disabled = false\n}\n\non('click', '.js-new-secret-value-button', function (event) {\n  const button = event.currentTarget\n  const formGroup = button.closest<HTMLElement>('.js-secret-value-form-group')!\n  const newValueInputGroup = formGroup.querySelector<HTMLElement>('.js-new-secret-value-input')!\n  newValueInputGroup.hidden = false\n  newValueInputGroup.querySelector<HTMLElement>('#secret_value')!.focus()\n  formGroup.querySelector<HTMLElement>('.js-new-secret-value-prompt')!.hidden = true\n  enableSaveSecretButton(event)\n})\n\non('reset', '.js-org-secrets-selection .js-repository-selection-component', updateSelectedRepositoryCount)\non('details-menu-selected', '.js-secrets-visibility-menu', enableSaveSecretButton, {capture: true})\non('details-menu-selected', '.js-secrets-visibility-menu', updateSelectedRepositoryCount, {capture: true})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nconst selectedRepositories = 'VISIBILITY_SELECTED_REPOSITORIES'\n\nexport function updateVariablesSelectedRepositoryCount() {\n  const selection = document.querySelector<HTMLElement>('.js-org-variables-selection')!\n\n  const selectedPermissionInput = selection.querySelector<HTMLElement>('.js-variables-visibility-menu input:checked')!\n  const currentPermission = selectedPermissionInput.getAttribute('value')!\n  const repositoryAccessDialog = selection.querySelector<HTMLElement>('.js-repository-items-dialog')!\n  repositoryAccessDialog.hidden = currentPermission !== selectedRepositories\n\n  const container = selection.querySelector<HTMLElement>('.js-repository-selection-component')!\n  const count = Array.from(container.querySelectorAll<HTMLInputElement>('.js-repository-item-checkbox')).filter(\n    el => el.checked,\n  ).length\n\n  const selectedReposLabel = repositoryAccessDialog.querySelector<HTMLElement>('.js-selected-repos-label')!\n  selectedReposLabel.hidden = currentPermission !== selectedRepositories\n  selectedReposLabel.querySelector<HTMLElement>('.js-selected-repositories-count')!.textContent = count.toString()\n  selectedReposLabel.querySelector<HTMLElement>('.js-multiple-repositories-text')!.hidden = count === 1\n  selectedReposLabel.querySelector<HTMLElement>('.js-single-repository-text')!.hidden = count !== 1\n}\n\non('reset', '.js-org-variables-selection .js-repository-selection-component', updateVariablesSelectedRepositoryCount)\non('details-menu-selected', '.js-variables-visibility-menu', updateVariablesSelectedRepositoryCount, {capture: true})\n","// PATs v2: toggleable collapse and expand for permissions and token summary containers\n// works with app/components/programmatic_access/collapsible_box_component.rb\n\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nexport const enum ToggleState {\n  Close = 'close',\n  Open = 'open',\n}\n\nfunction toggleContainerDisplay(container: HTMLElement, toggleState: string) {\n  const currentToggle = container.querySelector<SVGElement>(`[data-toggle-action=${toggleState}]`)!\n\n  /* eslint-disable-next-line github/no-d-none */\n  currentToggle.classList.add('d-none')\n  updateCollapsibleContainerStyles(container, toggleState)\n\n  if (toggleState === ToggleState.Close) {\n    const hiddenToggle = container.querySelector<SVGElement>(`[data-toggle-action=${ToggleState.Open}]`)!\n\n    /* eslint-disable-next-line github/no-d-none */\n    hiddenToggle.classList.remove('d-none')\n  } else {\n    const hiddenToggle = container.querySelector<SVGElement>(`[data-toggle-action=${ToggleState.Close}]`)!\n\n    /* eslint-disable-next-line github/no-d-none */\n    hiddenToggle.classList.remove('d-none')\n  }\n}\n\nexport function updateCollapsibleContainerStyles(container: HTMLElement, toggleState: string) {\n  const box = container.querySelector<HTMLDivElement>('summary .Box')!\n  const body = container.querySelector<HTMLDivElement>('.js-collapsible-body')!\n\n  // only use open styling if there are rows to display\n  // permission summary containers will always have one hidden template li\n  const rowCount = container.querySelectorAll<HTMLLIElement>('li:not([hidden])').length\n  const containerOpen = toggleState === ToggleState.Open\n\n  if (containerOpen && rowCount > 0) {\n    // style fully open container\n    box.classList.remove('rounded-bottom-2')\n    box.classList.add('rounded-bottom-0')\n    body.classList.remove('border-0')\n  } else {\n    // style closed or empty container\n    box.classList.add('rounded-bottom-2')\n    box.classList.remove('rounded-bottom-0')\n\n    // hide body borders for the hidden summary template\n    if (body.querySelector('[data-permission-template]')) body.classList.add('border-0')\n  }\n}\n\nfunction handleDetailsToggle(event: Event) {\n  const target = event.currentTarget as HTMLElement\n  const action = target.hasAttribute('open') ? ToggleState.Open : ToggleState.Close\n  toggleContainerDisplay(target, action)\n}\n\non('toggle', '.js-collapsible-container', handleDetailsToggle, {capture: true})\n","export const enum RepoSelectionType {\n  None = 'none',\n  All = 'all',\n  Selected = 'selected',\n}\n\nexport enum PermissionType {\n  Organization = 'organization',\n  Repository = 'repository',\n  User = 'user',\n}\n\nexport function updateElText(selector: string, text: string) {\n  const els = document.querySelectorAll<HTMLElement>(selector)\n  for (const el of els) {\n    el.textContent = text\n  }\n}\n","// PATs v2: Token summary display behavior\n\nimport {ToggleState, updateCollapsibleContainerStyles} from './personal-access-token-collapsible-containers'\nimport {PermissionType, RepoSelectionType, updateElText} from './personal-access-tokens'\n\nconst enum PermissionSummarySelector {\n  Organization = '#js-organization-permission-summary',\n  Repository = '#js-repository-permission-summary',\n  User = '#js-user-permission-summary',\n}\n\nconst enum CheckedPermissionsSelector {\n  Organization = '[data-organization-permissions]',\n  Repository = '[data-repository-permissions]',\n  User = '[data-user-permissions]',\n}\n\nexport function updateRepositoryCount() {\n  const repoSelectorRadio = document.querySelector<HTMLInputElement>('.js-installation-repositories-radio:checked')\n  const selectionType = repoSelectorRadio ? repoSelectorRadio.value : RepoSelectionType.None\n\n  if (selectionType === RepoSelectionType.Selected) {\n    const repositoryCount = document.querySelectorAll<HTMLInputElement>('.js-selected-repository-field').length\n    updateElText('#token-summary [data-token-summary=\"repository-count\"]', String(repositoryCount))\n  } else {\n    updateElText('#token-summary [data-token-summary=\"repository-count\"]', selectionType)\n  }\n}\n\nexport function updatePermissionSummary(permissionType: string) {\n  const permissionEls = selectedPermissionEls(permissionType)\n\n  // update permission counts in label and summary if present\n  updatePermissionCounts(permissionType, permissionEls.length)\n\n  const summaryContainer = summaryContainerEl(permissionType)\n\n  // integrations pages exit here because they don't have the summary container\n  if (!summaryContainer) return\n\n  const listEl = summaryContainer.querySelector<HTMLUListElement>('ul')!\n\n  // clear out the permission summary\n  for (const child of listEl.querySelectorAll<HTMLLIElement>('li')) {\n    if (child.getAttribute('data-permission-template') === 'false') listEl.removeChild(child)\n  }\n\n  // add currently selected permissions to summary\n  for (const permissionEl of permissionEls) {\n    appendPermissionSummary(listEl, permissionEl)\n  }\n\n  // update summary style\n  // catches case where summary was previously open but empty\n  const toggleState = summaryContainer.hasAttribute('open') ? ToggleState.Open : ToggleState.Close\n  updateCollapsibleContainerStyles(summaryContainer, toggleState)\n}\n\nexport function updateExpiration() {\n  const expirationSelect = document.querySelector<HTMLSelectElement>('.js-default-token-expiration-select')\n  if (!expirationSelect) return\n\n  const expirationValue = expirationSelect.value\n\n  if (expirationValue === 'none') {\n    updateElText('#token-summary [data-token-summary=\"expiration\"]', 'never.')\n  } else if (expirationValue === 'custom') {\n    const customDate = document.querySelector<HTMLInputElement>('#user_programmatic_access_custom_expires_at')!.value\n    // Setting the time to midnight because otherwise the default of midnight UTC might output the prior date based on timezone offset\n    const dateString = customDate ? formatDateString(new Date(`${customDate}T00:00:00`)) : 'an unselected custom date'\n    updateElText('#token-summary [data-token-summary=\"expiration\"]', `on ${dateString}.`)\n  } else {\n    const dateString = calculateDate(expirationValue)\n    updateElText('#token-summary [data-token-summary=\"expiration\"]', `on ${dateString}.`)\n  }\n}\n\nfunction dataPermissionAttribute(permissionType: string) {\n  if (permissionType === PermissionType.Organization) {\n    return CheckedPermissionsSelector.Organization\n  }\n  if (permissionType === PermissionType.Repository) {\n    return CheckedPermissionsSelector.Repository\n  }\n  if (permissionType === PermissionType.User) {\n    return CheckedPermissionsSelector.User\n  }\n\n  return null\n}\n\nfunction summaryContainerSelector(permissionType: string) {\n  if (permissionType === PermissionType.Organization) {\n    return PermissionSummarySelector.Organization\n  } else if (permissionType === PermissionType.Repository) {\n    return PermissionSummarySelector.Repository\n  } else if (permissionType === PermissionType.User) {\n    return PermissionSummarySelector.User\n  }\n\n  return null\n}\n\nfunction summaryContainerEl(permissionType: string) {\n  const selector = summaryContainerSelector(permissionType)\n  if (!selector) return null\n\n  return document.querySelector<HTMLDivElement>(selector)\n}\n\nfunction selectedPermissionEls(permissionType: string) {\n  const dataSelector = dataPermissionAttribute(permissionType)\n  if (!dataSelector) return []\n\n  const selector = `${dataSelector}.js-permissions-selector [id^=integration_permission_]:checked:not([data-permission=\"none\"]`\n  return document.querySelectorAll<HTMLInputElement>(selector)\n}\n\nfunction updatePermissionCounts(permissionType: string, count: number) {\n  // update permission count in permission label and summary if present\n  updateElText(`[data-token-summary='${permissionType}-permission-count']`, String(count))\n\n  // correctly pluralize summary\n  const selector = `${summaryContainerSelector(permissionType)} [data-token-summary-plural-count]`\n\n  if (count === 1) {\n    updateElText(selector, '')\n  } else {\n    updateElText(selector, 's')\n  }\n\n  // show/hide permission label\n  const label = document.querySelector<HTMLElement>(`${dataPermissionAttribute(permissionType)} .js-permission-label`)\n  if (label) {\n    count > 0 ? (label.hidden = false) : (label.hidden = true)\n  }\n}\n\nfunction appendPermissionSummary(listEl: HTMLUListElement, permissionEl: HTMLInputElement) {\n  const permissionName = permissionEl.closest('li')!.querySelector<HTMLElement>('strong')!.textContent\n  const permissionLevel = permissionEl.parentElement!.querySelector('[data-filter-item-text]')!.textContent!.trim()\n  const template = listEl.querySelector<HTMLLIElement>('[data-permission-template=\"true\"]')!\n\n  const item = template.cloneNode(true) as HTMLLIElement\n  const nameEl = document.createElement('strong')\n  const levelEl = document.createElement('strong')\n  nameEl.textContent = permissionName\n  levelEl.textContent = `Access: ${permissionLevel}`\n  item.hidden = false\n  item.setAttribute('data-permission-template', 'false')\n  item.append(nameEl, levelEl)\n  listEl.appendChild(item)\n}\n\nfunction formatDateString(date: Date): string {\n  return new Intl.DateTimeFormat('en-US', {\n    weekday: 'short',\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n  })\n    .format(date)\n    .replace(/,(?=\\s\\d{4})/, '')\n}\n\nfunction calculateDate(expirationValue: string): string {\n  const date = new Date()\n  date.setDate(date.getDate() + Number(expirationValue))\n  return formatDateString(date)\n}\n","// PATs v2: CAP Access check behavior\n\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {parseHTML} from '@github-ui/parse-html'\nimport {updateExpiration} from './personal-access-token-summary'\n\nenum AuthorizationState {\n  Checking = '.js-cap-checking',\n  RetryChecking = '.js-cap-retry-checking',\n  Resolved = '.js-cap-resolved',\n  Forbidden = '.js-cap-forbidden',\n}\n\nasync function verifyAuthorization(event: CustomEvent) {\n  displayAuthorizationSectionFor(AuthorizationState.Checking)\n  const relatedTarget = event.detail.relatedTarget as HTMLElement\n\n  const src = relatedTarget.getAttribute('data-src')\n\n  if (src === null) {\n    throw new Error('Target source location not found')\n  }\n\n  const url = new URL(src, window.location.origin)\n\n  const request = new Request(url.toString(), {\n    headers: {Accept: 'text/html', 'X-Requested-With': 'XMLHttpRequest'},\n  })\n\n  let response\n\n  try {\n    response = await fetch(request)\n  } catch (err) {\n    // Ignore network errors\n  }\n\n  if (!response) {\n    displayAuthorizationSectionFor(AuthorizationState.Forbidden)\n  } else if (response.status === 403) {\n    displayAuthorizationSectionFor(AuthorizationState.Forbidden)\n  } else if (!response.ok) {\n    displayAuthorizationSectionFor(AuthorizationState.RetryChecking)\n  } else {\n    const resolvedSection = document.querySelector<HTMLElement>(AuthorizationState.Resolved)!\n\n    resolvedSection.textContent = ''\n    resolvedSection.appendChild(parseHTML(document, await response.text()))\n\n    displayAuthorizationSectionFor(AuthorizationState.Resolved)\n  }\n}\n\nfunction displayAuthorizationSectionFor(selector: AuthorizationState): HTMLElement {\n  for (const sectionSelector of Object.values(AuthorizationState)) {\n    const section = document.querySelector<HTMLElement>(sectionSelector)!\n    section.hidden = true\n  }\n\n  const section = document.querySelector<HTMLElement>(selector)!\n  updateExpiration()\n  section.hidden = false\n\n  return section\n}\n\non('click', '#js-retry-cap-check', () => {\n  const checked = document.querySelector<HTMLElement>('.js-target-container input[type=radio]:checked')!\n  const menu = checked.closest<HTMLElement>('details-menu')!\n\n  const selected = checked.parentElement as HTMLElement\n  if (!(selected instanceof HTMLElement)) return\n\n  // Replicate the current target being selected again\n  menu.dispatchEvent(\n    new CustomEvent('details-menu-selected', {\n      detail: {relatedTarget: selected},\n    }),\n  )\n})\n\non('details-menu-selected', '.js-target-container', verifyAuthorization, {capture: true})\n","// PATs v2: editing and creation\n\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {changeValue} from '@github-ui/form-utils'\n\nimport {toggleMetadataSelectionMenu} from './integrations'\nimport {PermissionType, RepoSelectionType, updateElText} from './personal-access-tokens'\nimport {onInput} from '../onfocus'\nimport {updatePermissionSummary, updateRepositoryCount, updateExpiration} from './personal-access-token-summary'\n\nfunction resetPermissions() {\n  const selector = `[id^=integration_permission_][data-permission=${RepoSelectionType.None}]`\n  const inputs = document.querySelectorAll<HTMLInputElement>(selector)\n\n  for (const input of inputs) {\n    changeValue(input, true)\n  }\n\n  toggleMetadataSelectionMenu()\n  setInitialValues()\n}\n\nfunction toggleRepoPermissionVisibility() {\n  const selectionType = document.querySelector<HTMLInputElement>('.js-installation-repositories-radio:checked')!.value\n  const permissionSection = document.querySelector<HTMLElement>(\n    '.js-integration-permissions-selector section[data-repository-permissions]',\n  )!\n\n  if (selectionType === RepoSelectionType.None) {\n    permissionSection.hidden = true\n    updateElText(`#token-summary [data-token-summary=\"repository-permission-count\"]`, String(0))\n  } else {\n    permissionSection.hidden = false\n    updatePermissionSummary('repository')\n  }\n}\n\nfunction displayGrantForm() {\n  const grantForm = document.querySelector<HTMLElement>('#js-grant-form')!\n  const grantSummary = document.querySelector<HTMLElement>('#js-grant-summary')!\n  grantSummary.hidden = true\n  grantForm.hidden = false\n\n  const formActions = document.querySelectorAll<HTMLElement>('.js-grant-form-action')!\n  for (const action of formActions) {\n    action.hidden = false\n  }\n\n  const summaryActions = document.querySelectorAll<HTMLElement>('.js-grant-summary-action')!\n  for (const action of summaryActions) {\n    action.hidden = true\n  }\n}\n\nfunction displayGrantSummary(event: Event) {\n  const target = event.currentTarget as HTMLElement\n\n  if (target.classList.contains('js-grant-reload')) {\n    return window.location.reload()\n  }\n\n  const grantForm = document.querySelector<HTMLElement>('#js-grant-form')!\n  const grantSummary = document.querySelector<HTMLElement>('#js-grant-summary')!\n  grantForm.hidden = true\n  grantSummary.hidden = false\n\n  const summaryActions = document.querySelectorAll<HTMLElement>('.js-grant-summary-action')!\n  for (const action of summaryActions) {\n    action.hidden = false\n  }\n\n  const formActions = document.querySelectorAll<HTMLElement>('.js-grant-form-action')!\n  for (const action of formActions) {\n    action.hidden = true\n  }\n}\n\nfunction displayTokenForm() {\n  const displayFields = document.querySelectorAll<HTMLElement>('.js-token-display-field')!\n  for (const field of displayFields) {\n    field.hidden = true\n  }\n\n  const formFields = document.querySelectorAll<HTMLElement>('.js-token-form-field')!\n  for (const field of formFields) {\n    field.hidden = false\n  }\n}\n\nfunction hideTokenForm() {\n  const formFields = document.querySelectorAll<HTMLElement>('.js-token-form-field')!\n  for (const field of formFields) {\n    field.hidden = true\n  }\n\n  const displayFields = document.querySelectorAll<HTMLElement>('.js-token-display-field')!\n  for (const field of displayFields) {\n    field.hidden = false\n  }\n}\n\nfunction setInitialValues() {\n  for (const permissionType of Object.values(PermissionType)) {\n    updatePermissionSummary(permissionType)\n  }\n  updateRepositoryCount()\n\n  // set initial state of collapsible containers to closed\n  // includes permission lists and summaries\n  for (const details of document.querySelectorAll<HTMLDivElement>('.js-collapsible-container')) {\n    details.removeAttribute('open')\n  }\n}\n\nfunction validateName() {\n  const form = document.querySelector<HTMLFormElement>('.js-user-programmatic-access-form')!\n  const nameInput = form.querySelector<HTMLInputElement>('.js-token-name')!\n  const name = nameInput.value.trim()\n\n  const valid = !nameInput.classList.contains('is-autocheck-errored') && name.length > 0\n\n  const submit = form.querySelector<HTMLButtonElement>('button[type=submit]')!\n  submit.disabled = !valid\n}\n\n// When the user is filling in the name of their token\nonInput('.js-token-name-auto-check', validateName)\n\nobserve('.js-user-programmatic-access-form .js-integrations-install-repo-selection', el => {\n  // observes when repository selections are added to the DOM\n  // handles the case when user toggles back to select repositories displaying previous selections\n  const selectedRepoListObserver = new MutationObserver(updateRepositoryCount)\n  // observe subtree from element that is never removed from the dom to catch all changes\n  selectedRepoListObserver.observe(el, {childList: true, subtree: true})\n})\n\n// observes when permissions sections are changed (load, repo selection changes, target changes)\nobserve('.js-integration-permissions-selector', setInitialValues)\n\non('change', '.js-permissions-selector [id^=integration_permission_]', ({currentTarget}) => {\n  const permissionType = currentTarget.getAttribute('data-resource-parent')!\n  updatePermissionSummary(permissionType)\n})\non('change', '.js-user-programmatic-access-form .js-installation-repositories-radio', () => {\n  resetPermissions()\n  toggleRepoPermissionVisibility()\n})\non('change', '.js-user-programmatic-access-form .js-default-token-expiration-select', updateExpiration)\non('change', '.js-user-programmatic-access-form #user_programmatic_access_custom_expires_at', updateExpiration)\n\non('click', '#js-token-action-edit', displayTokenForm)\non('click', '#js-token-action-cancel', hideTokenForm)\non('click', '#js-token-action-save', function ({currentTarget}) {\n  currentTarget.classList.add('disabled')\n  currentTarget.textContent = 'Updating'\n})\n\non('click', '.js-toggle-grant-form', displayGrantForm)\non('click', '.js-toggle-grant-summary', displayGrantSummary)\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {remoteForm, type Kicker} from '@github/remote-form'\nimport {requestSubmit} from '@github-ui/form-utils'\n\nfunction showError(message: string, context: Element) {\n  const error = context.querySelector<HTMLElement>('.js-repo-access-error')!\n  error.textContent = message\n  /* eslint-disable-next-line github/no-d-none */\n  error.classList.remove('d-none')\n}\n\n// Reset all errors on the collaborators screen\nfunction hideErrors() {\n  for (const error of document.querySelectorAll('.js-repo-access-error')) {\n    error.textContent = ''\n    /* eslint-disable-next-line github/no-d-none */\n    error.classList.add('d-none')\n  }\n}\n\n// Reset collaborator/teams autocompleter, avoiding submission of partial matches\nfunction resetInviteForm(form: HTMLFormElement) {\n  const button = form.querySelector<HTMLButtonElement>('.js-add-new-collab')\n  if (button) {\n    button.disabled = true\n  }\n}\n\nfunction handleTeamAdd(teamId: string) {\n  const select = document.querySelector('.js-repo-access-team-select')\n  if (select) {\n    let withoutAccess = 0\n    for (const item of select.querySelectorAll<HTMLElement>('.js-repo-access-team-select-option')) {\n      if (teamId === item.getAttribute('data-team-id')) {\n        item.hidden = true\n      }\n      if (!item.hidden) {\n        withoutAccess++\n      }\n    }\n    if (withoutAccess === 0) {\n      select.closest<HTMLElement>('.js-repo-access-group')!.classList.add('no-form')\n    }\n  }\n}\n\nfunction handleTeamRemove(teamId: string) {\n  const select = document.querySelector('.js-repo-access-team-select')\n  if (select) {\n    const team = select.querySelector(`[data-team-id='${teamId}']`)\n    if (team instanceof HTMLElement) {\n      team.hidden = false\n    }\n    select.closest<HTMLElement>('.js-repo-access-group')!.classList.remove('no-form')\n  }\n}\n\nasync function handleInviteResponse(form: HTMLFormElement, wants: Kicker) {\n  hideErrors()\n\n  const response = await wants.json()\n  const data = response.json\n  let list\n  const container = form.closest<HTMLElement>('.js-repo-access-container')!\n  const group = container.querySelector<HTMLElement>('.js-repo-access-group')!\n  if (group.id !== 'collaborators') {\n    list = group.querySelector('.js-repo-access-list')\n  }\n  const field = form.querySelector('.js-add-repo-access-field')\n  if (field instanceof HTMLInputElement) {\n    const teamId = field.value\n    field.value = ''\n\n    if (group.id === 'teams') {\n      handleTeamAdd(teamId)\n    }\n  }\n\n  if (data['error']) {\n    showError(data['error'], container)\n    return\n  }\n\n  resetInviteForm(form)\n  if (list) {\n    list.insertAdjacentHTML('beforeend', data['html'])\n    const entries = list.querySelectorAll('.js-repo-access-entry')\n    entries[entries.length - 1]!.querySelector<HTMLElement>('a')!.focus()\n  }\n\n  if (data['seats'] || data['seats'] === 0) {\n    const seatsString = data['seats'] === 1 ? 'seat' : 'seats'\n    const availableSeatsEl = document.getElementById('available-seats')\n    if (availableSeatsEl) {\n      availableSeatsEl.textContent = `${data['seats']} ${seatsString}`\n    }\n  }\n}\n\n// Update the hidden team ID field and submit when select menu changes.\n// Used instead of a radio buttion to simplify combined team/collab submit handler below.\non(\n  'details-menu-selected',\n  '.js-repo-access-team-select-menu',\n  function (event) {\n    const item = event.detail.relatedTarget as Element\n    const teamId = item.getAttribute('data-team-id') || ''\n    const teamIdField = item\n      .closest('.js-repo-access-group')!\n      .querySelector<HTMLInputElement>('.js-add-repo-access-field')!\n    teamIdField.value = teamId\n    requestSubmit(teamIdField.form!)\n  },\n  {capture: true},\n)\n\n// Add entry to repo access list (handles both collaborators and teams)\nremoteForm('.js-add-repo-access-form', handleInviteResponse)\n\n// Remove entry from repo access list (handles both collaborators and teams)\nremoteForm('.js-remove-repo-access-form', async function (form, wants) {\n  if (form.hasAttribute('data-skip-remote')) {\n    return\n  }\n\n  try {\n    await wants.text()\n  } catch (responseError) {\n    showError(form.getAttribute('data-error-message') || '', form.closest<HTMLElement>('.js-repo-access-group')!)\n    return\n  }\n\n  hideErrors()\n  const entry = form.closest<HTMLElement>('.js-repo-access-entry')!\n  const group = form.closest<HTMLElement>('.js-repo-access-group')!\n  if (group.id === 'teams') {\n    handleTeamRemove(entry.getAttribute('data-team-id') || '')\n  }\n  entry.remove()\n})\n\nfunction toggleHidden(els: HTMLElement[]) {\n  for (const el of els) {\n    el.hidden = !el.hidden\n  }\n}\n\nfunction reenableAllRoles(inpts: NodeListOf<HTMLInputElement>) {\n  for (const rInpt of inpts) {\n    rInpt.disabled = false\n    const roleDiv = rInpt.closest<HTMLElement>('.js-role-checkbox')!\n    roleDiv.classList.remove('color-fg-muted')\n  }\n}\n\nfunction toggleRoleBadge(badge: Element | null, state: boolean) {\n  if (badge instanceof HTMLElement) {\n    badge.hidden = state\n  }\n}\n\non('combobox-commit', '.js-repo-add-access-search', function (event) {\n  if (!(event.target instanceof Element)) return\n  const container = event.target.closest<HTMLElement>('.js-repo-add-access-search')!\n  const item = event.target.closest<HTMLElement>('.js-autocomplete-item')!\n\n  const selectLabel = container.querySelector<HTMLElement>('.js-selected-member-id')!\n  selectLabel.textContent = event.target.getAttribute('data-autocomplete-label') || 'selection'\n\n  const selectionBadge = container.querySelector<HTMLElement>('.js-selected-member-badge')!\n  const itemSelectionBadge = item.querySelector<HTMLElement>('.js-selection-badge')!\n  selectionBadge.innerHTML = itemSelectionBadge.innerHTML\n\n  toggleHidden(\n    Array.from(container.querySelectorAll('.js-repo-add-access-search-selected, .js-repo-add-access-search-selection')),\n  )\n\n  // Hide the base role icon by default\n  const baseRoleBadge = container.querySelector('.js-base-role-badge')\n  toggleRoleBadge(baseRoleBadge, true)\n\n  // disable roles\n  const memberType = item.getAttribute('data-type')\n  const orgAdmin = item.hasAttribute('data-admin')\n\n  // clear out old styling if the user navigated away from adding a user\n  const inputSelector = orgAdmin ? `[data-disable-org-admin]` : `[data-disable-org-role]`\n  const roleInputs = container.querySelectorAll<HTMLInputElement>(inputSelector)\n\n  const allInputs = container.querySelectorAll<HTMLInputElement>(`input[name=\"role\"]`)\n\n  // Roles are not displayed on user-owned repositories,\n  // Hence need for this check to guard against when roles are not displayed,\n  // So Element not found error is not raised.\n  if (allInputs.length > 0) {\n    reenableAllRoles(allInputs)\n\n    if (memberType === 'org-member') {\n      toggleRoleBadge(baseRoleBadge, false)\n      // hide all roles that are lower than default\n      for (const rI of roleInputs) {\n        rI.disabled = true\n        const roleDiv = rI.closest<HTMLElement>('.js-role-checkbox')!\n        roleDiv.classList.add('color-fg-muted')\n      }\n    }\n\n    if (orgAdmin) {\n      container.querySelector<HTMLInputElement>('.js-role-admin')!.checked = true\n    } else if (baseRoleBadge && memberType === 'org-member') {\n      const baseRoleCheckBox = baseRoleBadge\n        .closest<HTMLElement>('.js-role-checkbox')!\n        .querySelector<HTMLInputElement>('input[name=\"role\"]')!\n      baseRoleCheckBox.checked = true\n    } else if (\n      memberType === 'outside-collab' ||\n      memberType === 'team' ||\n      memberType === 'org-member' ||\n      memberType === 'email'\n    ) {\n      container.querySelector<HTMLInputElement>('.js-role-pull')!.checked = true\n    }\n  }\n})\n\non('click', '.js-cancel-selection', function (event) {\n  if (!(event.target instanceof Element)) return\n  const container = event.target.closest<HTMLElement>('.js-repo-add-access-search')!\n\n  const input = container.querySelector<HTMLInputElement>('.js-repo-add-access-search-input')!\n  input.value = ''\n\n  const allInputs = container.querySelectorAll<HTMLInputElement>(`input[name=\"role\"]`)\n  reenableAllRoles(allInputs)\n\n  toggleHidden(\n    Array.from(container.querySelectorAll('.js-repo-add-access-search-selected, .js-repo-add-access-search-selection')),\n  )\n  const baseRoleBadge = container.querySelector('.js-base-role-badge')\n  toggleRoleBadge(baseRoleBadge, true)\n})\n\non('details-dialog-close', '.js-add-access-form', function ({currentTarget}) {\n  const input = currentTarget.querySelector<HTMLInputElement>('.js-repo-add-access-search-input')!\n  input.value = ''\n\n  const allInputs = input.querySelectorAll<HTMLInputElement>(`input[name=\"role\"]`)\n  reenableAllRoles(allInputs)\n\n  const selection = currentTarget.querySelector<HTMLElement>('.js-repo-add-access-search-selection')!\n  const selected = currentTarget.querySelector<HTMLElement>('.js-repo-add-access-search-selected')!\n  if (selected.hidden) return\n  toggleHidden([selected, selection])\n  const baseRoleBadge = input.querySelector('.js-base-role-badge')\n  toggleRoleBadge(baseRoleBadge, true)\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nfunction selectRepoItem(event: Event) {\n  const item = event.target as HTMLInputElement\n  const form = item.closest<HTMLElement>('.js-policy-repos-container')!.querySelector('.js-policy-repos-form')!\n  const dataFormFieldName = form.getAttribute('data-form-field-name')\n  const selectedRepoInput = createRepoInput(item, dataFormFieldName)\n  const existing = form.querySelector(`[value='${selectedRepoInput.value}']`)\n  if (existing) {\n    existing.replaceWith(selectedRepoInput)\n  } else {\n    form.append(selectedRepoInput)\n  }\n}\n\nfunction createRepoInput(item: HTMLInputElement, dataFormFieldName: string | null): HTMLInputElement {\n  const input = document.createElement('input')\n  input.type = 'hidden'\n  input.name = item.checked ? 'enable[]' : 'disable[]'\n  input.value = item.value\n\n  if (dataFormFieldName) {\n    input.setAttribute('data-form-field-name', dataFormFieldName)\n  }\n\n  return input\n}\n\non('change', '.js-policy-repos-container .js-repository-item-checkbox', selectRepoItem)\n","import {controller} from '@github/catalyst'\nimport {BaseFilterElement} from '../filter-input'\nimport {requestSubmit} from '@github-ui/form-utils'\nimport {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\n\ntype CustomEventDetail = {\n  loadingType: 'filter' | 'loadMore'\n}\n\n// the following regex should be in sync with the regex in app/helpers/actions_repository_bulk_selector_helper.rb\nconst TOKENIZER_REGEX = new RegExp(/[^._\\-/]+/, 'g')\nconst QUERY_REGEX = new RegExp(/(IN|OUT)\\(([^()]+)\\)/, 'g')\n// note: we do not allow org: filter in the front end, but only in backend\nconst EXPRESSION_REGEX = new RegExp(/((language|in|is){1}:(\"[^\"]+\"|\\S+))|(\\S+)/, 'g')\nconst NUMERIC_REGEX = new RegExp(/\\d+/, 'g')\nconst CAMEL_CASE_REGEX = new RegExp(/(^[^A-Z]|[A-Z]+)[a-z0-9._\\-/]*/, 'g')\n\nconst MAX_NGRAM = 20\n\n@controller\nexport class RepositoryListFilterElement extends BaseFilterElement {\n  selectedSourceRepoId = 0\n  submittedFilterInput = ''\n\n  // (override) called on keyboard event\n  override inputKey(event: KeyboardEvent) {\n    /* eslint eslint-comments/no-use: off */\n    /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n    if (event.key === 'Escape') {\n      // only prevent propagation if the autocomplete dropdown is currently open\n      if (!this.autocompleteDropdown.hidden) {\n        event.stopPropagation()\n      }\n      this.handleSearchBlur()\n    }\n    /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n  }\n\n  // (override) called when the clear button is clicked\n  override clear() {\n    // reset the input\n    this.searchInput.value = this.getDefaultSearch()\n\n    // re-request the original list\n    requestSubmit(this.searchForm)\n\n    // hide the clear button if the input is empty\n    if (this.searchInput.value.trim().length === 0 && this.clearButton) {\n      this.clearButton.hidden = true\n    }\n  }\n\n  // (override) -- trim the suggestions to, at max, 7 items to handle the previously long list of languages\n  // Render autocomplete suggestions to match qualifier values from the currently typed text.\n  //\n  // qualifier - Qualifier to find value suggestions for.\n  // filterString - Filter input to filter suggestions by.\n  override async renderValueSuggestions(qualifier: string, filterString: string) {\n    let matchingSuggestions = await this.fetchMatchingSuggestions(qualifier, filterString)\n\n    // truncate the list to top 7 suggestions\n    if (matchingSuggestions.length > 7) {\n      matchingSuggestions = matchingSuggestions.slice(0, 7)\n    }\n\n    this.renderSuggestionDropdown(Promise.resolve(matchingSuggestions))\n  }\n\n  // (override)\n  // Parses the current search query to decide what autocompletes to show\n  override updateFilterSuggestionResults(): void {\n    super.updateFilterSuggestionResults()\n\n    // we want to keep the clear button visible as long as the for hasn't been submitted with an empty search\n    const searchString = this.searchInput.value\n    if (this.clearButton) {\n      if (searchString.trim().length === 0 && this.submittedFilterInput.length !== 0 && this.clearButton.hidden) {\n        // turn on the clear button when the input is empty as long as the clear button was already visible\n        // this prevents a bug where the user focuces on the empty input and unfocuses which would cause the\n        // clear button to appear even though no query has happened.\n        this.clearButton.hidden = false\n      } else if (searchString.trim().length > 0) {\n        // turn on the clear button whenever the input has text\n        this.clearButton.hidden = false\n      }\n    }\n  }\n\n  handleSubmitEvent(e: Event) {\n    e.preventDefault()\n\n    if (this.invalidSearchTerms()) {\n      // don't submit invalid queries to the controller\n      return\n    }\n\n    this.submittedFilterInput = this.formatSearchInput(this.searchInput.value.trim())\n\n    this.fetchRepositories()\n    // hide the dropdown after submitting to the controller\n    this.hideFilterSuggestions()\n  }\n\n  fetchRepositories(_page = 1) {\n    const url = this.searchForm.action\n    const formattedSearchInput = this.submittedFilterInput\n    const query = encodeURIComponent(formattedSearchInput)\n    const constructedUrl = `${url}&page=${_page}&q=${query}&source_repo_id=${this.selectedSourceRepoId}`\n    this.fetchRepositoriesContent(_page, constructedUrl)\n  }\n\n  emitLoadingEvent(type: 'loading' | 'loaded' | 'error', detail: CustomEventDetail): void {\n    this.dispatchEvent(new CustomEvent(type, {detail}))\n  }\n\n  formatSearchInput(searchInput: string) {\n    searchInput = searchInput.trim()\n    if (!searchInput) {\n      return ''\n    }\n\n    const queryItems = this.getExpressionArray(searchInput)\n    const newQuery = queryItems.map(queryItem => {\n      if (queryItem.includes(':')) {\n        return queryItem\n      }\n      return `${queryItem} in:name`\n    })\n\n    return newQuery.join(' ')\n  }\n\n  async fetchRepositoriesContent(_page: number, url: string) {\n    const isFetchingFromFilter = _page === 1\n\n    const customEventDetail: CustomEventDetail = {\n      loadingType: isFetchingFromFilter ? 'filter' : 'loadMore',\n    }\n\n    this.emitLoadingEvent('loading', customEventDetail)\n\n    const htmlResponse = await fetchSafeDocumentFragment(document, url)\n\n    if (isFetchingFromFilter) {\n      document.getElementById('repository-items-replacement-target')?.replaceChildren(htmlResponse)\n    } else {\n      // Load More functionality\n      document.getElementById('load-more-list-item')?.replaceWith(htmlResponse)\n    }\n\n    // apply selection based on the query\n    this.applyFilters()\n\n    // propagate the filter event to parent containers that may be performing actions on this event\n    this.dispatchEvent(new CustomEvent('filtered'))\n\n    this.emitLoadingEvent('loaded', customEventDetail)\n  }\n\n  // This applies the selection on client side based on expressions\n  // Similar to code app/helpers/actions_repository_bulk_selector_helper.rb\n  applyFilters() {\n    const repoBulkSelector = this.closest<HTMLElement>('repository-bulk-selector')!\n    // Get the internal query value\n    const repoQueryValue = repoBulkSelector.getElementsByTagName('input')[0]!.value\n    if (!repoQueryValue) return\n\n    const repoItemsContainer = repoBulkSelector.getElementsByTagName('ul')[0]!\n\n    // In case of load more, apply to the newly added items to avoid duplicate effort\n    const repoItems = repoItemsContainer.getElementsByTagName('input')\n\n    // reference: https://github.com/github/github/blob/master/app/helpers/actions_repository_bulk_selector_helper.rb#L128\n    // Handle query: = 'IN(language:javascript) OUT(1,2)'\n    const queries = this.getQueryArray(repoQueryValue)\n\n    for (const repoItem of repoItems) {\n      let checked = repoItem.checked\n\n      for (let query of queries) {\n        query = query.trim()\n        if (!query) continue\n        let filtered = false\n\n        const phrase = this.getPhrase(query)\n\n        if (!phrase) continue\n\n        if (this.isFilterQuery(phrase)) {\n          // Simple expression: IN(language:JavaScript)\n          // Complex expression IN(language:JavaScript -is:private)\n          const expressionArray = this.getExpressionArray(phrase)\n          filtered = this.filterExpressions(expressionArray, repoItem)\n        } else if (this.isAllExpression(phrase)) {\n          filtered = true\n        } else {\n          // Handle targetIds IN(1,2,3)\n          const targetIds = phrase.split(',')\n          filtered = this.handleTargetIDs(targetIds, repoItem)\n        }\n\n        if (filtered && query.startsWith('IN')) {\n          checked = true\n        } else if (filtered && query.startsWith('OUT')) {\n          checked = false\n        }\n      }\n      repoItem.checked = checked\n    }\n  }\n\n  // 'IN(language:javascript) OUT(1,2)' => ['IN(language:javascript)', 'OUT(1,2)']\n  getQueryArray(repoQueryValue: string) {\n    const matches = repoQueryValue.matchAll(QUERY_REGEX)\n    return [...matches].map(m => m[0])\n  }\n\n  // 'IN(language:javascript)' => 'language:javascript'\n  getPhrase(query: string) {\n    const matches = query.matchAll(QUERY_REGEX)\n    return [...matches].map(m => m[2])[0]\n  }\n\n  // 'language:\"Emacs Lisp\" test.42 in:name is:private' => ['language:\"Emacs Lisp\"', 'test.42', 'in:name', 'is:private']\n  getExpressionArray(phrase: string) {\n    return phrase.match(EXPRESSION_REGEX) || []\n  }\n\n  // 'language:javascript' => ['language', 'javascript']\n  getExpressionValuePair(expression: string) {\n    const pair = expression.trim().split(':')\n    if (pair.length === 2 && this.isWrappedQuotation(pair[1]!)) {\n      pair[1] = pair[1]!.slice(1, -1)\n    }\n\n    return pair\n  }\n\n  isWrappedQuotation(value: string) {\n    return value.startsWith('\"') && value.endsWith('\"')\n  }\n\n  filterExpressions(expressions: string[], repoItem: HTMLInputElement) {\n    let languageFilterExists = false\n    let languageFiltered = false\n\n    let visibilityFiltered = false\n    let visibilityFilterExists = false\n\n    let nameSearch = ''\n    for (let expression of expressions) {\n      expression = expression.trim()\n      const expressionValuePair = this.getExpressionValuePair(expression)\n\n      if (expressionValuePair.length === 1) {\n        nameSearch = expressionValuePair[0]!.trim()\n        continue\n      }\n\n      const qualifier = expressionValuePair[0]!\n      const value = expressionValuePair[1]!\n      if (qualifier === 'in' && value === 'name') {\n        // early exit if name filter is not matched\n        if (!this.filterNameExpression(nameSearch, repoItem)) return false\n        continue\n      }\n\n      if (qualifier === 'language') {\n        // this considers OR condition for `language:javascript language:shell`\n        languageFiltered = languageFiltered || this.filterLanguageExpression(value, repoItem)\n        languageFilterExists = true\n        continue\n      }\n\n      if (qualifier === 'is') {\n        // this considers OR condition for `is:private is:internal`\n        visibilityFiltered = visibilityFiltered || this.filterVisibilityExpression(value, repoItem)\n        visibilityFilterExists = true\n        continue\n      }\n    }\n\n    if (!languageFilterExists) {\n      languageFiltered = true\n    }\n\n    if (!visibilityFilterExists) {\n      visibilityFiltered = true\n    }\n\n    return languageFiltered && visibilityFiltered\n  }\n\n  filterLanguageExpression(value: string, repoItem: HTMLInputElement) {\n    return repoItem.getAttribute('data-language')!.toLowerCase() === value.toLowerCase()\n  }\n\n  filterVisibilityExpression(value: string, repoItem: HTMLInputElement) {\n    return repoItem.getAttribute('data-visibility')!.toLowerCase() === value.toLowerCase()\n  }\n\n  // the method 'filterNameExpression' should follow the implementation of 'filter_name_expression?' in app/helpers/actions_repository_bulk_selector_helper.rb\n  filterNameExpression(searchValue: string, repoItem: HTMLInputElement) {\n    const repoName = repoItem.getAttribute('data-name')?.trim()\n    if (!repoName) {\n      return false\n    }\n    if (!searchValue) {\n      return true\n    }\n\n    const tokenizedSearchValues = searchValue.toLowerCase().match(TOKENIZER_REGEX) || []\n    // if there is any token longer than max ngram 20, we cannot use ngram match\n    const allowNgram = !tokenizedSearchValues.some(value => value.length > MAX_NGRAM)\n    for (const tokenizedSearchValue of tokenizedSearchValues) {\n      if (this.filterTokenizedNameExpression(tokenizedSearchValue, repoName, allowNgram) === false) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  exactOrNgramMatch(word: string, searchValue: string, ngramFlag: boolean) {\n    const downcasedWord = word.toLowerCase()\n    // exact word match\n    if (downcasedWord === searchValue) {\n      return true\n    }\n    if (ngramFlag && downcasedWord.slice(0, MAX_NGRAM).startsWith(searchValue)) {\n      return true\n    }\n\n    return false\n  }\n\n  filterTokenizedNameExpression(tokenizedSearchValue: string, repoName: string, ngramFlag: boolean) {\n    if (repoName.toLowerCase() === tokenizedSearchValue) {\n      return true\n    }\n\n    // split camelcase: \"PowerShot\" => \"Power\" \"Shot\"\n    const camelCaseWords = repoName.match(CAMEL_CASE_REGEX) || []\n    for (const word of camelCaseWords) {\n      if (this.exactOrNgramMatch(word, tokenizedSearchValue, ngramFlag)) {\n        return true\n      }\n    }\n\n    // number subwords to be generated: \"500-42rg\" => \"500\" \"42\"\n    const numericWords = repoName.match(NUMERIC_REGEX) || []\n    for (const word of numericWords) {\n      if (this.exactOrNgramMatch(word, tokenizedSearchValue, ngramFlag)) {\n        return true\n      }\n    }\n\n    // split on numerics: \"j2se\" =>  \"j\" \"se\" (\"2\" will be covered in number subword)\n    const nonNumericWords = repoName.split(NUMERIC_REGEX)\n    for (const word of nonNumericWords) {\n      if (this.exactOrNgramMatch(word, tokenizedSearchValue, ngramFlag)) {\n        return true\n      }\n    }\n\n    // split at non-alphanumerics(delimiters): \"500-42rg\" => \"500\" \"42rg\"\n    const words = repoName.match(TOKENIZER_REGEX) || []\n    for (const word of words) {\n      if (this.exactOrNgramMatch(word, tokenizedSearchValue, ngramFlag)) {\n        return true\n      }\n    }\n\n    // tokenizedSearchValue does not match any of the words\n    return false\n  }\n\n  handleTargetIDs(targetIds: string[], repoItem: HTMLInputElement) {\n    return targetIds.includes(repoItem.getAttribute('data-repo-id')!)\n  }\n\n  isFilterQuery(expression: string) {\n    return expression.includes(':')\n  }\n\n  isAllExpression(expression: string) {\n    return expression === 'ALL'\n  }\n\n  setSelectedSourceRepoId(selectedSourceRepoId = 0) {\n    this.selectedSourceRepoId = selectedSourceRepoId\n  }\n}\n","import type AutocompleteElement from '@github/auto-complete-element'\nimport {addThrottledInputEventListener} from '../throttled-input'\nimport {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {remoteForm} from '@github/remote-form'\n\non('change', '.js-repo-features-form input[type=checkbox]', function ({currentTarget}) {\n  const repoOption = currentTarget.closest<HTMLElement>('.js-repo-option')!\n  const indicator = repoOption.querySelector<HTMLElement>('.js-status-indicator')!\n  indicator.classList.remove('status-indicator-success', 'status-indicator-failed')\n  indicator.classList.add('status-indicator-loading')\n})\n\nfunction setMergeQueueSettings(protectedBranchNameInput: Element) {\n  const mergeQueueCheckbox = document.querySelector<HTMLInputElement>('.js-protected-branch-merge-queue-checkbox')\n  const mergeQueueSettings = document.querySelector<HTMLInputElement>('.js-protected-branch-merge-queue-settings')\n  const mergeQueueWarning = document.querySelector<HTMLInputElement>('.js-protected-branch-name-merge-queue-warning')\n  const protectedBranchNamePattern = (protectedBranchNameInput as HTMLInputElement).value\n\n  if (mergeQueueCheckbox && mergeQueueSettings && mergeQueueWarning) {\n    const mergeQueueCheckboxLabel = mergeQueueCheckbox.closest<HTMLElement>('.form-checkbox')!\n    const mergeQueueShouldBeDisabled = protectedBranchNamePattern.includes('*')\n\n    mergeQueueCheckbox.disabled = mergeQueueShouldBeDisabled\n    mergeQueueWarning.hidden = !mergeQueueShouldBeDisabled\n    mergeQueueCheckboxLabel.classList.toggle('color-fg-muted', mergeQueueShouldBeDisabled)\n\n    if (mergeQueueShouldBeDisabled && mergeQueueCheckbox.checked) {\n      alert(mergeQueueCheckbox.getAttribute('data-auto-uncheck-message'))\n      mergeQueueSettings.hidden = mergeQueueShouldBeDisabled\n      mergeQueueCheckbox.checked = false\n    }\n  }\n}\n\n// Set merge queue settings on page load\nobserve('.js-branch-name-pattern', setMergeQueueSettings)\n\non('change', '.js-branch-name-pattern', function ({currentTarget}) {\n  setMergeQueueSettings(currentTarget as HTMLInputElement)\n})\n\nremoteForm('.js-repo-features-form', async function (form, wants) {\n  let response\n  try {\n    response = await wants.html()\n  } catch (error) {\n    for (const el of form.querySelectorAll('.status-indicator-loading')) {\n      el.classList.remove('status-indicator-loading')\n      el.classList.add('status-indicator-failed')\n      const option = el.closest<HTMLElement>('.js-repo-option')!\n      const checkbox = option.querySelector<HTMLInputElement>('input[type=checkbox]')!\n      checkbox.checked = !checkbox.checked\n    }\n    return\n  }\n  for (const el of form.querySelectorAll('.status-indicator-loading')) {\n    el.classList.remove('status-indicator-loading')\n    el.classList.add('status-indicator-success')\n  }\n\n  document.querySelector<HTMLElement>('.js-repo-nav')!.replaceWith(response.html)\n})\n\non('change', '.js-merge-features-form input[type=checkbox]', function ({currentTarget}) {\n  const form = (currentTarget as HTMLInputElement).form!\n\n  // Clear option group error states.\n  for (const el of form.querySelectorAll('.errored')) {\n    el.classList.remove('errored')\n  }\n\n  // Show loading indicator.\n  const option = currentTarget.closest<HTMLElement>('.js-repo-option')!\n  const indicator = option.querySelector<HTMLElement>('.js-status-indicator')!\n  indicator.classList.remove('status-indicator-success', 'status-indicator-failed')\n  indicator.classList.add('status-indicator-loading')\n})\n\nremoteForm('.js-merge-features-form', async function (form, wants) {\n  try {\n    await wants.text()\n  } catch (error) {\n    const warningSelector =\n      // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n      error.response && error.response.text.endsWith('(protected_branch_policy)')\n        ? '.js-no-merge-commit-warning'\n        : '.js-select-one-warning'\n    for (const el of form.querySelectorAll(warningSelector)) {\n      if (el instanceof HTMLElement) {\n        el.hidden = false\n      }\n    }\n\n    for (const el of form.querySelectorAll('.status-indicator-loading')) {\n      el.classList.remove('status-indicator-loading')\n      el.classList.add('status-indicator-failed')\n\n      // Show error message.\n      const option = el.closest<HTMLElement>('.js-repo-option')!\n      option.classList.add('errored')\n\n      const checkbox = option.querySelector<HTMLInputElement>('input[type=checkbox]')!\n      checkbox.checked = !checkbox.checked\n\n      // If the checkbox has errored but is still selected,\n      // the additional 'on' class is also required.\n      if (option) {\n        option.classList.add('on')\n      }\n    }\n\n    // Clear all success indicators.\n    for (const el of form.querySelectorAll('.status-indicator-success')) {\n      el.classList.remove('status-indicator-success')\n    }\n\n    return\n  }\n\n  // Clear option group error states.\n  for (const el of form.querySelectorAll('.errored')) {\n    el.classList.remove('errored')\n  }\n  for (const el of form.querySelectorAll('.js-select-one-warning, .js-no-merge-commit-warning')) {\n    if (el instanceof HTMLElement) {\n      el.hidden = true\n    }\n  }\n\n  // Show success indicator.\n  for (const el of form.querySelectorAll('.status-indicator-loading')) {\n    el.classList.remove('status-indicator-loading')\n    el.classList.add('status-indicator-success')\n  }\n})\n\nremoteForm('.js-push-settings-form', async function (form, wants) {\n  const checkbox = form.querySelector<HTMLInputElement>('.js-push-settings-form input[type=checkbox]')!\n  const checked = checkbox.checked\n\n  const numericContainer = form.querySelector<HTMLInputElement>('.js-push-settings-form div.js-form-numeric')!\n  const numericInput = numericContainer.querySelector<HTMLInputElement>('input[type=number]')!\n\n  numericContainer.hidden = !checked\n\n  // Show loading indicator (in this context it's really a \"saving...\" indicator)\n  const statusIndicator = form.querySelector<HTMLElement>('.js-status-indicator')!\n  statusIndicator.classList.remove('status-indicator-success', 'status-indicator-failed')\n  statusIndicator.classList.add('status-indicator-loading')\n\n  const flashComponent = form.querySelector<HTMLElement>('.js-push-save-failed-message.flash')!\n\n  try {\n    await wants.text()\n  } catch (error) {\n    // Save failed; reset inputs to last known good values.\n    checkbox.checked = checkbox.getAttribute('data-last-saved-value') === 'true'\n    numericInput.value = numericInput.getAttribute('data-last-saved-value') ?? '5'\n\n    // Show error indicators.\n    statusIndicator.classList.remove('status-indicator-success', 'status-indicator-loading')\n    statusIndicator.classList.add('status-indicator-failed')\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    flashComponent.textContent = error.response.text\n    flashComponent.hidden = false\n\n    return\n  }\n\n  // Save was successful; update last known good values.\n  checkbox.setAttribute('data-last-saved-value', checked.toString())\n  numericInput.setAttribute('data-last-saved-value', numericInput.value.trim())\n\n  // Show success indicator. Hide any error indicators.\n  statusIndicator.classList.remove('status-indicator-failed', 'status-indicator-loading')\n  statusIndicator.classList.add('status-indicator-success')\n  setTimeout(() => {\n    statusIndicator.classList.remove('status-indicator-success')\n  }, 4000)\n\n  flashComponent.hidden = true\n})\n\n// toggle to Require status checks to pass before merging\non('change', 'input.js-required-status-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-settings')!\n  const el = container.querySelector<HTMLElement>('.js-required-statuses')!\n  /* eslint-disable-next-line github/no-d-none */\n  el.classList.toggle('d-none', !(currentTarget as HTMLInputElement).checked)\n})\n\n// toggle to Require deployments before merging\non('change', 'input.js-required-deployments-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-settings')!\n  const el = container.querySelector<HTMLElement>('.js-required-deployments')!\n  el.hidden = !(currentTarget as HTMLInputElement).checked\n})\n\n// toggle allow fetch upstream when lock branch is enabled\non('change', 'input.js-lock-branch-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-settings')!\n  const el = container.querySelector<HTMLElement>('#allow-upstream-fetching')!\n  if (!el) return\n  el.hidden = !(currentTarget as HTMLInputElement).checked\n})\n\non('change', 'input.js-required-status-checkbox', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branches-item')!\n  const badge = container.querySelector<HTMLElement>('.js-required-status-badge')!\n  /* eslint-disable-next-line github/no-d-none */\n  badge.classList.toggle('d-none', !(currentTarget as HTMLInputElement).checked)\n})\n\n// Add required status check.\non('auto-complete-change', '.js-add-protected-branch-required-status-check', async function ({target: completer}) {\n  const autocompleter = completer as AutocompleteElement\n  const searchValue = autocompleter.value\n  if (!searchValue) return\n\n  const container = autocompleter.closest<HTMLElement>('.js-protected-branch-options')!\n  const list = container.querySelector<HTMLElement>('.js-required-status-checks')!\n  const found = list.querySelector(`li[data-context='${CSS.escape(searchValue)}']`)\n  if (found) {\n    found.querySelector<HTMLElement>('.js-required-status-check-context')!.classList.add('user-already-added')\n    return\n  }\n\n  const dataURL = autocompleter.getAttribute('data-add-url')!\n  const url = new URL(dataURL, window.location.origin)\n  const params = new URLSearchParams(url.search.slice(1))\n  params.append('item', searchValue)\n  url.search = params.toString()\n\n  list.append(await fetchSafeDocumentFragment(document, url.toString()))\n})\n\n// Remove required status check.\non('click', '.js-remove-required-status-check', function ({currentTarget}) {\n  currentTarget.closest<HTMLElement>('.js-required-status-check')!.remove()\n})\n\n// Require certain number of reviewers\non('change', 'input.js-reviewers-required-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-options')\n  const el = container?.querySelector<HTMLElement>('.js-reviewers-count')\n  if (!el) return\n\n  el.hidden = !(currentTarget as HTMLInputElement).checked\n\n  const input = el.querySelector<HTMLInputElement>(`input#required_approving_review_count_${el.hidden ? 0 : 1}`)\n  if (!input) return\n  input.click()\n  el.focus()\n})\n\n// Restrict who can push to this branch.\non(\n  'change',\n  '.js-authorized-branch-pushers-toggle, input.js-authorized-review-dismisser-toggle',\n  function ({currentTarget}) {\n    const container = currentTarget.closest<HTMLElement>('.js-protected-branch-options')!\n    const el = container.querySelector<HTMLElement>('.js-authorized-pushers')!\n    /* eslint-disable-next-line github/no-d-none */\n    el.classList.toggle('d-none', !(currentTarget as HTMLInputElement).checked)\n\n    el.querySelector<HTMLInputElement>('.js-add-protected-branch-actor input')!.focus()\n  },\n)\n\n// When creating a new policy restricting who can push, default \"create protected\" to true.\non('change', '.js-authorized-branch-pushers-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-options')!\n  const createProtectedToggle = container.querySelector<HTMLInputElement>('.js-create-protected-checkbox')\n\n  if (\n    (currentTarget as HTMLInputElement).checked &&\n    createProtectedToggle?.getAttribute('data-set-create-protected-upon-reveal') === 'true'\n  ) {\n    createProtectedToggle.checked = true\n    createProtectedToggle.removeAttribute('data-set-create-protected-upon-reveal')\n  }\n})\n\n// When removing a policy restricting who can push, set \"create protected\" to false.\non('submit', '.js-protected-branch-settings', function ({currentTarget}) {\n  const restrictPushersToggle = currentTarget.querySelector<HTMLInputElement>('.js-authorized-branch-pushers-toggle')\n  const createProtectedToggle = currentTarget.querySelector<HTMLInputElement>('.js-create-protected-checkbox')\n\n  if (restrictPushersToggle && createProtectedToggle && !restrictPushersToggle.checked) {\n    createProtectedToggle.checked = false\n  }\n})\n\n// Allow users to bypass pull requests\non('change', 'input.js-bypass-pull-request-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-options')\n  if (!container) return\n  const el = container.querySelector<HTMLElement>('.js-pull-request-bypassers')\n  if (!el) return\n  el.hidden = !(currentTarget as HTMLInputElement).checked\n\n  // Remove actors when we toggle the button off\n  if (el.hidden) {\n    const list = container.querySelector<HTMLElement>('.js-authorized-actors')\n    list?.replaceChildren()\n  }\n\n  el.querySelector<HTMLInputElement>('.js-add-protected-branch-actor input')?.focus()\n})\n\n// Allow users to force push\non('change', 'input[type=\"radio\"][name=\"allow_force_push\"]', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-options')\n  if (!container) return\n  const el = container.querySelector<HTMLElement>('.js-allow-force-pushers')\n  if (!el) return\n  el.hidden = (currentTarget as HTMLInputElement).value !== 'actors'\n\n  // Remove actors when we toggle to everyone\n  if (el.hidden) {\n    const list = container.querySelector<HTMLElement>('.js-authorized-actors')\n    list?.replaceChildren()\n  }\n\n  el.querySelector<HTMLInputElement>('.js-add-protected-branch-actor input')?.focus()\n})\n\n// Expand force push options\non('change', 'input.js-force-push-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-options')\n  if (!container) return\n  const el = container.querySelector<HTMLElement>('.js-restrict-who-pushes')\n  if (!el) return\n  el.hidden = !(currentTarget as HTMLInputElement).checked\n\n  // Remove actors enable force push checkbox is off\n  if (el.hidden) {\n    const list = container.querySelector<HTMLElement>('.js-authorized-actors')\n    list?.replaceChildren()\n  }\n})\n\n// Merge queue checkbox: display alert when disabling the merge queue.\non('click', '.js-protected-branch-merge-queue-checkbox', function (event) {\n  const checkbox = event.currentTarget as HTMLInputElement\n  const msg = checkbox.getAttribute('data-confirm-if-checked') || ''\n\n  // If queue is disabled, but was enabled when the form was rendered,\n  // do nothing unless the user confirms they're okay deleting the queue\n  if (!checkbox.checked && checkbox.getAttribute('checked') && !confirm(msg)) {\n    event.preventDefault()\n    return\n  }\n\n  const container = checkbox.closest<HTMLElement>('.js-protected-branch-settings')\n  if (!container) return\n  const el = container.querySelector<HTMLElement>('.js-protected-branch-merge-queue-settings')\n  if (!el) return\n  el.hidden = !checkbox.checked\n})\n\n// Selectively enable / disable the merge queue merge strategy when require linear history is changed\non('click', '.js-protected-branch-require-linear-history-checkbox', function (event) {\n  const checkbox = event.currentTarget as HTMLInputElement\n  const merge_strategy = document\n    .querySelector<HTMLElement>('[name=merge_queue_merge_method][value=MERGE]')\n    ?.closest<HTMLElement>('.js-protected-branch-merge-queue-method-radio')\n  const merge_strategy_input = merge_strategy?.querySelector<HTMLInputElement>('input')\n  const merge_strategy_warning = merge_strategy?.querySelector<HTMLInputElement>('.unavailable-merge-method')\n  if (!merge_strategy || !merge_strategy_input || !merge_strategy_warning) return\n\n  if (checkbox.checked) {\n    // Disable the \"merge\" strategy when linear history is enabled\n    merge_strategy.tabIndex = -1\n    merge_strategy.ariaChecked = 'false'\n    merge_strategy.classList.add('disabled')\n    merge_strategy_input.disabled = true\n    merge_strategy_warning.hidden = false\n  } else {\n    // Enable the \"merge\" strategy when linear history is disabled\n    merge_strategy.tabIndex = 0\n    merge_strategy.classList.remove('disabled')\n    merge_strategy_input.disabled = false\n    merge_strategy_warning.hidden = true\n  }\n})\n\n// Selectively enable / disable \"require linear history\" based on chosen merge queue commit strategy\non('change', '.js-protected-branch-merge-queue-method-radio input', function (event) {\n  const radio = event.currentTarget as HTMLInputElement\n  const block_merge_commits = document.querySelector<HTMLInputElement>('[name=block_merge_commits]')\n  const linear_history_warning = document.querySelector<HTMLElement>('.js-protected-branch-linear-history-warning')\n  if (!block_merge_commits || !linear_history_warning) return\n\n  if (radio.value === 'MERGE') {\n    // Disable linear history when the merge commit strategy is merge\n    block_merge_commits.disabled = true\n    block_merge_commits.checked = false\n    linear_history_warning.hidden = false\n  } else {\n    // Allow linear history if when the merge commit strategy is squash or rebase\n    block_merge_commits.disabled = false\n    linear_history_warning.hidden = true\n  }\n})\n\n// Enforce all configured restrictions for administrators.\non('change', '.js-protected-branch-include-admin-toggle', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-settings')!\n  const permissions = container.querySelectorAll('.js-protected-branch-admin-permission')\n  for (const el of permissions) {\n    /* eslint-disable-next-line github/no-d-none */\n    el.classList.toggle('d-none')\n    /* eslint-disable-next-line github/no-d-none */\n    el.classList.toggle('active', !el.classList.contains('d-none'))\n  }\n})\n\n// Update list of authorized actors to include MQ bot when MQ is enabled\non('change', '.js-protected-branch-merge-queue-checkbox', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-settings')!\n  const permissions = container.querySelectorAll('.js-protected-branch-authorized-actors')\n  for (const el of permissions) {\n    /* eslint-disable-next-line github/no-d-none */\n    el.classList.toggle('d-none')\n    /* eslint-disable-next-line github/no-d-none */\n    el.classList.toggle('active', !el.classList.contains('d-none'))\n  }\n})\n\n// Toggle the maximum number of allowed pushers.\nfunction toggleMaxAllowedPushers(container: HTMLElement) {\n  const allowedPushers = container.querySelector<HTMLElement>('.js-authorized-pushers')\n  if (!allowedPushers?.getAttribute('data-limit')) return\n  const allowedPushersLimit = parseInt(allowedPushers.getAttribute('data-limit') || '')\n  const allowedPushersCount = allowedPushers.querySelectorAll('.js-authorized-user-or-team').length\n  allowedPushers.classList.toggle('at-limit', allowedPushersCount >= allowedPushersLimit)\n}\n\n// Grant branch push access to a user.\non('auto-complete-change', '.js-add-protected-branch-actor', async function ({target: completer}) {\n  const autocompleter = completer as AutocompleteElement\n  const searchValue = autocompleter.value\n  if (!searchValue) return\n  autocompleter.value = ''\n\n  const container = autocompleter.closest<HTMLElement>('.js-protected-branch-options')!\n  const list = container.querySelector<HTMLElement>('.js-authorized-actors')!\n  const found = list.querySelector(`div[data-user-or-team-name='${searchValue}']`)\n  if (found) {\n    found.querySelector<HTMLElement>('.js-protected-branch-pusher')!.classList.add('user-already-added')\n    return\n  }\n\n  const dataURL = autocompleter.getAttribute('data-add-url')!\n  const url = new URL(dataURL, window.location.origin)\n  const params = new URLSearchParams(url.search.slice(1))\n  params.append('item', searchValue)\n  url.search = params.toString()\n\n  list.append(await fetchSafeDocumentFragment(document, url.toString()))\n  toggleMaxAllowedPushers(container)\n})\n\n// Remove users who are authorized to push to a specific branch.\non('click', '.js-remove-authorized-user-or-team', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-protected-branch-options')!\n  const userOrTeam = currentTarget.closest<HTMLElement>('.js-authorized-user-or-team')!\n\n  if (userOrTeam.nextElementSibling) {\n    userOrTeam.nextElementSibling.querySelector<HTMLElement>('.js-remove-authorized-user-or-team')!.focus()\n  } else if (userOrTeam.previousElementSibling) {\n    userOrTeam.previousElementSibling.querySelector<HTMLElement>('.js-remove-authorized-user-or-team')!.focus()\n  } else {\n    container.querySelector<HTMLElement>('.js-add-protected-branch-actor input')!.focus()\n  }\n\n  userOrTeam.remove()\n  toggleMaxAllowedPushers(container)\n})\n\non('click', '.js-pages-cname-save-btn', function () {\n  const removeButton = document.querySelector<HTMLButtonElement>('.js-pages-cname-remove-btn')!\n  if (removeButton) {\n    removeButton.disabled = false\n  }\n})\n\non('click', '.js-pages-custom-subdomain-save-btn', function () {\n  const removeButton = document.querySelector<HTMLButtonElement>('.js-pages-custom-subdomain-remove-btn')!\n  if (removeButton) {\n    removeButton.disabled = false\n  }\n})\n\n// disable pages-cname save button until value changes\nobserve('#pages-cname-field', {\n  constructor: HTMLInputElement,\n  add(el) {\n    addThrottledInputEventListener(el, function () {\n      const button = document.querySelector<HTMLButtonElement>('.js-pages-cname-save-btn')!\n      const removeButton = document.querySelector<HTMLButtonElement>('.js-pages-cname-remove-btn')!\n\n      if (el.value === '' && removeButton) {\n        button.disabled = true\n      } else {\n        button.disabled = el.value === el.defaultValue\n      }\n    })\n  },\n})\n\n// disable pages-custom-subdomain save button until value changes\nobserve('#pages-custom-subdomain-field', {\n  constructor: HTMLInputElement,\n  add(el) {\n    addThrottledInputEventListener(el, function () {\n      const button = document.querySelector<HTMLButtonElement>('.js-pages-custom-subdomain-save-btn')!\n      const removeButton = document.querySelector<HTMLButtonElement>('.js-pages-custom-subdomain-remove-btn')!\n\n      if (el.value === '' && removeButton) {\n        button.disabled = true\n      } else {\n        button.disabled = el.value === el.defaultValue\n      }\n    })\n  },\n})\n\n// Query certificate status every 15 seconds.\nconst certificateQueryDuration = 15 * 1000\nsetTimeout(checkCertificateStatus, certificateQueryDuration)\nasync function checkCertificateStatus() {\n  const content = document.querySelector('.js-pages-certificate-status')\n  if (content) {\n    const url = content.getAttribute('data-status-url')!\n    const fragment = await fetchSafeDocumentFragment(document, url)\n    content.replaceWith(fragment)\n    setTimeout(checkCertificateStatus, certificateQueryDuration)\n  }\n}\n\n// Query DNS 2 seconds after page load\nsetTimeout(checkDomainStatus, 2000)\nasync function checkDomainStatus() {\n  const content = document.querySelector('.js-pages-domain-status')\n  if (content) {\n    const state = content.getAttribute('data-domain-state')!\n\n    if (!['pending', 'queued'].includes(state)) return // if state if not pending or queued, stop checking.\n\n    const url = content.getAttribute('data-domain-status-url')!\n    const fragment = await fetchSafeDocumentFragment(document, url)\n    content.replaceWith(fragment)\n    // Check domain status again in 5 seconds\n    setTimeout(checkDomainStatus, 5000)\n  }\n}\n\nfunction getPageSourceSubmitBtn() {\n  return document.querySelector<HTMLButtonElement>('.js-update-page-source-btn')!\n}\n\nfunction getPageSource(name: string) {\n  const source = document.querySelector(`input[name=${name}]:checked`)\n  if (source) {\n    return (source as HTMLInputElement).value\n  }\n  return null\n}\n\n// This flash warning is only created if a gh-pages branch exists in a project repo or if we have a user repo\nfunction getPageWarningMessage() {\n  const flashWarning = document.querySelector('.js-disable-page-warning')\n  if (flashWarning) {\n    return flashWarning as HTMLElement\n  }\n  return null\n}\n\nconst pageSourceBranch = getPageSource('source')\nconst pageSourceDir = getPageSource('source_dir')\n\non('change', '.js-select-branch', event => {\n  const input = event.target as HTMLInputElement\n  if (input.name !== 'source') return\n  const sourceDirSelector = document.querySelector<HTMLElement>('.js-select-source-dir')!\n  const branchIcon = document.querySelector<HTMLElement>('.js-branch-icon')!\n  if (input.value !== '') {\n    branchIcon.hidden = false\n    sourceDirSelector.hidden = false\n  } else {\n    branchIcon.hidden = true\n    sourceDirSelector.hidden = true\n  }\n\n  const warningObject = getPageWarningMessage()\n  if (warningObject != null) {\n    if (input.value === '') {\n      warningObject.hidden = false\n    } else {\n      warningObject.hidden = true\n    }\n  }\n\n  if (input.value !== pageSourceBranch) {\n    getPageSourceSubmitBtn().disabled = false\n    //If 'None' source is selected\n    if (input.value === '' && warningObject != null) {\n      getPageSourceSubmitBtn().disabled = true\n    }\n  } else {\n    if (pageSourceDir === getPageSource('source_dir') || pageSourceBranch === '') {\n      getPageSourceSubmitBtn().disabled = true\n    }\n  }\n})\n\non('change', '.js-select-source-dir', event => {\n  const input = event.target as HTMLInputElement\n  if (input.name !== 'source_dir') return\n  const sourceDir = input.value\n  if (sourceDir !== pageSourceDir) {\n    getPageSourceSubmitBtn().disabled = false\n  } else {\n    if (getPageSource('source') === pageSourceBranch) {\n      getPageSourceSubmitBtn().disabled = true\n    }\n  }\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {parseHTML} from '@github-ui/parse-html'\n\nfunction disableRestoreButton(parent: Element) {\n  const button = parent.querySelector<HTMLButtonElement>('form>button')!\n  button.disabled = true\n\n  const summary = parent.querySelector<HTMLElement>('summary')!\n  summary.classList.add('disabled')\n\n  for (const detail of parent.querySelectorAll('details')) {\n    detail.removeAttribute('open')\n  }\n}\n\nfunction restoreStatus(parent: Element, html: DocumentFragment) {\n  const container = parent.querySelector<HTMLElement>('.js-restore-status')!\n  container.textContent = ''\n  container.append(html)\n}\n\non('submit', '.js-repo-restore', async function (event) {\n  const form = event.currentTarget as HTMLFormElement\n  event.preventDefault()\n  let response\n  const parent = form.closest<HTMLElement>('.js-deleted-repository')!\n  try {\n    response = await fetch(form.action, {\n      method: form.method,\n      body: new FormData(form),\n      headers: {\n        Accept: 'text/html',\n        'X-Requested-With': 'XMLHttpRequest',\n      },\n    })\n  } catch {\n    // Ignore network errors\n  }\n  if (!response || !response.ok) return\n  const html = parseHTML(document, await response.text())\n  restoreStatus(parent, html)\n})\n\nobserve('.js-restore-repo-job', function (el) {\n  const parent = el.closest<HTMLElement>('.js-deleted-repository')!\n  disableRestoreButton(parent)\n})\n\non('click', '.js-disableable-summary.disabled', e => e.preventDefault())\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\non('click', '.js-used-by-selector-button', function ({currentTarget}) {\n  const container = currentTarget.closest<HTMLElement>('.js-used-by-selector')!\n  if (container != null) {\n    const indicator = container.querySelector<HTMLElement>('.js-status-indicator')!\n    if (indicator != null) {\n      indicator.classList.remove('status-indicator-success', 'status-indicator-failed')\n      indicator.classList.add('status-indicator-loading')\n    }\n  }\n})\n","import {\n  enableSaveSecretButton,\n  updateSelectedRepositoryCount as updateMainFormSelectedRepositoryCount,\n} from './org-secrets'\nimport {updateVariablesSelectedRepositoryCount as updateVariablesSelectedRepositoryCount} from './org-variables'\n// eslint-disable-next-line no-restricted-imports\nimport {fire, on} from 'delegated-events'\nimport type DetailsDialogElement from '@github/details-dialog-element'\nimport {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n\nconst dataStore = new WeakMap<Element, number>()\nconst stateChangedCheckboxes = new WeakMap<Element, Set<string>>()\n\n// The maximum number of times we should load another page of pinnable items automatically, just\n// when the user wants to filter the list of pinnable items\nconst repoPageLimit = 100\n\nasync function loadMoreRepositoryItems(loadMoreButton: HTMLButtonElement) {\n  const repositorySelectionComponent = loadMoreButton.closest<HTMLElement>('.js-repository-selection-component')!\n  const timesLoaded = dataStore.get(repositorySelectionComponent) || 0\n  if (timesLoaded > repoPageLimit) {\n    return\n  }\n\n  loadMoreButton.textContent = loadMoreButton.getAttribute('data-disable-with')!\n  loadMoreButton.disabled = true\n\n  dataStore.set(repositorySelectionComponent, timesLoaded + 1)\n\n  const url = loadMoreButton.getAttribute('data-url')!\n  fetchItemsAsync(repositorySelectionComponent, url)\n\n  // This event needs to fire after the data-action is bound\n  await Promise.resolve()\n  repositorySelectionComponent.dispatchEvent(new CustomEvent('repository-items-loaded'))\n}\n\nasync function fetchItemsAsync(repositorySelectionComponent: HTMLElement, url: string) {\n  const html = await fetchSafeDocumentFragment(document, url)\n\n  repositorySelectionComponent.querySelector<HTMLElement>('.js-more-repository-items-replace-target')!.replaceWith(html)\n\n  // When a page of repository items is loaded into the DOM, update the filtering in case the user\n  // has typed a query into the text input\n  filterRepositoryItems(repositorySelectionComponent)\n}\n\non('click', '.js-more-repository-items-button', function (event: Event) {\n  const button = event.currentTarget as HTMLButtonElement\n  loadMoreRepositoryItems(button)\n})\n\nobserve('.js-more-repository-items-button', {\n  constructor: HTMLButtonElement,\n  add: loadMoreRepositoryItems,\n})\n\nfunction filterRepositoryItems(repositorySelectionComponent: HTMLElement) {\n  fire(repositorySelectionComponent.querySelector<HTMLElement>('.js-repository-items-filter-input')!, 'change')\n}\n\nfunction saveChangedCheckbox(event: Event) {\n  const checkbox = event.target as HTMLInputElement\n\n  if (!(checkbox?.type === 'checkbox')) return\n\n  const selectionComponent = checkbox.closest<HTMLElement>('.js-repository-selection-component')!\n  const changedSet = stateChangedCheckboxes.get(selectionComponent) || new Set<string>()\n\n  // If a checkbox is toggled twice, it is back to its original state, so we should forget it\n  if (changedSet.has(checkbox.value)) changedSet.delete(checkbox.value)\n  else changedSet.add(checkbox.value)\n\n  stateChangedCheckboxes.set(selectionComponent, changedSet)\n\n  const container = checkbox.closest<HTMLElement>('.js-repository-items-dialog')!\n  if (!container) return\n\n  setUpdateSelectionButtonState(container, changedSet.size > 0)\n}\n\nfunction setUpdateSelectionButtonState(container: HTMLElement, enable: boolean) {\n  const updateSelectionButton = container.querySelector<HTMLButtonElement>('.js-btn-select-repositories')!\n  updateSelectionButton.disabled = !enable\n}\n\nfunction undoChangedCheckboxes(event: Event) {\n  const container = (event.currentTarget as Element).closest<HTMLElement>('.js-repository-items-dialog')\n  if (!container) return\n\n  const repositorySelectionComponent = container.querySelector<HTMLElement>('.js-repository-selection-component')\n  if (!repositorySelectionComponent || !repositorySelectionComponent.hasAttribute('data-discard-changes-on-close'))\n    return\n\n  const changedSet = stateChangedCheckboxes.get(repositorySelectionComponent)\n  if (!changedSet) return\n\n  for (const value of changedSet.keys()) {\n    const checkbox = repositorySelectionComponent.querySelector<HTMLInputElement>(`[value='${value}']`)!\n    checkbox.checked = !checkbox.checked\n  }\n\n  // Update the desired state on exit-without-save by clearing the set of checkboxes that will be toggled\n  stateChangedCheckboxes.set(repositorySelectionComponent, new Set())\n\n  setUpdateSelectionButtonState(container, false)\n}\n\nfunction updateSelectedRepositoryCount(event: CustomEvent) {\n  const repositorySelectionComponent = event.currentTarget as Element\n  const container = repositorySelectionComponent.closest('.js-repository-items-dialog')\n  if (!container) return\n\n  const count = Array.from(\n    repositorySelectionComponent.querySelectorAll<HTMLInputElement>('.js-repository-item-checkbox'),\n  ).filter(el => el.checked).length\n\n  const itemsCountContainer = container.querySelector<HTMLElement>('.js-selected-repositories-count-container')!\n  itemsCountContainer.querySelector<HTMLElement>('.js-selected-repositories-count')!.textContent = count.toString()\n  itemsCountContainer.querySelector<HTMLElement>('.js-multiple-repositories-text')!.hidden = count === 1\n  itemsCountContainer.querySelector<HTMLElement>('.js-single-repository-text')!.hidden = count !== 1\n}\n\non('change', '.js-repository-selection-component', updateSelectedRepositoryCount)\non('reset', '.js-repository-selection-component', updateSelectedRepositoryCount)\non('change', '.js-repository-selection-component', saveChangedCheckbox)\non('click', '.js-btn-select-repositories', function (event) {\n  const container = (event.target as Element).closest<HTMLElement>('.js-repository-items-dialog')!\n  const repositorySelectionComponent = container.querySelector<HTMLElement>('.js-repository-selection-component')!\n\n  stateChangedCheckboxes.set(repositorySelectionComponent, new Set())\n\n  // Close the details dialog\n  const detailsDialog = repositorySelectionComponent.closest<DetailsDialogElement>('details-dialog')!\n  detailsDialog.toggle(false)\n\n  const orgSecretsSelection = document.querySelector<HTMLElement>('.js-org-secrets-selection')!\n  if (orgSecretsSelection) {\n    updateMainFormSelectedRepositoryCount()\n    enableSaveSecretButton(event)\n  }\n\n  const orgVariablesSelection = document.querySelector<HTMLElement>('.js-org-variables-selection')!\n  if (orgVariablesSelection) {\n    updateVariablesSelectedRepositoryCount()\n  }\n})\non('details-dialog-close', '.js-repository-items-dialog', undoChangedCheckboxes)\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {onInput} from './../onfocus'\n\non('click', '.js-repo-change-visibility-button', function ({currentTarget}) {\n  const dialogId = currentTarget.getAttribute('data-show-dialog-id')!\n  const modal = document.getElementById(dialogId) as HTMLElement\n\n  modal.addEventListener(\n    'cancel',\n    () => {\n      resetVisibilityModal(modal)\n    },\n    {once: true},\n  )\n  modal.addEventListener(\n    'close',\n    () => {\n      resetVisibilityModal(modal)\n    },\n    {once: true},\n  )\n})\n\non('click', '.js-repo-delete-button', function ({currentTarget}) {\n  const dialogId = currentTarget.getAttribute('data-show-dialog-id')!\n  const modal = document.getElementById(dialogId) as HTMLElement\n\n  modal.addEventListener(\n    'cancel',\n    () => {\n      resetDeleteModal()\n    },\n    {once: true},\n  )\n  modal.addEventListener(\n    'close',\n    () => {\n      resetDeleteModal()\n    },\n    {once: true},\n  )\n})\n\non('click', '.js-repo-visibility-proceed-button', function ({currentTarget}) {\n  const button = currentTarget as HTMLButtonElement\n  const nextStage = button.getAttribute('data-next-stage')!\n  const newVisibility = button.getAttribute('data-new-visibility')!\n\n  if (nextStage && newVisibility) {\n    transitionVisibilityModalTo(newVisibility, nextStage)\n  }\n})\n\non('click', '.js-repo-delete-proceed-button', function ({currentTarget}) {\n  const button = currentTarget as HTMLButtonElement\n  const nextStage = button.getAttribute('data-next-stage')!\n\n  if (nextStage) {\n    transitionDeleteModalTo(nextStage)\n  }\n})\n\nonInput('.js-repo-visibility-proceed-confirmation', function ({currentTarget}) {\n  const input = currentTarget as HTMLInputElement\n  const numberOfStars = parseInt(input.getAttribute('data-number-of-stars')!, 10)\n  const newVisibility = input.getAttribute('data-new-visibility')!\n  const repoNwo = input.getAttribute('data-repo-nwo')!\n\n  if (newVisibility && repoNwo) {\n    const button = document.getElementById(`repo-visibility-proceed-button-${newVisibility}`) as HTMLButtonElement\n\n    let proceed = false\n\n    if (newVisibility === 'public') {\n      proceed = input.value === repoNwo\n    } else {\n      proceed = numberOfStars === parseInt(input.value.replace(/[^0-9]+/g, ''), 10)\n    }\n\n    if (button && proceed) {\n      const form = input.closest('form') as HTMLFormElement\n\n      if (form) {\n        addHiddenFormInput(form, 'visibility', newVisibility)\n        addHiddenFormInput(form, 'verify', repoNwo)\n        button.disabled = false\n      }\n    } else {\n      button.disabled = true\n    }\n  }\n})\n\nonInput('.js-repo-delete-proceed-confirmation', function ({currentTarget}) {\n  const input = currentTarget as HTMLInputElement\n  const repoNwo = input.getAttribute('data-repo-nwo')!\n\n  if (repoNwo) {\n    const button = document.getElementById(`repo-delete-proceed-button`) as HTMLButtonElement\n    const proceed = input.value === repoNwo\n\n    if (button && proceed) {\n      const form = input.closest('form') as HTMLFormElement\n\n      if (form) {\n        addHiddenFormInput(form, 'verify', repoNwo)\n        button.disabled = false\n      }\n    } else {\n      button.disabled = true\n    }\n  }\n})\n\nfunction resetVisibilityModal(modal: HTMLElement) {\n  const newVisibility = modal.getAttribute('data-new-visibility')!\n\n  if (newVisibility) {\n    transitionVisibilityModalTo(newVisibility, '1')\n  }\n}\n\nfunction resetDeleteModal() {\n  transitionDeleteModalTo('1')\n}\n\nfunction addHiddenFormInput(form: HTMLFormElement, name: string, value: string) {\n  const newInput = document.createElement('input')\n  newInput.setAttribute('type', 'hidden')\n  newInput.setAttribute('name', name)\n  newInput.setAttribute('value', value)\n\n  form.appendChild(newInput)\n}\n\nfunction transitionVisibilityModalTo(newVisibility: string, stage: string) {\n  const replacementWarningTemplate = document.getElementById(\n    `change-repository-visibility-${newVisibility}-step-${stage}`,\n  ) as HTMLTemplateElement\n  const replacementButtonTemplate = document.getElementById(\n    `proceed-button-visibility-${newVisibility}-step-${stage}`,\n  ) as HTMLTemplateElement\n\n  if (replacementWarningTemplate && replacementButtonTemplate) {\n    const replacementButtonTemplateClone = replacementButtonTemplate.content.cloneNode(true)\n    const replacementWarningTemplateClone = replacementWarningTemplate.content.cloneNode(true)\n\n    const warningContainer = document.getElementById(\n      `repo-visibility-warning-${newVisibility}-container`,\n    ) as HTMLDivElement\n    const existingButtonContainer = document.getElementById(\n      `repo-visibility-proceed-button-${newVisibility}-container`,\n    ) as HTMLDivElement\n\n    if (warningContainer && existingButtonContainer) {\n      warningContainer.textContent = ''\n      existingButtonContainer.textContent = ''\n      warningContainer.appendChild(replacementWarningTemplateClone)\n      existingButtonContainer.appendChild(replacementButtonTemplateClone)\n    }\n  }\n}\n\nfunction transitionDeleteModalTo(stage: string) {\n  const replacementWarningTemplate = document.getElementById(`delete-repository-step-${stage}`) as HTMLTemplateElement\n  const replacementButtonTemplate = document.getElementById(\n    `proceed-button-delete-step-${stage}`,\n  ) as HTMLTemplateElement\n\n  if (replacementWarningTemplate && replacementButtonTemplate) {\n    const replacementButtonTemplateClone = replacementButtonTemplate.content.cloneNode(true)\n    const replacementWarningTemplateClone = replacementWarningTemplate.content.cloneNode(true)\n\n    const warningContainer = document.getElementById(`repo-delete-warning-container`) as HTMLDivElement\n    const existingButtonContainer = document.getElementById(`repo-delete-proceed-button-container`) as HTMLDivElement\n\n    if (warningContainer && existingButtonContainer) {\n      warningContainer.textContent = ''\n      existingButtonContainer.textContent = ''\n      warningContainer.appendChild(replacementWarningTemplateClone)\n      existingButtonContainer.appendChild(replacementButtonTemplateClone)\n    }\n  }\n}\n","import {controller, target} from '@github/catalyst'\nimport {announceFromElement} from '@github-ui/aria-live'\n\n@controller\nclass RetentionFormElement extends HTMLElement {\n  @target group: HTMLElement\n  @target input: HTMLInputElement\n  @target button: HTMLButtonElement\n  @target minMessage: HTMLElement\n  @target maxMessage: HTMLElement\n  @target note: HTMLElement\n\n  validate() {\n    this.resetState()\n\n    const inputAllowsNil: boolean = this.input.hasAttribute('data-allow-nil')\n\n    if (!this.input.value && !inputAllowsNil) return\n\n    const value: number = +this.input.value\n    const min_string = this.input.getAttribute('data-min')\n    const max_string = this.input.getAttribute('data-max')\n\n    if (inputAllowsNil && !value) {\n      this.button.disabled = false\n      return\n    }\n\n    if (min_string && value < +min_string) {\n      this.group.classList.add('errored')\n      this.minMessage.hidden = false\n      announceFromElement(this.note)\n      return\n    }\n\n    if (max_string && value > +max_string) {\n      this.group.classList.add('errored')\n      this.maxMessage.hidden = false\n      announceFromElement(this.note)\n      return\n    }\n\n    this.button.disabled = false\n  }\n\n  resetState() {\n    this.minMessage.hidden = true\n    this.maxMessage.hidden = true\n    this.group.classList.remove('errored')\n    this.button.disabled = true\n  }\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\nimport {requestSubmit} from '@github-ui/form-utils'\n\n// When the user creates a new label, update the list of available labels\n//to choose from, so the user can immediately apply their new label.\non(\n  'submit',\n  '.js-create-runner-label-form',\n  async function (event: SubmitEvent) {\n    event.preventDefault()\n\n    let response\n    const form = event.currentTarget as HTMLFormElement\n    const labelsMenu = form.closest<HTMLElement>('.js-runner-labels-menu')!\n    const errorContainer = labelsMenu.querySelector<HTMLElement>('.js-runner-label-error')!\n\n    try {\n      response = await fetchSafeDocumentFragment(document, form.action, {\n        method: form.method,\n        body: new FormData(form),\n      })\n    } catch (error) {\n      // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n      if (error.response.json?.message && errorContainer) {\n        // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n        errorContainer.textContent = error.response.json.message\n        errorContainer.hidden = false\n      }\n\n      return\n    }\n\n    if (!response) return\n\n    if (errorContainer) {\n      errorContainer.hidden = true\n      errorContainer.textContent = ''\n    }\n\n    const input = response.querySelector<HTMLInputElement>('.js-label-input')\n    const list = labelsMenu.querySelector<HTMLElement>('.js-filterable-runner-labels')!\n    list.prepend(response)\n\n    // Select added label. This will trigger any listeners for label selection as well\n    input?.click()\n\n    const field = labelsMenu.querySelector<HTMLInputElement>('.js-label-filter-field')!\n    field.value = ''\n    field.focus()\n  },\n  {capture: true},\n)\n\nfunction submitOnMenuClose({currentTarget}: Event) {\n  if (currentTarget instanceof Element) {\n    const form = currentTarget.querySelector<HTMLFormElement>('.js-runner-labels-form')!\n    requestSubmit(form)\n  }\n}\n\n// On item selection, add listener to submit form on menu close\non(\n  'details-menu-selected',\n  '.js-runner-labels-details',\n  function (event) {\n    const menu = event.currentTarget\n    menu.addEventListener('toggle', submitOnMenuClose, {once: true})\n  },\n  {capture: true},\n)\n","import {remoteForm} from '@github/remote-form'\n\nremoteForm('.js-saved-reply-delete', async function (form, wants) {\n  await wants.text()\n\n  const container = form.closest('.js-saved-reply-container')!\n  const count = container.querySelectorAll('.js-saved-reply-list-item').length\n\n  const list = container.querySelector<HTMLElement>('.js-saved-reply-list')!\n  list.hidden = count <= 1 ? true : false\n\n  const emptyContainer = container.querySelector<HTMLElement>('.js-saved-reply-empty-container')!\n  if (count === 1) emptyContainer.hidden = false\n\n  const item = form.closest('.js-saved-reply-list-item')!\n  item.remove()\n})\n","import {controller, target} from '@github/catalyst'\n\n@controller\nexport class SelectedItemCountElement extends HTMLElement {\n  @target selectedCount: HTMLElement\n  @target pluralItemsDescription: HTMLElement\n  @target singularItemDescription: HTMLElement\n\n  updateCount(count: number) {\n    this.selectedCount.textContent = String(count)\n    this.pluralItemsDescription.hidden = count === 1\n    this.singularItemDescription.hidden = count !== 1\n  }\n}\n","import {controller, target, targets} from '@github/catalyst'\nimport type IncludeFragmentElement from '@github/include-fragment-element'\n\n@controller\nexport class SelectedItemListElement extends HTMLElement {\n  @target selectedCount: HTMLElement\n  @target pluralItemsDescription: HTMLElement\n  @target singularItemDescription: HTMLElement\n  @target description: HTMLElement\n  @targets items: HTMLInputElement[]\n  @target includeFragment: IncludeFragmentElement\n  @target saveButton: HTMLButtonElement\n\n  connectedCallback() {\n    this.includeFragment?.addEventListener('include-fragment-replaced', () => {\n      this.updateCount()\n      if (this.saveButton) {\n        this.saveButton.disabled = false\n      }\n    })\n  }\n\n  get count(): number {\n    return this.items.filter(item => item.checked).length\n  }\n\n  updateCount() {\n    const count = this.count\n    this.selectedCount.textContent = String(count)\n\n    this.description.hidden = count <= 0\n    this.pluralItemsDescription.hidden = count === 1\n    this.singularItemDescription.hidden = count !== 1\n  }\n\n  hideDescription() {\n    this.description.hidden = true\n  }\n\n  showDescription() {\n    const count = this.count\n    this.description.hidden = count <= 0\n  }\n}\n","import type AutocompleteElement from '@github/auto-complete-element'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\n// Reset user selecting autocompleter, avoiding submission of partial matches.\nfunction resetUserAddForm(form: Element, enabled: boolean) {\n  const submit = form.querySelector<HTMLButtonElement>('.js-add-new-user')!\n  submit.disabled = !enabled\n}\n\n// Ensure user selecting submit button is disabled on page load (including via pjax)\nobserve('.js-add-user-form', function (form) {\n  resetUserAddForm(form, false)\n})\n\non('auto-complete-change', '.js-add-user-completer', function ({target: completer}) {\n  const autocompleter = completer as AutocompleteElement\n  const form = autocompleter.closest<HTMLElement>('.js-add-user-form')!\n  resetUserAddForm(form, !!autocompleter.value)\n\n  const designatedUser = document.querySelector('.js-designated-user')\n  if (designatedUser) {\n    if (autocompleter.value) {\n      designatedUser.textContent = `@${autocompleter.value}`\n    } else {\n      designatedUser.textContent = designatedUser.getAttribute('data-autocomplete-text')\n    }\n  }\n})\n\nexport {resetUserAddForm}\n","import {remoteForm} from '@github/remote-form'\n\nremoteForm('.js-verify-ssh-key', async function (form, wants) {\n  await wants.html()\n\n  const parent = form.closest<HTMLElement>('li')!\n  parent.querySelector<HTMLElement>('.js-unverified-user-key-notice')!.remove()\n  parent.querySelector<HTMLElement>('.js-user-key-icon')!.classList.remove('color-fg-danger')\n\n  form.remove()\n})\n\n// Leave a collaborated repository\nremoteForm('.js-leave-collaborated-repo', async function (form, wants) {\n  await wants.html()\n  const id = form.getAttribute('data-repo-id')!\n  const ownerLogin = form.getAttribute('data-owner-login')!\n  document.querySelector<HTMLElement>(`.js-collab-repo[data-repo-id='${id}']`)!.remove()\n  if (!document.querySelector('.js-collab-repo')) {\n    document.querySelector<HTMLElement>('.js-collaborated-repos-empty')!.hidden = false\n    document.querySelector<HTMLElement>('.js-collaborated-repos')!.hidden = true\n  }\n\n  const ownerRepos = document.querySelector(`.js-collab-repo-owner[data-owner-login='${ownerLogin}']`)\n  if (ownerRepos && !document.querySelector(`.js-collab-repo[data-owner-login='${ownerLogin}']`)) {\n    ownerRepos.remove()\n  }\n})\n\n// all other status-indicator elements.\nfunction setIndicator(target: Element, className: string) {\n  for (const statusIndicator of document.querySelectorAll('.js-setting-toggle .js-status-indicator')) {\n    statusIndicator.classList.remove('status-indicator-success', 'status-indicator-loading', 'status-indicator-failed')\n  }\n  target.classList.add(className)\n}\n\n// Auto-subscribe checkbox toggle\nremoteForm('.js-setting-toggle', async function (form, wants) {\n  const target = form.querySelector<HTMLElement>('.js-status-indicator')!\n  setIndicator(target, 'status-indicator-loading')\n  try {\n    await wants.text()\n    setIndicator(target, 'status-indicator-success')\n  } catch (error) {\n    setIndicator(target, 'status-indicator-failed')\n  }\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\non('click', '#load-readme', function (event) {\n  const editor = document.querySelector<HTMLTextAreaElement>('#gollum-editor-body')!\n  const buffer = document.querySelector<HTMLElement>('#editor-body-buffer')!\n  const undoLink = document.querySelector<HTMLElement>('#undo-load-readme')!\n\n  const readmeText = buffer.textContent\n  const readmeName = event.currentTarget.getAttribute('data-readme-name')!\n  swapEditorAndBufferValues(editor, buffer)\n\n  if (!(event.currentTarget instanceof HTMLButtonElement)) return\n  event.currentTarget.disabled = true\n  event.currentTarget.textContent = `${readmeName} loaded`\n  /* eslint-disable-next-line github/no-d-none */\n  undoLink.classList.remove('d-none')\n\n  function hideUndoLinkIfChanged() {\n    if (editor.value !== readmeText) {\n      /* eslint-disable-next-line github/no-d-none */\n      undoLink.classList.add('d-none')\n      editor.removeEventListener('input', hideUndoLinkIfChanged)\n    }\n  }\n\n  editor.addEventListener('input', hideUndoLinkIfChanged)\n})\n\non('click', '#undo-load-readme', function (event) {\n  const editor = document.querySelector<HTMLTextAreaElement>('#gollum-editor-body')!\n  const buffer = document.querySelector<HTMLElement>('#editor-body-buffer')!\n\n  swapEditorAndBufferValues(editor, buffer)\n  const loadReadmeButton = document.querySelector<HTMLButtonElement>('#load-readme')!\n  const readmeName = loadReadmeButton.getAttribute('data-readme-name')!\n\n  loadReadmeButton.disabled = false\n  // eslint-disable-next-line i18n-text/no-en\n  loadReadmeButton.textContent = `Load ${readmeName}`\n  /* eslint-disable-next-line github/no-d-none */\n  event.currentTarget.classList.add('d-none')\n})\n\nfunction swapEditorAndBufferValues(editor: HTMLTextAreaElement, editorBodyBuffer: HTMLElement) {\n  const oldEditorVal = editor.value\n  editor.value = editorBodyBuffer.textContent || ''\n  editorBodyBuffer.textContent = oldEditorVal\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\non('upload:setup', '.js-upload-repository-image', function () {\n  document.querySelector<HTMLElement>('.js-remove-repository-image-button')!.hidden = true\n})\n\non('upload:complete', '.js-upload-repository-image', function (event) {\n  const {attachment} = event.detail\n  document.querySelector<HTMLInputElement>('.js-repository-image-id')!.value = attachment.id\n  document.querySelector<HTMLElement>('.js-remove-repository-image-button')!.hidden = false\n  document.querySelector<HTMLElement>('.js-repository-image-container')!.style.backgroundImage =\n    `url(${attachment.href})`\n  document.querySelector<HTMLElement>('.js-repository-image-container')!.hidden = false\n  document.querySelector<HTMLElement>('#edit-social-preview-button')!.classList.add(...['position-absolute', 'ml-2'])\n})\n","import {changeValue} from '@github-ui/form-utils'\n\nimport {remoteForm} from '@github/remote-form'\nimport {resetUserAddForm} from './user-add'\n\nremoteForm('.js-remote-submit', async function (form, wants) {\n  const response = await wants.html()\n\n  const group = document.querySelector<HTMLElement>('.js-user-block-settings-list')!\n  const list = group.querySelector<HTMLElement>('.js-blocked-list')!\n  const blank = group.querySelector<HTMLElement>('.js-user-block-blank-slate')!\n\n  resetUserAddForm(form, false)\n  const input = form.querySelector<HTMLInputElement>('.js-add-blocked-user-field')!\n  changeValue(input, '')\n\n  blank.hidden = true\n  list.hidden = false\n  list.prepend(response.html)\n})\n","import {remoteForm} from '@github/remote-form'\n\nremoteForm('.js-user-sessions-revoke', async function (form, wants) {\n  await wants.text()\n\n  const container = form.closest<HTMLElement>('.js-user-sessions-container')!\n  const item = form.closest<HTMLElement>('.js-user-session')!\n  item.remove()\n\n  if (container) {\n    const count = container.querySelectorAll('.js-user-session').length\n    container.classList.toggle('has-active-sessions', count > 0)\n  }\n})\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\non('change', '.js-default-token-expiration-select', function (event) {\n  const selectMenu = event.target as HTMLSelectElement\n  const pickerWrapper = document.getElementById('custom-expires-wrapper') as HTMLElement\n  const picker = document.querySelector('#custom-expires-wrapper .form-select') as HTMLInputElement\n  const formElementWrapper = document.getElementById('token-expiration') as HTMLElement\n  const expirationHelperNoteWrapper = document.getElementById('expiration-helper-note') as HTMLElement\n  const expirationWarning = document.getElementById('no-expiration-warning') as HTMLElement\n  const expirationNoteContent = expirationHelperNoteWrapper.querySelector('.note') as HTMLElement\n\n  if (selectMenu && picker) {\n    if (selectMenu.value === 'custom') {\n      expirationHelperNoteWrapper.setAttribute('hidden', 'hidden')\n      expirationWarning.setAttribute('hidden', 'hidden')\n      pickerWrapper.removeAttribute('hidden')\n    } else {\n      pickerWrapper.setAttribute('hidden', 'hidden')\n      picker.value = ''\n      expirationHelperNoteWrapper.removeAttribute('hidden')\n      formElementWrapper.classList.remove('errored')\n\n      if (selectMenu.value === 'none') {\n        expirationWarning.removeAttribute('hidden')\n      } else {\n        expirationWarning.setAttribute('hidden', 'hidden')\n      }\n\n      const selectedIndex = selectMenu.selectedIndex\n      const selectedOption = selectMenu.children[selectedIndex]!\n      const humanTextAttr = selectedOption.getAttribute('data-human-date')\n\n      if (humanTextAttr) {\n        expirationNoteContent.textContent = humanTextAttr\n      }\n    }\n  }\n})\n","import {controller, targets} from '@github/catalyst'\n\n@controller\nclass PagesBuildType extends HTMLElement {\n  @targets types: HTMLElement[]\n\n  async changeType(type: number) {\n    // if we have it checked not need to do anything\n    if (this.types[type]!.hasAttribute('disabled') && this.types[type]!.hasAttribute('checked')) return\n\n    this.setAttribute('current', this.types[type]!.getAttribute('value')!)\n\n    this.getElementsByTagName('pages-jekyll-config')[0]!.setAttribute('hidden', 'true')\n\n    // get the form under the pages-build-type element\n    const form = this.getElementsByTagName('form')[0]!\n    const input = this.types[type]!\n    form.appendChild(input)\n    form.submit()\n  }\n\n  buildWorkflow() {\n    // we pass 0 here since the workflow input will always be the first\n    // element in the types array\n    this.changeType(0)\n  }\n\n  buildLegacy() {\n    // pass 1 since the legacy input will always be the second element\n    this.changeType(1)\n  }\n}\n\nif (!window.customElements.get('pages-build-type')) {\n  window.customElements.define('pages-build-type', PagesBuildType)\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\n\nfunction copyInput(inputToCopy: HTMLInputElement): HTMLInputElement[] {\n  const stateAttribute = 'data-pattern-state'\n  const rowVersionAttribute = 'data-pattern-row-version'\n  const state = inputToCopy.getAttribute(stateAttribute) ?? ''\n  const rowVersion = inputToCopy.getAttribute(rowVersionAttribute) ?? ''\n  const input = document.createElement('input')\n  input.setAttribute('type', 'hidden')\n  input.setAttribute('name', `pattern[][id]`)\n  input.setAttribute('value', inputToCopy.value)\n\n  const stateInput = document.createElement('input')\n  stateInput.setAttribute('type', 'hidden')\n  stateInput.setAttribute('name', `pattern[][state]`)\n  stateInput.setAttribute('value', state)\n\n  const rowVersionInput = document.createElement('input')\n  rowVersionInput.setAttribute('type', 'hidden')\n  rowVersionInput.setAttribute('name', `pattern[][rowVersion]`)\n  rowVersionInput.setAttribute('value', rowVersion)\n  return [input, stateInput, rowVersionInput]\n}\n\nfunction copySelectedPatternsToBulkDeleteForm(container: Element) {\n  const checkedAlerts = container.querySelectorAll<HTMLInputElement>(\n    '.js-custom-pattern-list [data-check-all-item]:checked',\n  )\n\n  const shouldDisplayCount = checkedAlerts.length > 0\n  const countDisplayer = container.querySelector<HTMLElement>('.js-custom-pattern-selected-count')!\n  const totalCountDisplay = container.querySelector<HTMLElement>('.js-custom-pattern-total-count')!\n  countDisplayer.hidden = !shouldDisplayCount\n  totalCountDisplay.hidden = shouldDisplayCount\n\n  const stateAttribute = 'data-pattern-state'\n  const patternStates = Array.from(checkedAlerts).map(alert => alert.getAttribute(stateAttribute))\n  const allUnpublished = patternStates.every(s => s === 'unpublished')\n  const allPublished = patternStates.every(s => s === 'published')\n\n  const removeOnlyUnpublishedInfo = container.querySelectorAll<HTMLElement>(\n    '.js-custom-patterns-delete-only-unpublished',\n  )\n  const removeOnlyPublishedInfo = container.querySelectorAll<HTMLElement>('.js-custom-patterns-delete-only-published')\n  const removePublishedAndUnpublishedInfo = container.querySelectorAll<HTMLElement>(\n    '.js-custom-patterns-delete-unpublished-and-published',\n  )\n  const publishedCount = container.querySelectorAll('.js-custom-patterns-published-delete-count')\n  const unpublishedCount = container.querySelectorAll('.js-custom-patterns-unpublished-delete-count')\n  const formInputs = container.querySelector('.js-custom-patterns-bulk-delete-items')!\n\n  const toggleInfoVisibility = (show: boolean, elems: NodeListOf<HTMLElement>) => {\n    for (const elem of elems) {\n      !!elem && (elem.hidden = !show)\n    }\n  }\n\n  if (allUnpublished) {\n    toggleInfoVisibility(false, removeOnlyPublishedInfo)\n    toggleInfoVisibility(false, removePublishedAndUnpublishedInfo)\n    toggleInfoVisibility(true, removeOnlyUnpublishedInfo)\n  }\n  if (allPublished) {\n    toggleInfoVisibility(false, removeOnlyUnpublishedInfo)\n    toggleInfoVisibility(false, removePublishedAndUnpublishedInfo)\n    toggleInfoVisibility(true, removeOnlyPublishedInfo)\n  }\n  if (!allPublished && !allUnpublished) {\n    toggleInfoVisibility(false, removeOnlyPublishedInfo)\n    toggleInfoVisibility(false, removeOnlyUnpublishedInfo)\n    toggleInfoVisibility(true, removePublishedAndUnpublishedInfo)\n  }\n\n  const countPublished = patternStates.filter(s => s === 'published').length\n  const countUnpublished = patternStates.filter(s => s === 'unpublished').length\n\n  for (const elem of unpublishedCount) {\n    !!elem && (elem.innerHTML = countUnpublished.toString())\n  }\n  for (const elem of publishedCount) {\n    !!elem && (elem.innerHTML = countPublished.toString())\n  }\n\n  const publishedPlural = container.querySelectorAll<HTMLElement>('.js-custom-patterns-plural-published')\n  const unpublishedPlural = container.querySelectorAll<HTMLElement>('.js-custom-patterns-plural-unpublished')\n\n  for (const elem of publishedPlural) {\n    elem.hidden = countPublished === 1\n  }\n  for (const elem of unpublishedPlural) {\n    elem.hidden = countUnpublished === 1\n  }\n\n  formInputs.textContent = ''\n  for (let i = 0; i < checkedAlerts.length; i += 1) {\n    const inputs = copyInput(checkedAlerts[i]!)\n    for (const input of inputs) {\n      formInputs.appendChild(input)\n    }\n  }\n}\n\non('change', '.js-custom-pattern-check', ({currentTarget}) => {\n  const container = currentTarget.closest<HTMLElement>('.js-custom-pattern-list')!\n  const checked = container.querySelector('.js-custom-pattern-check:checked') != null\n  const bulkDeleteButton = container.querySelector<HTMLElement>('.js-custom-patterns-bulk-delete')\n  const filters = container.querySelector<HTMLElement>('.js-custom-patterns-filters')\n\n  !!bulkDeleteButton && (bulkDeleteButton.hidden = !checked)\n  !!filters && (filters.hidden = checked)\n\n  copySelectedPatternsToBulkDeleteForm(container)\n})\n","import {remoteForm} from '@github/remote-form'\n\n// In addition to normal .js-setting-toggle form behavior, show/hide the custom message form when the checkbox is checked\nremoteForm('.js-enable-custom-msg', async function (form, wants) {\n  const saveLinkForm = form.nextElementSibling as HTMLElement\n  const enableCheckbox = form.querySelector<HTMLInputElement>('.js-custom-msg-checkbox')\n  try {\n    await wants.text()\n    if (saveLinkForm) {\n      saveLinkForm.hidden = enableCheckbox?.checked ? false : true\n    }\n  } catch (error) {\n    // .js-setting-toggle remoteForm will show error icon\n  }\n})\n","interface Cookie {\n  key: string\n  value: string\n}\n\n/**\n * Get a cookie by name.\n * @param name\n * @returns a cookie object or undefined if not found.\n */\nexport function getCookie(name: string): Cookie | undefined {\n  return getCookies(name)[0]\n}\n\n/**\n * Get all cookies by name.\n * @param name\n * @returns\n */\nexport function getCookies(name: string): Cookie[] {\n  const cookies = []\n  for (const cookie of readCookies()) {\n    const [key, value] = cookie.trim().split('=')\n    if (name === key && typeof value !== 'undefined') {\n      cookies.push({key, value})\n    }\n  }\n  return cookies\n}\n\nfunction readCookies(): string[] {\n  try {\n    return document.cookie.split(';')\n  } catch {\n    // Cookie access disabled.\n    return []\n  }\n}\n\n/**\n * Set a new cookie with sensible defaults like secure.\n * @param name\n * @param value\n * @param expiration\n * @param strictDomain\n * @param samesite\n */\nexport function setCookie(\n  name: string,\n  value: string,\n  expiration: string | null = null,\n  strictDomain = false,\n  samesite = 'lax',\n) {\n  let domain = document.domain\n  if (domain == null) {\n    throw new Error('Unable to get document domain')\n  }\n\n  // Share cookies with test environments.\n  if (domain.endsWith('.github.com')) {\n    domain = 'github.com'\n  }\n\n  const secure = location.protocol === 'https:' ? '; secure' : ''\n  const expire = expiration ? `; expires=${expiration}` : ''\n  if (strictDomain === false) {\n    domain = `.${domain}`\n  }\n  try {\n    document.cookie = `${name}=${value}; path=/; domain=${domain}${expire}${secure}; samesite=${samesite}`\n  } catch {\n    // Cookie access disabled.\n  }\n}\n\n/**\n * Delete a given cookie with sensible defaults like secure.\n * This sets the expires value to a second ago to delete the cookie.\n * @param name\n * @param strictDomain\n */\nexport function deleteCookie(name: string, strictDomain = false) {\n  let domain = document.domain\n  if (domain == null) {\n    throw new Error('Unable to get document domain')\n  }\n\n  // Share cookies with test environments.\n  if (domain.endsWith('.github.com')) {\n    domain = 'github.com'\n  }\n\n  const time = new Date().getTime()\n  const expiration = new Date(time - 1).toUTCString()\n  const secure = location.protocol === 'https:' ? '; secure' : ''\n  const expire = `; expires=${expiration}`\n  if (strictDomain === false) {\n    domain = `.${domain}`\n  }\n  try {\n    document.cookie = `${name}=''; path=/; domain=${domain}${expire}${secure}`\n  } catch {\n    // Cookie access disabled.\n  }\n}\n","import type {SafeHTMLString} from '@github-ui/safe-html'\n\nexport type QueryBuilderAction = URLAction | QueryAction | RewriteQueryAction | CommandAction\nexport enum SearchScopeText {\n  DIRECTORY = 'Search in this directory',\n  ORG = 'Search in this organization',\n  OWNER = 'Search in this owner',\n  REPO = 'Search in this repository',\n  GITHUB = 'Search all of GitHub',\n  GENERAL = 'Submit search',\n  COMMAND = 'Run command',\n  COPILOT = 'Ask Copilot',\n  DEFAULT = 'Jump to',\n}\n\nexport const AutocompleteText = 'Autocomplete'\n\nexport type Provider = SearchProvider | FilterProvider\n\nexport interface Parser<IntermediateRepresentation> {\n  // Note, the intermediate representation data will be available within\n  // providers on the QueryEvent as QueryEvent.parsedMetadata\n  parse(input: string, caretPosition: number | undefined): IntermediateRepresentation\n\n  // Flattens the intermediate representation into a list of QueryElements that\n  // can be styled by QueryBuilder\n  flatten(input: IntermediateRepresentation): QueryElement[]\n}\n\ninterface FilterItemData {\n  filter: string\n  value: string\n  name?: string\n  description?: string\n  inlineDescription?: boolean\n  priority?: number\n  icon?: Icon\n  avatar?: Avatar\n  action?: QueryBuilderAction\n}\n\nexport interface Avatar {\n  type: 'user' | 'org' | 'team'\n  url: string\n}\n\n/**\n * FilterItem represents a value that can be used in a filter. Some examples:\n * - filter is `repo:`, value is `github/github`\n * - filter is `author:`, value is `@keithamus`\n */\nexport class FilterItem extends Event {\n  public name: string\n  public filter: string\n  public value: string\n  public description: string\n  public inlineDescription = false\n  public action?: QueryBuilderAction\n  public priority: number\n  public icon?: Icon\n  public avatar?: Avatar\n\n  constructor({\n    filter,\n    value,\n    name = '',\n    description = '',\n    inlineDescription = false,\n    priority = Infinity,\n    icon = undefined,\n    avatar = undefined,\n    action,\n  }: FilterItemData) {\n    super('filter-item')\n    this.filter = filter\n    this.value = value\n    this.name = name\n    this.description = description\n    this.inlineDescription = inlineDescription\n    this.priority = priority\n    this.icon = icon\n    this.avatar = avatar\n    this.action = action\n  }\n}\n\n/* URLAction represents the URL a SearchItem will navigate to when enacted on */\ninterface URLAction {\n  url: string\n}\n\n/* QueryAction Represents the new Query String that a SearchItem will populate\n * the query-builder input with, when enacted on*/\ninterface QueryAction {\n  query: string\n}\n\ninterface RewriteQueryAction {\n  // Replaces the entire query with the provided string\n  replaceQueryWith: string\n  // The position in the query to move the caret to\n  moveCaretTo: number\n}\n\ninterface CommandAction {\n  commandName: string\n  data: Record<string, unknown>\n}\n\nexport interface CustomIcon {\n  html: SafeHTMLString\n}\n\nexport function isCustomIcon(icon: Icon): icon is CustomIcon {\n  return icon instanceof Object\n}\n\nexport enum Octicon {\n  Apps = 'apps',\n  Archived = 'archived',\n  Bookmark = 'bookmark',\n  Branch = 'branch',\n  Calendar = 'calendar',\n  Circle = 'circle',\n  Code = 'code',\n  Comment = 'comment',\n  Copilot = 'copilot',\n  Default = 'default',\n  Discussion = 'discussion',\n  Draft = 'draft',\n  FileIcon = 'file-icon',\n  FileCode = 'file-code',\n  Filter = 'filter',\n  Forbidden = 'forbidden',\n  History = 'history',\n  Issue = 'issue',\n  IssueClosed = 'issueClosed',\n  Iterations = 'iterations',\n  Mention = 'mention',\n  Merged = 'merged',\n  No = 'no',\n  Not = 'not',\n  Milestone = 'milestone',\n  Organization = 'organization',\n  Pencil = 'pencil',\n  Person = 'person',\n  PlusCircle = 'plus-circle',\n  Project = 'project',\n  PullRequest = 'pullRequest',\n  Reaction = 'reaction',\n  Repo = 'repo',\n  Search = 'search',\n  SingleSelect = 'single-select',\n  Sort = 'sort',\n  Tag = 'tag',\n  Team = 'team',\n  Trash = 'trash',\n  Question = 'question',\n}\n\nexport enum PrefixColor {\n  Entity = '--color-prettylights-syntax-entity',\n  Constant = '--color-prettylights-syntax-constant',\n  Keyword = '--color-prettylights-syntax-keyword',\n  Variable = '--color-prettylights-syntax-variable',\n  String = '--color-prettylights-syntax-string',\n}\n\nexport type Icon = Octicon | CustomIcon\n\ninterface SearchItemData {\n  priority: number\n  value: string\n  action: QueryBuilderAction\n  description?: string\n  icon?: Icon\n  scope?: keyof typeof SearchScopeText\n  prefixText?: string\n  prefixColor?: PrefixColor\n\n  // If set, the item will only be rendered if no other providers\n  // sent items.\n  isFallbackSuggestion?: boolean\n}\n\n/* SearchItem represents a result that appears in the results list, and has an action for a user to enact on */\nexport class SearchItem extends Event {\n  public priority: number\n  public value: string\n  public action: QueryBuilderAction\n  public description: string\n  public icon?: Icon\n  public scope: keyof typeof SearchScopeText\n  public prefixText?: string\n  public prefixColor?: PrefixColor\n  public isFallbackSuggestion: boolean\n\n  constructor({\n    priority,\n    value,\n    action,\n    description = '',\n    icon = undefined,\n    scope = 'DEFAULT',\n    prefixText,\n    prefixColor,\n    isFallbackSuggestion,\n  }: SearchItemData) {\n    super('search-item')\n    this.priority = priority\n    this.value = value\n    this.prefixText = prefixText\n    this.prefixColor = prefixColor\n    this.action = action\n    this.description = description\n    this.icon = icon\n    this.scope = scope\n    this.isFallbackSuggestion = isFallbackSuggestion || false\n  }\n}\n\nexport interface SearchProvider extends EventTarget {\n  priority: number\n  icon?: Icon\n  name: string // plural group name (i.e. \"repositories\" or \"teams\") - will be the visual header\n  description?: string\n  singularItemName: string // singular name for an item (i.e. \"repository\" or \"team\") to construct a meaningful aria-label, doesn't appear visually\n  value: string // visual name of the filter (i.e. \"is:\")\n  type: 'search'\n}\n\nexport interface FilterProvider extends EventTarget {\n  priority: number\n  icon?: Icon\n  name: string // plural group name (i.e. \"repositories\" or \"teams\") - will be the visual header\n  description?: string\n  singularItemName: string // singular name for an item (i.e. \"repository\" or \"team\") to construct a meaningful aria-label, doesn't appear visually\n  value: string // visual name of the filter (i.e. \"is:\")\n  type: 'filter'\n  // When set, if a filter provider emits filter items, always render them in the UI. If not set,\n  // filter items will only be rendered if the querybuilder thinks a filter item is being written\n  // by the user, which may be incorrect if using a custom parser.\n  manuallyDetermineFilterEligibility?: boolean\n}\n\nexport type QueryElement = QueryFilterElement | QueryTextElement\n\nexport interface QueryFilterElement {\n  type: 'filter'\n  filter: string\n  value: string\n  style?: TextElementStyle\n}\n\nexport interface QueryTextElement {\n  type: 'text'\n  value: string\n  style?: TextElementStyle\n}\n\nexport enum TextElementStyle {\n  Normal = 'normal',\n  Entity = 'entity',\n  Constant = 'constant',\n  FilterValue = 'filter-value',\n}\n\nexport class FetchDataEvent extends Event {\n  constructor(public fetchPromise: Promise<unknown>) {\n    super('fetch-data')\n  }\n}\n\nexport class QueryEvent extends Event {\n  constructor(\n    public parsedQuery: QueryElement[],\n    public rawQuery: string,\n    public parsedMetadata: unknown,\n  ) {\n    super('query')\n  }\n\n  override toString() {\n    return this.rawQuery\n  }\n}\n\nclass QueryBuilderProvider extends Event {\n  constructor(public provider: SearchProvider) {\n    super('query-builder-provider', {bubbles: true})\n  }\n}\n\ndeclare global {\n  interface Document {\n    addEventListener(type: 'query-builder-provider', handler: (event: QueryBuilderProvider) => void): void\n  }\n}\n","import {dialog} from '@github-ui/details-dialog'\nimport {fetchSafeDocumentFragment} from '@github-ui/fetch-utils'\nimport type {Kicker} from '@github/remote-form'\nimport {remoteForm} from '@github/remote-form'\nimport {webauthnSupportLevel} from '@github-ui/webauthn-support-level'\n\nlet sudoPromptExist = false\n\n/**\n * Take a URL and add webauthn params to it.\n *\n * @param {string} oldURL - The old URL.\n * @returns {string} - The new URL with added params.\n */\nfunction urlWithParams(oldURL: string): string {\n  const newURL = new URL(oldURL, window.location.origin)\n  const params = new URLSearchParams(newURL.search.slice(1))\n  params.set('webauthn-support', webauthnSupportLevel())\n  newURL.search = params.toString()\n  return newURL.toString()\n}\n\nasync function loadPromptTemplate(): Promise<HTMLTemplateElement> {\n  const link = document.querySelector<HTMLLinkElement>('link[rel=sudo-modal]')!\n  const template = document.querySelector('.js-sudo-prompt')\n  if (template instanceof HTMLTemplateElement) {\n    return template\n  } else if (link) {\n    const fragment = await fetchSafeDocumentFragment(document, urlWithParams(link.href))\n    document.body.appendChild(fragment)\n    return document.querySelector<HTMLTemplateElement>('.js-sudo-prompt')!\n  } else {\n    throw new Error(\"couldn't load sudo prompt\")\n  }\n}\n\nlet succeeded = false\n\n/**\n * Provide a sudo prompt, and return when it has been filled in or dismissed.\n *\n * @returns {Promise<boolean>} - Resolves to `true` if the user successfully authed with sudo.\n */\nexport async function sudoPrompt(currentTarget?: HTMLElement): Promise<boolean> {\n  if (sudoPromptExist) return false\n  sudoPromptExist = true\n  succeeded = false\n  const template = await loadPromptTemplate()\n  const content = template.content.cloneNode(true)\n  const prompt = await dialog({content})\n\n  // open/expanded HTML5 <details> can potentially steal focus from the dialog (https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details)\n  // Example bug: https://github.com/github/authentication/issues/2208\n  // close the open details element that triggered this sudo challenge\n  const details = currentTarget?.closest('details[open]') as HTMLElement\n  if (details) {\n    details.removeAttribute('open')\n  }\n\n  await new Promise<void>(resolve => {\n    prompt.addEventListener(\n      'dialog:remove',\n      function () {\n        // re-add the open attribute to the details that we closed above\n        if (details) {\n          details.setAttribute('open', 'open')\n        }\n        sudoPromptExist = false\n        resolve()\n      },\n      {once: true},\n    )\n  })\n  return succeeded\n}\n\nasync function sudoModalErrorOrClose(\n  form: HTMLFormElement,\n  wants: Kicker,\n  unauthorizedError = 'Sudo authentication failed.',\n  tooManyError = 'Too many authentication attemtps. Please try again later.',\n  errorSelector = '.js-sudo-error',\n  inputElementSelector?: string,\n) {\n  try {\n    await wants.text()\n  } catch (error) {\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    if (!error.response) throw error\n    let errorMessage\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    switch (error.response.status) {\n      case 401:\n        errorMessage = unauthorizedError\n        break\n      case 429:\n        errorMessage = tooManyError\n        break\n      default:\n        errorMessage = 'An unknown error occurred. Please try again later.'\n    }\n\n    form.querySelector<HTMLElement>(errorSelector)!.textContent = errorMessage\n    form.querySelector<HTMLElement>(errorSelector)!.hidden = false\n    if (inputElementSelector) {\n      form.querySelector<HTMLInputElement>(inputElementSelector)!.value = ''\n    }\n\n    // rethrow error if not expected, only after surfacing it in flash\n    // @ts-expect-error catch blocks are bound to `unknown` so we need to validate the type before using it\n    if (error.response.status !== 401 && error.response.status !== 429) {\n      throw error\n    }\n\n    return\n  }\n  succeeded = true\n  form.closest<HTMLElement>('details')!.removeAttribute('open')\n}\n\nremoteForm('.js-sudo-webauthn-form', async function (form, wants) {\n  await sudoModalErrorOrClose(form, wants)\n})\n\nremoteForm('.js-sudo-github-mobile-form', async function (form, wants) {\n  await sudoModalErrorOrClose(form, wants)\n})\n\nremoteForm('.js-sudo-totp-form', async function (form, wants) {\n  await sudoModalErrorOrClose(form, wants, undefined, undefined, '.flash-error', '#totp')\n})\n\nremoteForm('.js-sudo-password-form', async function (form, wants) {\n  await sudoModalErrorOrClose(\n    form,\n    wants,\n    'Incorrect password.',\n    'Too many password attempts. Please wait and try again.',\n    undefined,\n    '.js-sudo-password',\n  )\n})\n\n/**\n * Check if user is in sudo mode. If not, show a sudo prompt.\n *\n * @returns {Promise<boolean>} - Will be `true` if user is in or got in sudo mode after prompt.\n */\nexport default async function triggerSudoPrompt(currentTarget?: HTMLElement): Promise<boolean> {\n  const response = await fetch('/sessions/in_sudo', {\n    headers: {accept: 'application/json', 'X-Requested-With': 'XMLHttpRequest'},\n  })\n  if (response.ok) {\n    const sudoResponse = await response.text()\n    if (sudoResponse === 'true') {\n      return true\n    }\n  }\n  return sudoPrompt(currentTarget)\n}\n\nexport async function fetchSessionInSudo(): Promise<boolean> {\n  const response = await fetch('/sessions/in_sudo', {\n    headers: {accept: 'application/json', 'X-Requested-With': 'XMLHttpRequest'},\n  })\n  if (response.ok) {\n    const sudoResponse = await response.text()\n    if (sudoResponse === 'true') {\n      return true\n    }\n  }\n  return false\n}\n","import {supported as webauthnSupported} from '@github/webauthn-json/browser-ponyfill'\n\n// Note: the default feedback value stored in the form is 'unknown', but that\n// should not be used unless the JS fails to run.\ntype WebauthnSupportLevel = 'supported' | 'unsupported'\n\n// Calculates a string value to send to the server.\nexport function webauthnSupportLevel(): WebauthnSupportLevel {\n  return webauthnSupported() ? 'supported' : 'unsupported'\n}\n\n// Calculates a string value to send to the server.\nexport async function iuvpaaSupportLevel(): Promise<WebauthnSupportLevel> {\n  if (await window.PublicKeyCredential?.isUserVerifyingPlatformAuthenticatorAvailable()) {\n    return 'supported'\n  }\n  return 'unsupported'\n}\n","// src/webauthn-json/base64url.ts\nfunction base64urlToBuffer(baseurl64String) {\n  const padding = \"==\".slice(0, (4 - baseurl64String.length % 4) % 4);\n  const base64String = baseurl64String.replace(/-/g, \"+\").replace(/_/g, \"/\") + padding;\n  const str = atob(base64String);\n  const buffer = new ArrayBuffer(str.length);\n  const byteView = new Uint8Array(buffer);\n  for (let i = 0; i < str.length; i++) {\n    byteView[i] = str.charCodeAt(i);\n  }\n  return buffer;\n}\nfunction bufferToBase64url(buffer) {\n  const byteView = new Uint8Array(buffer);\n  let str = \"\";\n  for (const charCode of byteView) {\n    str += String.fromCharCode(charCode);\n  }\n  const base64String = btoa(str);\n  const base64urlString = base64String.replace(/\\+/g, \"-\").replace(\n    /\\//g,\n    \"_\"\n  ).replace(/=/g, \"\");\n  return base64urlString;\n}\n\n// src/webauthn-json/convert.ts\nvar copyValue = \"copy\";\nvar convertValue = \"convert\";\nfunction convert(conversionFn, schema, input) {\n  if (schema === copyValue) {\n    return input;\n  }\n  if (schema === convertValue) {\n    return conversionFn(input);\n  }\n  if (schema instanceof Array) {\n    return input.map((v) => convert(conversionFn, schema[0], v));\n  }\n  if (schema instanceof Object) {\n    const output = {};\n    for (const [key, schemaField] of Object.entries(schema)) {\n      if (schemaField.derive) {\n        const v = schemaField.derive(input);\n        if (v !== void 0) {\n          input[key] = v;\n        }\n      }\n      if (!(key in input)) {\n        if (schemaField.required) {\n          throw new Error(`Missing key: ${key}`);\n        }\n        continue;\n      }\n      if (input[key] == null) {\n        output[key] = null;\n        continue;\n      }\n      output[key] = convert(\n        conversionFn,\n        schemaField.schema,\n        input[key]\n      );\n    }\n    return output;\n  }\n}\nfunction derived(schema, derive) {\n  return {\n    required: true,\n    schema,\n    derive\n  };\n}\nfunction required(schema) {\n  return {\n    required: true,\n    schema\n  };\n}\nfunction optional(schema) {\n  return {\n    required: false,\n    schema\n  };\n}\n\n// src/webauthn-json/basic/schema.ts\nvar publicKeyCredentialDescriptorSchema = {\n  type: required(copyValue),\n  id: required(convertValue),\n  transports: optional(copyValue)\n};\nvar simplifiedExtensionsSchema = {\n  appid: optional(copyValue),\n  appidExclude: optional(copyValue),\n  credProps: optional(copyValue)\n};\nvar simplifiedClientExtensionResultsSchema = {\n  appid: optional(copyValue),\n  appidExclude: optional(copyValue),\n  credProps: optional(copyValue)\n};\nvar credentialCreationOptions = {\n  publicKey: required({\n    rp: required(copyValue),\n    user: required({\n      id: required(convertValue),\n      name: required(copyValue),\n      displayName: required(copyValue)\n    }),\n    challenge: required(convertValue),\n    pubKeyCredParams: required(copyValue),\n    timeout: optional(copyValue),\n    excludeCredentials: optional([publicKeyCredentialDescriptorSchema]),\n    authenticatorSelection: optional(copyValue),\n    attestation: optional(copyValue),\n    extensions: optional(simplifiedExtensionsSchema)\n  }),\n  signal: optional(copyValue)\n};\nvar publicKeyCredentialWithAttestation = {\n  type: required(copyValue),\n  id: required(copyValue),\n  rawId: required(convertValue),\n  authenticatorAttachment: optional(copyValue),\n  response: required({\n    clientDataJSON: required(convertValue),\n    attestationObject: required(convertValue),\n    transports: derived(\n      copyValue,\n      (response) => {\n        var _a;\n        return ((_a = response.getTransports) == null ? void 0 : _a.call(response)) || [];\n      }\n    )\n  }),\n  clientExtensionResults: derived(\n    simplifiedClientExtensionResultsSchema,\n    (pkc) => pkc.getClientExtensionResults()\n  )\n};\nvar credentialRequestOptions = {\n  mediation: optional(copyValue),\n  publicKey: required({\n    challenge: required(convertValue),\n    timeout: optional(copyValue),\n    rpId: optional(copyValue),\n    allowCredentials: optional([publicKeyCredentialDescriptorSchema]),\n    userVerification: optional(copyValue),\n    extensions: optional(simplifiedExtensionsSchema)\n  }),\n  signal: optional(copyValue)\n};\nvar publicKeyCredentialWithAssertion = {\n  type: required(copyValue),\n  id: required(copyValue),\n  rawId: required(convertValue),\n  authenticatorAttachment: optional(copyValue),\n  response: required({\n    clientDataJSON: required(convertValue),\n    authenticatorData: required(convertValue),\n    signature: required(convertValue),\n    userHandle: required(convertValue)\n  }),\n  clientExtensionResults: derived(\n    simplifiedClientExtensionResultsSchema,\n    (pkc) => pkc.getClientExtensionResults()\n  )\n};\n\n// src/webauthn-json/basic/api.ts\nfunction createRequestFromJSON(requestJSON) {\n  return convert(base64urlToBuffer, credentialCreationOptions, requestJSON);\n}\nfunction createResponseToJSON(credential) {\n  return convert(\n    bufferToBase64url,\n    publicKeyCredentialWithAttestation,\n    credential\n  );\n}\nfunction getRequestFromJSON(requestJSON) {\n  return convert(base64urlToBuffer, credentialRequestOptions, requestJSON);\n}\nfunction getResponseToJSON(credential) {\n  return convert(\n    bufferToBase64url,\n    publicKeyCredentialWithAssertion,\n    credential\n  );\n}\n\n// src/webauthn-json/basic/supported.ts\nfunction supported() {\n  return !!(navigator.credentials && navigator.credentials.create && navigator.credentials.get && window.PublicKeyCredential);\n}\n\n// src/webauthn-json/browser-ponyfill.ts\nasync function create(options) {\n  const response = await navigator.credentials.create(\n    options\n  );\n  response.toJSON = () => createResponseToJSON(response);\n  return response;\n}\nasync function get(options) {\n  const response = await navigator.credentials.get(\n    options\n  );\n  response.toJSON = () => getResponseToJSON(response);\n  return response;\n}\nexport {\n  create,\n  get,\n  createRequestFromJSON as parseCreationOptionsFromJSON,\n  getRequestFromJSON as parseRequestOptionsFromJSON,\n  supported\n};\n//# sourceMappingURL=webauthn-json.browser-ponyfill.js.map\n"],"names":["preserveAnchorNodePosition","document","callback","preservePosition","findAnchorNode","activeElement","body","hoverElements","querySelectorAll","len","length","anchorNode","node","Promise","resolve","documentElement","ownerDocument","origBoundingRects","computeAncestorBoundingRects","element","rects","_element$getBoundingC","getBoundingClientRect","top","left","push","parentElement","then","result","origBoundingRect","firstAttachedBoundingRect","i","rect","contains","origTop","origLeft","_node$getBoundingClie","cumulativeScrollBy","x","y","window","defaultView","scrollOffsets","offsetParent","scrollTop","scrollLeft","pageYOffset","pageXOffset","overflowParent","el","_window$getComputedSt","getComputedStyle","position","overflowY","overflowX","container","cumulativeX","cumulativeY","scrolled","scrollBy","origScroll","scrollTo","newScroll","CodeScanningAlertFilterElement","BaseFilterElement","fetchSuggestionsForQualifier","qualifier","removeNegationFromQualifierIfSupported","fetchSuggestionsForBranchQualifier","refSuggestions","branchNameSuggestions","branchRefPrefix","suggestion","value","startsWith","substring","invalidSearchTerms","validQualifiers","fetchQualifierSuggestions","map","q","parts","searchInput","match","invalidParts","filter","part","colonIndex","indexOf","typedQualifier","substr","some","validQualifier","join","selectorOfElementToActivateOnBlur","controller","bothChecked","defaultSetup","getElementById","advancedSetup","checked","showDialog","switchDialog","show","on","querySelector","submit","supportsTransitions","isTransitioningHeight","transitionProperty","withoutTransition","cb","style","transition","offsetHeight","updateOpenState","open","classList","toggle","initialFocus","setTimeout","focus","target","closest","setAttribute","toString","toggleDetailsTarget","opts","containerSelector","getAttribute","force","withGroup","performTransition","els","Array","from","transitionHeight","HTMLElement","addEventListener","display","visibility","height","once","boxSizing","currentHeight","scrollHeight","group","toggleGroup","otherContainer","findAndFocusByQuerySelector","elements","find","selector","elementsFromSelector","lastVisibleElement","findLast","remove","add","blur","dispatchEvent","CustomEvent","bubbles","cancelable","detail","isDetailsTargetExpanded","ensureExpanded","toCollapse","event","altKey","currentTarget","preventDefault","hashChange","handlers","ran","handler","ready","runRemainingHandlers","index","runHandlers","slice","location","href","handlersToRun","oldURL","newURL","id","hash","data","fn","call","clear","ieOldURL","softNavOldURL","SOFT_NAV_STATE","START","SUCCESS","setPreferredColorModeCookie","setCookie","getPreferredColorMode","prefersColorScheme","scheme","matchMedia","matches","setClientMode","mode","rootEl","setClientTheme","theme","type","getClientTheme","getColorMode","fallback","getColorModeAttribute","mediaQuery","addListener","state","turboAction","sessionHistoryEntries","sessionHistoryOffset","getState","safeGetHistory","Math","min","max","history","e","setState","newState","url","uniqueId","Date","getTime","pushState","oldState","title","_id","replaceState","initializeState","currentState","turbo","restorationIdentifier","restoreId","action","sendData","hydroEventPayload","hydroEventHmac","hydroClientContext","visitorPayload","visitorHmac","HTMLMetaElement","content","sendStats","trackView","payload","hmac","sendHydroEvent","WaitingFormElement","submitPolitely","disabled","prerequisites","all","participant","getPrerequisitePromise","requestSubmit","form","promiseMethodName","targets","SocialAccountEditorElement","recognizeUrl","recognitionPromise","preprocessUrl","matchingOption","findMatchingSocialAccountIconOption","urlField","setChosenSocialIcon","resetToDefault","defaultValue","changeValue","waitForRecognition","trim","test","chosenOption","chosenKey","choice","iconOptions","hidden","iconSpinner","iconField","patternElement","pattern","nodeInfoIcon","findNodeInfoIconOption","iconGeneric","nodeinfoSoftwareUrl","nodeInfoCandidates","Map","nodeInfoElement","expectedSoftware","set","size","parsedURL","URL","origin","showSpinner","u","searchParams","host","checkResponse","fetch","headers","Accept","checkDocument","json","softwareName","get","attr","oldValue","newControl","newTabPanel","relatedTarget","tabContainer","controlInput","FilterInputElement","RemoteInputElement","isNewControl","input","newInput","undefined","HTMLDetailsElement","filterOptions","bulkActions","alertLinks","copyCheckedAlertsToBulkActionForms","disableReopenButton","fixedAlertNumbersElements","fixedAlertNumbers","JSON","parse","items","textContent","checkedAlerts","parseInt","appendChild","copyInput","inputToCopy","createElement","name","reopenButton","reopenButtonDisabled","targetCodePath","codePath","capture","PagesJekyllConfig","changeListener","sourceBranchListener","sourceSubdirListener","sourceBranch","sourceDirSelector","branchIcon","enableSubmitButton","sourceSubdir","submitButton","initialSourceBranch","initialSourceSubdir","disableSubmitButton","connectedCallback","disconnectedCallback","removeEventListener","customElements","define","select","initialValue","options","option","originalErrorMessage","ActionsPolicyPopoverElement","togglePopover","popoverEl","updateUrlParams","key","urlParams","URLSearchParams","search","selection","architectureMenu","os","defaultArchitecture","elementOS","click","downloadUrl","filename","token","architecture","updateAdvancedSecurityEntity","page","entityList","showOnError","loadingElement","dataContainer","handleErrorState","src","srcURL","pathname","replace","newSrc","pager","pagerLoadingElement","removeAttribute","otherHideables","hideable","children","fetchSafeDocumentFragment","retrieveAdvancedSecurityEntities","containers","params","param","pageNumber","isNaN","findContainerWithRef","refToFind","ref","hrefURL","currentParams","has","append","AppearanceFormElement","modeSelectChange","modeName","activatePanel","activateForm","activeForm","panel","modePanels","selectedInputs","currentMode","userTheme","changeTheme","selectedInput","Event","themeClicked","statusReset","themeType","saveTheme","loading","formData","FormData","response","method","status","saved","errored","saveMessage","AppearancePreviewElement","checkActive","themePreview","disc","preview","themePreviews","previewReset","selectedTheme","boxElement","activeLabel","updateLogoBackgroundColor","bgcolor","bgcolorEl","backgroundColor","remoteForm","wants","noticeContainer","html","responseError","onInput","HTMLInputElement","color","checkValidity","debounce","selectedRepositories","toggleRepoVisibilityFromResults","menu","ids","anyVisible","item","includes","noRepo","updateFormValidity","selectRepos","formIsValid","toggleEnable","className","enable","button","HTMLButtonElement","updateRepositoriesSelectedCopy","count","repoCountEl","observe","pickedCountainer","cloneNode","prepend","isMaxRepositoriesSelected","HTMLFormElement","row","repoSection","reload","DefaultLocationSettingElement","changeManuallySelected","manualRadioButton","regionSelect","regionSelected","changeAutoSelected","autoRadioButton","submitSelectedRegion","selectedRegion","region","locationForm","parseHTML","text","settingContainer","replaceWith","updateSelectedRepositoryCount","String","template","after","TemplateInstance","message","partial","replaceAndRefocus","elementToRefocus","partialContent","focusedElement","generateCssSelectorForElement","tagName","toLowerCase","classNames","hasAttribute","split","repoName","repoControl","createRepositoryRow","repositoryName","repositoryId","checkbox","label","field","regex","formGroup","setCustomValidity","DependabotAlertRuleFormElement","toggleRuleCheckbox","focusAlertCriteriaIfInvalid","rule","ruleOptions","selectedRuleOption","dependabotUpdatesEnabled","untilPatchRuleOption","selectedRuleOptionDidChange","updateRule","queryBuilderInput","focused","eventTarget","memoizeCache","memoizeFetchJSON","memoize","fetchJSON","cache","ok","BaseProvider","EventTarget","fetchSuggestions","suggestionConfigurationAttribute","getSearchInput","suggestionConfigurationPath","hasSuggestionConfiguration","handleEvent","lastQuery","parsedQuery","at","lastQueryValue","lastQueryType","lastQueryFilter","hasMatch","suggestions","FetchDataEvent","filteredSuggestions","filterSuggestions","query","description","sort","a","b","aValueMatch","bValueMatch","score","reverse","filterItem","FilterItem","singularItemName","priority","constructor","queryBuilder","attachProvider","SeverityProvider","PackageProvider","EcosystemProvider","ScopeProvider","ManifestProvider","CWEProvider","CVEProvider","GHSAProvider","submitAndUpdate","submitAndUpdateForm","replaceEndWith","separator","replacement","markCallbackUrlsRequired","required","formGroups","formGroupsLength","setupUrlField","helpTextForRedirectOnUpdate","updateSetupUrlHint","setupUrlHint","enableFormSubmission","updatePermissionsButton","toggleMetadataSelectionMenu","readOn","metadataReadInput","addPath","list","path","DocumentFragment","handleInput","inputs","checkTarget","getCheckTargetSrc","link","innerHTML","fetchKeysList","root","fragment","enabledCheckedAndDisabledScopes","newTokenForm","checkedParentScopes","scope","removeFromSelectedBy","actor","selectedBy","fetchSelectedByArray","removeItemFromArray","arr","splice","updateDependencyGraph","addToSelectedBy","autoComplete","addForm","onKey","unsubscribeButton","changed","defaultChecked","hiddenInputId","hiddenInput","inputValue","newFormGroup","currentIndex","incrementedIndex","formLabel","labelForValue","formInput","insertAdjacentElement","placeholder","hintUrl","redirectOnUpdateHint","permission","resource","hookEvents","permissionContainers","hookPermissionErrors","error","readOnly","checkedHookEventNodes","flatMap","toggleHookUrlRequired","active","hookUrlField","hookUrlFieldContainer","noRepoPermissionSelected","noneSelected","allSelectedRepoPermissions","repoPermission","sendEvents","errorMessage","Element","removeChild","urlForm","newUrlForm","parentNode","insertBefore","callbackUrl","urls","targetSibling","nextElementSibling","wrapper","errContainer","errLabel","keyId","toggleScopeSubsets","scopes","parent","childScopes","selectedPermissionInput","currentPermission","repositoryAccessDialog","selectedReposLabel","enableSaveSecretButton","newValueInputGroup","updateVariablesSelectedRepositoryCount","updateCollapsibleContainerStyles","toggleState","box","rowCount","updateElText","updateRepositoryCount","repoSelectorRadio","selectionType","RepoSelectionType","None","Selected","repositoryCount","updatePermissionSummary","permissionType","permissionEls","selectedPermissionEls","dataSelector","dataPermissionAttribute","updatePermissionCounts","summaryContainerSelector","summaryContainer","summaryContainerEl","listEl","child","permissionEl","appendPermissionSummary","permissionName","permissionLevel","nameEl","levelEl","ToggleState","Open","Close","updateExpiration","expirationSelect","expirationValue","customDate","dateString","formatDateString","calculateDate","date","setDate","getDate","Number","PermissionType","Organization","Repository","User","Intl","DateTimeFormat","weekday","month","day","year","format","verifyAuthorization","displayAuthorizationSectionFor","request","Request","err","resolvedSection","sectionSelector","Object","values","AuthorizationState","section","setInitialValues","details","showError","context","hideErrors","handleInviteResponse","teamId","handleTeamAdd","withoutAccess","resetInviteForm","insertAdjacentHTML","entries","seatsString","availableSeatsEl","toggleHidden","reenableAllRoles","inpts","rInpt","roleDiv","toggleRoleBadge","badge","toggleContainerDisplay","currentToggle","hiddenToggle","selected","nameInput","valid","selectedRepoListObserver","MutationObserver","childList","subtree","resetPermissions","toggleRepoPermissionVisibility","permissionSection","displayFields","formFields","grantForm","grantSummary","formActions","summaryActions","dataFormFieldName","selectedRepoInput","createRepoInput","existing","teamIdField","entry","handleTeamRemove","team","selectLabel","selectionBadge","itemSelectionBadge","baseRoleBadge","memberType","orgAdmin","roleInputs","allInputs","rI","baseRoleCheckBox","TOKENIZER_REGEX","QUERY_REGEX","EXPRESSION_REGEX","NUMERIC_REGEX","CAMEL_CASE_REGEX","RepositoryListFilterElement","inputKey","autocompleteDropdown","stopPropagation","handleSearchBlur","getDefaultSearch","searchForm","clearButton","renderValueSuggestions","filterString","matchingSuggestions","fetchMatchingSuggestions","renderSuggestionDropdown","updateFilterSuggestionResults","searchString","submittedFilterInput","handleSubmitEvent","formatSearchInput","fetchRepositories","hideFilterSuggestions","_page","formattedSearchInput","encodeURIComponent","constructedUrl","selectedSourceRepoId","fetchRepositoriesContent","emitLoadingEvent","queryItems","getExpressionArray","newQuery","queryItem","isFetchingFromFilter","customEventDetail","loadingType","htmlResponse","replaceChildren","applyFilters","repoBulkSelector","repoQueryValue","getElementsByTagName","repoItemsContainer","repoItems","queries","getQueryArray","repoItem","filtered","phrase","getPhrase","isFilterQuery","expressionArray","filterExpressions","isAllExpression","targetIds","handleTargetIDs","matchAll","m","getExpressionValuePair","expression","pair","isWrappedQuotation","endsWith","expressions","languageFilterExists","languageFiltered","visibilityFiltered","visibilityFilterExists","nameSearch","expressionValuePair","filterNameExpression","filterLanguageExpression","filterVisibilityExpression","searchValue","tokenizedSearchValues","allowNgram","tokenizedSearchValue","filterTokenizedNameExpression","exactOrNgramMatch","word","ngramFlag","downcasedWord","camelCaseWords","numericWords","nonNumericWords","words","setSelectedSourceRepoId","setMergeQueueSettings","protectedBranchNameInput","mergeQueueCheckbox","mergeQueueSettings","mergeQueueWarning","protectedBranchNamePattern","mergeQueueCheckboxLabel","mergeQueueShouldBeDisabled","alert","toggleMaxAllowedPushers","allowedPushers","allowedPushersLimit","allowedPushersCount","checkCertificateStatus","checkDomainStatus","getPageSourceSubmitBtn","getPageSource","source","repoOption","indicator","warningSelector","numericContainer","numericInput","statusIndicator","flashComponent","completer","autocompleter","found","CSS","escape","dataURL","createProtectedToggle","restrictPushersToggle","msg","confirm","merge_strategy","merge_strategy_input","merge_strategy_warning","tabIndex","ariaChecked","radio","block_merge_commits","linear_history_warning","permissions","userOrTeam","previousElementSibling","removeButton","addThrottledInputEventListener","pageSourceBranch","pageSourceDir","warningObject","getPageWarningMessage","flashWarning","sourceDir","restoreStatus","disableRestoreButton","summary","dataStore","WeakMap","stateChangedCheckboxes","loadMoreRepositoryItems","loadMoreButton","repositorySelectionComponent","timesLoaded","fetchItemsAsync","fire","setUpdateSelectionButtonState","updateSelectionButton","itemsCountContainer","resetVisibilityModal","modal","newVisibility","transitionVisibilityModalTo","addHiddenFormInput","stage","replacementWarningTemplate","replacementButtonTemplate","replacementButtonTemplateClone","replacementWarningTemplateClone","warningContainer","existingButtonContainer","transitionDeleteModalTo","selectionComponent","changedSet","Set","delete","detailsDialog","orgSecretsSelection","updateMainFormSelectedRepositoryCount","orgVariablesSelection","keys","dialogId","nextStage","numberOfStars","repoNwo","proceed","RetentionFormElement","validate","resetState","inputAllowsNil","min_string","max_string","minMessage","announceFromElement","note","maxMessage","submitOnMenuClose","labelsMenu","errorContainer","emptyContainer","togglePasskeyRegistrationButton","registerButton","u2fForm","registerRequestDataAttribute","updateDataAttribute","webauthn_register_request","stringify","helper","reloadPage","anchor","newDeviceBox","error_message","error_container","error_message_info","toggleDuplicatePasskeyMessage","duplicateMessage","toggleUpgradeConflictPasskeyMessage","conflictMessage","saveRegistration","registerResponse","sudoPassed","sudo","for_passkey","namedItem","accept","clone","resetForm","handlePasskeySave","defer","nickname","passkey_type","handleSecurityKeySave","htmlString","registration","registrations","registered_security_keys_count","errorResponse","waitForWebauthnDevice","passkey","waitForPasskeyGesture","waitForSecurityKeyGesture","registerRequestJSON","create","parseCreationOptionsFromJSON","hideSpinner","userHasSecurityKeys","userHasPasskeys","passkeyElem","iuvpaaSupportLevel","securityKeyElem","registered_passkeys_count","passkeysView","emptyView","errorDisplay","showNickname","errorText","HTMLTextAreaElement","supported","continueButton","SelectedItemCountElement","updateCount","selectedCount","pluralItemsDescription","singularItemDescription","SelectedItemListElement","includeFragment","saveButton","hideDescription","showDescription","resetUserAddForm","enabled","setIndicator","swapEditorAndBufferValues","editor","editorBodyBuffer","oldEditorVal","attachment","backgroundImage","designatedUser","blank","ownerLogin","ownerRepos","selectMenu","pickerWrapper","picker","formElementWrapper","expirationHelperNoteWrapper","expirationWarning","expirationNoteContent","selectedIndex","selectedOption","humanTextAttr","buffer","undoLink","readmeText","readmeName","hideUndoLinkIfChanged","loadReadmeButton","PagesBuildType","changeType","types","buildWorkflow","buildLegacy","bulkDeleteButton","filters","copySelectedPatternsToBulkDeleteForm","shouldDisplayCount","countDisplayer","totalCountDisplay","patternStates","allUnpublished","every","s","allPublished","removeOnlyUnpublishedInfo","removeOnlyPublishedInfo","removePublishedAndUnpublishedInfo","publishedCount","unpublishedCount","formInputs","toggleInfoVisibility","elems","elem","countPublished","countUnpublished","publishedPlural","unpublishedPlural","rowVersion","stateInput","rowVersionInput","saveLinkForm","enableCheckbox","getCookie","getCookies","cookies","cookie","readCookies","expiration","strictDomain","samesite","domain","secure","protocol","expire","deleteCookie","time","toUTCString","SearchScopeText","AutocompleteText","inlineDescription","Infinity","icon","avatar","isCustomIcon","Octicon","PrefixColor","SearchItem","prefixText","prefixColor","isFallbackSuggestion","TextElementStyle","fetchPromise","QueryEvent","rawQuery","parsedMetadata","sudoPromptExist","loadPromptTemplate","HTMLTemplateElement","urlWithParams","webauthnSupportLevel","succeeded","sudoPrompt","prompt","dialog","sudoModalErrorOrClose","unauthorizedError","tooManyError","errorSelector","inputElementSelector","triggerSudoPrompt","sudoResponse","fetchSessionInSudo","webauthnSupported","PublicKeyCredential","isUserVerifyingPlatformAuthenticatorAvailable","base64urlToBuffer","baseurl64String","padding","base64String","str","atob","ArrayBuffer","byteView","Uint8Array","charCodeAt","bufferToBase64url","charCode","fromCharCode","btoa","base64urlString","copyValue","convertValue","convert","conversionFn","schema","v","output","schemaField","derive","derived","optional","publicKeyCredentialDescriptorSchema","transports","simplifiedExtensionsSchema","appid","appidExclude","credProps","simplifiedClientExtensionResultsSchema","credentialCreationOptions","publicKey","rp","user","displayName","challenge","pubKeyCredParams","timeout","excludeCredentials","authenticatorSelection","attestation","extensions","signal","publicKeyCredentialWithAttestation","rawId","authenticatorAttachment","clientDataJSON","attestationObject","_a","getTransports","clientExtensionResults","pkc","getClientExtensionResults","credentialRequestOptions","mediation","rpId","allowCredentials","userVerification","publicKeyCredentialWithAssertion","authenticatorData","signature","userHandle","createRequestFromJSON","requestJSON","getRequestFromJSON","navigator","credentials","toJSON"],"sourceRoot":""}