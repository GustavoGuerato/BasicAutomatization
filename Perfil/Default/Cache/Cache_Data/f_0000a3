{"version":3,"file":"chunk-app_assets_modules_github_jump-to_ts-xxxxxxxxxxxx.js","mappings":"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","sources":["app/assets/modules/github/jump-to.ts","app/assets/modules/github/jump-to/model.ts","app/assets/modules/github/jump-to/tracking.ts","app/assets/modules/github/jump-to/render.ts","app/assets/modules/github/jump-to/controller.ts","app/assets/modules/github/jump-to/filtering.ts","app/assets/modules/github/find-next-element-sibling.ts","app/assets/modules/github/scrollto.ts","app/assets/modules/github/navigation.ts","ui/packages/api-insights/index.ts"],"sourcesContent":["// Disable camel-case rule to allow for easy batch updates via `updateCurrentEventPayload`.\n\nimport {\n  activateSearchField,\n  deactivateSearchField,\n  hideDropdown,\n  showDropdown,\n  updateSearchEntries,\n} from './jump-to/render'\n\nimport {getSuggestionsRequestData, parseSuggestionsResponse, updateSearchURL} from './jump-to/model'\nimport {isJumpToAvailable, populateDropdown} from './jump-to/controller'\nimport {activate as navigationActivate, focus as navigationFocus} from './navigation'\nimport {trackJumpToEvent, trackSelection, updateCurrentEventPayload} from './jump-to/tracking'\nimport type {Suggestion} from './jump-to/model'\nimport {debounce} from '@github/mini-throttle'\n\nimport findNextElementSibling from './find-next-element-sibling'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\n// eslint-disable-next-line no-restricted-imports\nimport {on} from 'delegated-events'\nimport {onFocus} from './onfocus'\nimport {requestSubmit} from '@github-ui/form-utils'\nimport memoize from '@github/memoize'\nimport {reportTraceData} from '@github-ui/api-insights'\n\nlet asyncSuggestions: Promise<Suggestion[]> | null\n\n// Preloads suggestion data and registers input listener on initial page load.\nobserve('.js-jump-to-field', {\n  constructor: HTMLInputElement,\n  add(field) {\n    field.addEventListener(\n      'input',\n      debounce(async function () {\n        updateSearchEntries(field)\n        enableNavigation(field)\n        populateDropdown(field, await asyncSuggestions!)\n      }, 100),\n    )\n\n    // Show suggestions when the input was focused before the script loaded.\n    if (document.activeElement && document.activeElement === field) {\n      onJumpToFocus(field)\n    }\n  },\n})\n\nconst MAX_PAGE_VIEWS_TO_SEND_TO_SERVER = 10\n\nconst suggestionsCache = new Map()\nexport function clearSuggestionsCache() {\n  suggestionsCache.clear()\n}\n\nasync function fetchSuggestions(url: string, token: string): Promise<Suggestion[]> {\n  const data = getSuggestionsRequestData(MAX_PAGE_VIEWS_TO_SEND_TO_SERVER)\n  data.set('_method', 'GET') // Allow this request to be treated as a GET and query DB replica\n\n  let result: Suggestion[] = []\n\n  const fetchUrl = new URL(url, window.location.origin)\n\n  if (location.search.match(/_tracing=true/)) {\n    fetchUrl.searchParams.set('graphql_query_trace', 'true')\n  }\n\n  const response = await fetch(fetchUrl.href, {\n    method: 'POST',\n    mode: 'same-origin',\n    body: data,\n    headers: {\n      Accept: 'application/json',\n      'Scoped-CSRF-Token': token,\n      'X-Requested-With': 'XMLHttpRequest',\n    },\n  })\n\n  if (response.ok) {\n    const jsonResponse = await response.json()\n    reportTraceData(jsonResponse)\n    result = parseSuggestionsResponse(jsonResponse)\n  }\n\n  // Hack to inject custom commands\n  const hiddenSearchCommandsInput = document.querySelector('.js-search-commands')\n  if (hiddenSearchCommandsInput instanceof HTMLInputElement) {\n    const jsonString = hiddenSearchCommandsInput.value\n    let parsedSearchCommands = []\n    try {\n      parsedSearchCommands = JSON.parse(jsonString).commands\n    } catch (error) {\n      // noop\n    }\n    result = result.concat(parsedSearchCommands)\n  }\n\n  return result\n}\n\nlet fetchSuggestionsLastUsedAt = 0\nconst memoizedFetchSuggestions = memoize(fetchSuggestions, {cache: suggestionsCache})\n\n// Fetch entire list of possible suggestions from the server.\nexport async function getSuggestions(field: HTMLElement): Promise<Suggestion[]> {\n  const url = field.getAttribute('data-jump-to-suggestions-path')\n  if (!url) throw new Error('could not get jump to suggestions path')\n  const token = findNextElementSibling(field, 'js-data-jump-to-suggestions-path-csrf') as HTMLInputElement\n  if (!token) return []\n\n  // We don't want to fetch the same results more than once, but we also don't want to use stale results, so we forget the whole cache after 5 sec.\n  // Expiring each entry separately would be overkill for this simple case\n  if (Date.now() - fetchSuggestionsLastUsedAt > 5000) {\n    clearSuggestionsCache()\n  }\n  fetchSuggestionsLastUsedAt = Date.now()\n  return memoizedFetchSuggestions(url, token.value)\n}\n\nasync function onJumpToFocus(el: HTMLElement) {\n  const field = el as HTMLInputElement\n  activateSearchField(field)\n  showDropdown(field)\n\n  if (!asyncSuggestions) {\n    asyncSuggestions = getSuggestions(field)\n  }\n\n  updateSearchEntries(field)\n  enableNavigation(field)\n  populateDropdown(field, await asyncSuggestions)\n}\nonFocus('.js-jump-to-field', onJumpToFocus)\n\n// Handles selection events (via the Enter key) or dismissal of the suggestions menu (via the Esc key).\non('navigation:keydown', '.js-site-search-form', function (event) {\n  const selection = event.currentTarget.querySelector('.js-navigation-item.navigation-focus')\n  switch (event.detail.hotkey) {\n    case 'Enter':\n      if (!selection) {\n        // If there is no selection, submit the search form.\n        const form = event.currentTarget as HTMLFormElement\n        requestSubmit(form)\n      } else {\n        // Otherwise, track the selection event.\n        trackSelection(selection.querySelector<HTMLElement>('.js-jump-to-suggestion-path')!)\n      }\n      break\n    case 'Escape':\n      // eslint-disable-next-line github/no-blur\n      event.currentTarget.querySelector<HTMLInputElement>('.js-jump-to-field')!.blur()\n      hideDropdown()\n      break\n  }\n})\n\non('navigation:focus', '.js-site-search-form', function (event) {\n  const field = document.querySelector<HTMLInputElement>('.js-jump-to-field')!\n  const id = (event.target as Element).id\n  const container = (event.target as Element).closest<HTMLElement>('.js-jump-to-suggestions-results-container')!\n  for (const item of container.querySelectorAll('.js-navigation-item')) {\n    item.setAttribute('aria-selected', (event.target === item).toString())\n  }\n  field.setAttribute('aria-activedescendant', id)\n})\n\n// ensures that the dropdown stays open if any child element of jump-to as a whole\n// has focus, this allows screenreaders to navigate the list\nlet timeout: number | null = null\non('focusout', '.js-jump-to', function () {\n  const field = document.querySelector<HTMLInputElement>('.js-jump-to-field')!\n  timeout = window.setTimeout(() => {\n    deactivateSearchField(field)\n    hideDropdown()\n  }, 200)\n})\n\non('focusin', '.js-jump-to', function () {\n  if (timeout) window.clearTimeout(timeout)\n  const field = document.querySelector<HTMLInputElement>('.js-jump-to-field')!\n  showDropdown(field)\n})\n\n// Handle selecting an item from the suggestion list\non('click', '.js-jump-to-suggestion-path', function (event) {\n  const link = event.currentTarget as HTMLAnchorElement\n\n  // Ensure we have an up-to-date search q param on the search suggestion link on click\n  if (link.getAttribute('data-target-type') === 'Search') {\n    const inputField = document.querySelector<HTMLInputElement>('.js-jump-to-field')!\n    link.href = updateSearchURL(inputField.value.trim(), link.href)\n  }\n\n  // Track click events\n  trackSelection(link)\n})\n\non('submit', '.js-site-search-form', function (event) {\n  if (!isJumpToAvailable()) {\n    return\n  }\n\n  const form = event.target as Element\n  if (form.getAttribute('data-scoped-search-url')) {\n    updateCurrentEventPayload({})\n  }\n  trackJumpToEvent('search')\n})\n\nfunction enableNavigation(field: HTMLInputElement) {\n  const queryText = field.value.trim()\n  const resultsContainer = document.querySelector<HTMLElement>('.js-jump-to-suggestions-results-container')!\n\n  if (queryText) {\n    navigationFocus(resultsContainer)\n  } else {\n    navigationActivate(resultsContainer)\n  }\n}\n","import {buildProjectKey, buildRepositoryKey, buildTeamKey, getPageViewsMap} from './page-views'\n\nexport type Suggestion = {\n  avatarUrl: string | null\n  databaseId: number\n  name: string\n  number: number | null\n  owner: {name: string} | null\n  path: string\n  rank: number\n  type: 'Project' | 'Repository' | 'Team'\n  pageKey: string\n}\n\ntype ErrorResponse = {\n  data: {\n    errors: unknown[]\n  }\n}\ntype SuccessResponse = {\n  data: {\n    suggestions: {\n      nodes: Array<Suggestion | null>\n    }\n  }\n}\ntype SuggestionsResponse = ErrorResponse | SuccessResponse\n\nexport function getSuggestionsRequestData(maxPageViews: number): FormData {\n  const data = new FormData()\n  for (const pageKey of Object.keys(getPageViewsMap()).slice(0, maxPageViews)) {\n    data.append('variables[pageViews][]', pageKey)\n  }\n\n  return data\n}\n\nexport function parseSuggestionsResponse(response: SuggestionsResponse): Suggestion[] {\n  if ('errors' in response.data) return []\n\n  let i = 1\n  const suggestions = []\n  for (const suggestion of response.data.suggestions.nodes) {\n    if (suggestion == null) continue\n    // Fill in the rank as reported by the server.\n    suggestion.rank = i++\n    suggestion.pageKey = pageKeyFromSuggestion(suggestion)\n    if (suggestion.type === 'Team') {\n      suggestion.name = `@${suggestion.name}`\n    }\n    suggestions.push(suggestion)\n  }\n\n  return suggestions\n}\n\nexport function buildSearchURL(searchPath: string, queryText: string): string {\n  const url = new URL(searchPath, window.location.origin)\n  const searchParams = new URLSearchParams(url.search.slice(1))\n\n  searchParams.set('q', queryText)\n\n  // persist the \"type\" of the search results page if there is one\n  const searchType = new URLSearchParams(window.location.search).get('type')\n  if (searchType) {\n    searchParams.set('type', searchType)\n  }\n\n  url.search = searchParams.toString()\n  return url.toString()\n}\n\nexport function updateSearchURL(queryText: string, href: string): string {\n  const url = new URL(href, window.location.origin)\n  const searchParams = new URLSearchParams(url.search.slice(1))\n\n  if (searchParams.get('q')) {\n    searchParams.set('q', queryText)\n  }\n\n  url.search = searchParams.toString()\n  return url.toString()\n}\n\nfunction pageKeyFromSuggestion(suggestion: Suggestion): string {\n  let key: string\n  const [ownerLogin, repositoryName] = suggestion.name.split('/') || []\n  switch (suggestion.type) {\n    case 'Project':\n      key = buildProjectKey(suggestion.owner!.name, `${suggestion.number}`)\n      break\n    case 'Repository':\n      key = buildRepositoryKey(ownerLogin!, repositoryName!)\n      break\n    case 'Team':\n      key = buildTeamKey(ownerLogin!, repositoryName!)\n      break\n    default:\n      throw new Error(`Invalid Suggestion type: ${suggestion.type}`)\n  }\n  return key\n}\n","import type {Context} from '@github/hydro-analytics-client'\nimport {sendEvent} from '@github-ui/hydro-analytics'\n\ntype EventName = 'menu-activation' | 'menu-deactivation' | 'click' | 'query' | 'search'\n\nlet currentEventContext: Context = {}\n\nexport function trackSelection(anchor: Element): void {\n  const targetType = anchor.getAttribute('data-target-type')!\n\n  if (targetType === 'Search') {\n    const form = document.querySelector<HTMLFormElement>('.js-site-search-form')!\n    const scopeType = form.getAttribute('data-scope-type')\n    const itemType = anchor.getAttribute('data-item-type')\n\n    if (scopeType) {\n      updateCurrentEventPayload({\n        scope_id: parseInt(form.getAttribute('data-scope-id') || '').toString(),\n        scope_type: scopeType,\n        target_scope: itemType || '',\n      })\n    }\n    trackJumpToEvent('search')\n  } else if (targetType === 'Project' || targetType === 'Repository' || targetType === 'Team') {\n    updateCurrentEventPayload({\n      target_id: parseInt(anchor.getAttribute('data-target-id') || '').toString(),\n      target_type: targetType,\n      target_scope: '',\n      client_rank: parseInt(anchor.getAttribute('data-client-rank') || '').toString(),\n      server_rank: parseInt(anchor.getAttribute('data-server-rank') || '').toString(),\n    })\n    trackJumpToEvent('click')\n  }\n}\nexport function trackJumpToEvent(eventName: EventName): boolean {\n  const actorId = parseInt(\n    document.head?.querySelector<HTMLMetaElement>('meta[name=\"octolytics-actor-id\"]')?.content || '',\n  )\n  if (!actorId) {\n    // Do not track events for anonymous users.\n    return false\n  }\n\n  let sessionId = currentEventContext['session_id']\n\n  if (eventName === 'menu-activation' && sessionId) {\n    // Do not track duplicate menu activation for this session.\n    return false\n  }\n\n  if (eventName !== 'menu-activation' && !sessionId) {\n    // Do not track any duplicate events after session has ended.\n    return false\n  }\n\n  if (eventName === 'menu-activation') {\n    // Start a new session.\n    sessionId = uuidv4()\n    updateCurrentEventPayload({session_id: sessionId})\n  }\n\n  if (!sessionId) return false\n  sendEvent(`jump-to-${eventName}`, currentEventContext)\n\n  if (eventName === 'menu-deactivation' || eventName === 'click' || eventName === 'search') {\n    // Reset payload after any event that concludes the session.\n    resetCurrentEventPayload()\n  }\n\n  return true\n}\n\nexport function updateCurrentEventPayload(attributes: Context): void {\n  Object.assign(currentEventContext, attributes)\n}\n\nexport function resetCurrentEventPayload(): void {\n  currentEventContext = {}\n}\n\nexport function cloneCurrentEventPayload(): Context {\n  // Shallow clone the whole object.\n  return {...currentEventContext}\n}\n\n// https://stackoverflow.com/a/2117523\nfunction uuidv4(): string {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0\n    const v = c === 'x' ? r : (r & 0x3) | 0x8\n    return v.toString(16)\n  })\n}\n","import type {Suggestion} from './model'\nimport {buildSearchURL} from './model'\nimport {fuzzyHighlightElement} from '../fuzzy-filter'\nimport {trackJumpToEvent} from './tracking'\n\nexport function activateSearchField(field: HTMLElement) {\n  field.classList.add('js-navigation-enable')\n  field.classList.add('jump-to-field-active')\n  field.parentElement?.classList.add('search-wrapper-suggestions-active')\n}\n\nexport function deactivateSearchField(field: HTMLElement) {\n  field.classList.remove('js-navigation-enable')\n  field.classList.remove('jump-to-field-active')\n  field.parentElement?.classList.remove('search-wrapper-suggestions-active')\n}\n\nexport function showDropdown(field: HTMLElement) {\n  /* eslint-disable-next-line github/no-d-none */\n  document.querySelector<HTMLElement>('.js-jump-to-suggestions-container')?.classList.remove('d-none')\n  field.classList.add('jump-to-dropdown-visible')\n\n  document.querySelector<HTMLElement>('.js-jump-to-field')?.setAttribute('aria-expanded', 'true')\n}\n\nexport function hideDropdown() {\n  /* eslint-disable-next-line github/no-d-none */\n  document.querySelector<HTMLElement>('.js-jump-to-suggestions-container')?.classList.add('d-none')\n  const inputField = document.querySelector<HTMLElement>('.js-jump-to-field')\n\n  inputField?.classList.remove('jump-to-dropdown-visible')\n  inputField?.setAttribute('aria-expanded', 'false')\n  trackJumpToEvent('menu-deactivation')\n}\n\nexport function updateSearchEntries(field: HTMLInputElement) {\n  const form = field.form\n  const resultsContainer = document.querySelector<HTMLElement>('.js-jump-to-suggestions-results-container')\n  const queryText = field.value.trim()\n  const isScoped = !!(field.form && field.form.getAttribute('data-scope-type'))\n  const hasOwnerScope = (field.form && field.form.getAttribute('data-scope-type')) === 'Repository'\n  const existingScopedSearch = resultsContainer?.querySelector<HTMLElement>('.js-jump-to-scoped-search')\n  const existingOwnerScopedSearch = resultsContainer?.querySelector<HTMLElement>('.js-jump-to-owner-scoped-search')\n  const existingGlobalSearch = resultsContainer?.querySelector<HTMLElement>('.js-jump-to-global-search')\n\n  // hide scoped search if no query text or not a scoped page\n  /* eslint-disable-next-line github/no-d-none */\n  existingScopedSearch?.classList.toggle('d-none', !queryText || !isScoped)\n  if (existingOwnerScopedSearch) {\n    /* eslint-disable-next-line github/no-d-none */\n    existingOwnerScopedSearch.classList.toggle('d-none', !queryText || !hasOwnerScope)\n  }\n  // hide global search if no query text\n  /* eslint-disable-next-line github/no-d-none */\n  existingGlobalSearch?.classList.toggle('d-none', !queryText)\n\n  // update scoped search entry if we are showing it\n  if (queryText && isScoped) {\n    const searchPath = form?.getAttribute('action')\n    const updatedScopedSearch = updateSearchEntry(\n      existingScopedSearch ? existingScopedSearch : new HTMLElement(),\n      queryText,\n      buildSearchURL(searchPath ? searchPath : '', queryText),\n      true,\n      false,\n    )\n    resultsContainer?.replaceChild(updatedScopedSearch, existingScopedSearch ? existingScopedSearch : new HTMLElement())\n  }\n\n  if (existingOwnerScopedSearch) {\n    if (queryText && isScoped) {\n      const searchPath = form?.getAttribute('data-owner-scoped-search-url')\n      const updatedOwnerScopedSearch = updateSearchEntry(\n        existingOwnerScopedSearch,\n        queryText,\n        buildSearchURL(searchPath ? searchPath : '', queryText),\n        true,\n        true,\n      )\n      resultsContainer?.replaceChild(updatedOwnerScopedSearch, existingOwnerScopedSearch)\n    }\n  }\n\n  // update global search\n  if (queryText) {\n    const unscopedSearchPath = form?.getAttribute('data-unscoped-search-url')\n    const updatedGlobalSearch = updateSearchEntry(\n      existingGlobalSearch ? existingGlobalSearch : new HTMLElement(),\n      queryText,\n      buildSearchURL(unscopedSearchPath ? unscopedSearchPath : '', queryText),\n      false,\n      false,\n    )\n    resultsContainer?.replaceChild(updatedGlobalSearch, existingGlobalSearch ? existingGlobalSearch : new HTMLElement())\n  }\n}\n\nexport function updateDropdown(field: HTMLInputElement, queryText: string, suggestionsToDisplay: Suggestion[]) {\n  const form = field.form\n  if (!form) return\n\n  const template = getTemplateElement('.js-jump-to-suggestions-template-container')\n  const results = document.createDocumentFragment()\n\n  if (suggestionsToDisplay.length < 1 && !queryText) {\n    displayNoResults()\n  } else {\n    for (const [i, suggestion] of suggestionsToDisplay.entries()) {\n      results.appendChild(fillTemplate(template, suggestion, queryText, i))\n    }\n\n    replaceSuggestions(results)\n  }\n}\n\nfunction isUserLoggedIn(): boolean {\n  return Boolean(document.head?.querySelector<HTMLMetaElement>('meta[name=\"user-login\"]')?.content)\n}\n\nfunction displayNoResults() {\n  if (!isUserLoggedIn()) {\n    return\n  }\n\n  const template = getTemplateElement('.js-jump-to-no-results-template-container')\n\n  const noResults = template.cloneNode(true)\n  if (noResults instanceof HTMLElement) {\n    /* eslint-disable-next-line github/no-d-none */\n    noResults.classList.remove('d-none')\n  }\n\n  replaceSuggestions(noResults)\n}\n\nfunction replaceSuggestions(newSuggestions: Node) {\n  const resultsContainer = document.querySelector<HTMLElement>('.js-jump-to-suggestions-results-container')\n\n  if (resultsContainer) {\n    for (const oldResult of resultsContainer.querySelectorAll('.js-jump-to-suggestion')) {\n      oldResult.parentNode?.removeChild(oldResult)\n    }\n\n    resultsContainer.appendChild(newSuggestions)\n  }\n}\n\nfunction showSuggestionOcticon(el: HTMLElement, octiconSelector: string) {\n  const octiconContainer = el.querySelector<HTMLElement>('.js-jump-to-octicon')\n  const octicon = octiconContainer?.querySelector<SVGElement>(octiconSelector)\n  /* eslint-disable-next-line github/no-d-none */\n  octiconContainer?.classList.remove('d-none')\n  /* eslint-disable-next-line github/no-d-none */\n  octicon?.classList.remove('d-none')\n}\n\nfunction updateSearchEntry(\n  element: HTMLElement,\n  queryText: string,\n  href: string,\n  isScoped: boolean,\n  isOwnerScoped: boolean,\n): HTMLElement {\n  const el = element.cloneNode(true) as HTMLElement\n\n  if (isScoped) {\n    el.id = `jump-to-suggestion-search-${isOwnerScoped ? 'scoped-owner' : 'scoped'}`\n  } else {\n    el.id = `jump-to-suggestion-search-global`\n  }\n\n  const anchor = el.querySelector<HTMLAnchorElement>('.js-jump-to-suggestion-path')\n  if (anchor) {\n    anchor.href = href\n    anchor.setAttribute('data-target-type', 'Search')\n  }\n\n  const nameElement = el.querySelector<HTMLElement>('.js-jump-to-suggestion-name')\n  if (nameElement) {\n    nameElement.textContent = queryText\n    nameElement.setAttribute('aria-label', queryText)\n  }\n\n  showSuggestionOcticon(el, '.js-jump-to-octicon-search')\n\n  const badgeEl = el.querySelector<HTMLElement>('.js-jump-to-badge-search')\n  if (badgeEl) {\n    /* eslint-disable-next-line github/no-d-none */\n    badgeEl.classList.remove('d-none')\n    if (isScoped) {\n      /* eslint-disable-next-line github/no-d-none */\n      badgeEl.querySelector<HTMLElement>('.js-jump-to-badge-search-text-default')?.classList.remove('d-none')\n    } else {\n      /* eslint-disable-next-line github/no-d-none */\n      badgeEl.querySelector<HTMLElement>('.js-jump-to-badge-search-text-global')?.classList.remove('d-none')\n    }\n  }\n\n  return el\n}\n\nfunction fillTemplate(\n  template: HTMLElement,\n  suggestion: Suggestion,\n  queryText: string,\n  clientRank: number,\n): HTMLElement {\n  const el = template.cloneNode(true) as HTMLElement\n  el.id = `jump-to-suggestion-${suggestion.type.toLowerCase()}-${suggestion.databaseId}`\n\n  const anchor = el.querySelector<HTMLAnchorElement>('.js-jump-to-suggestion-path')\n  if (anchor) {\n    anchor.href = suggestion.path\n    anchor.setAttribute('data-target-type', suggestion.type)\n\n    anchor.setAttribute('data-target-id', `${suggestion.databaseId}`)\n    anchor.setAttribute('data-client-rank', `${clientRank}`)\n    anchor.setAttribute('data-server-rank', `${suggestion.rank}`)\n  }\n\n  const nameElement = el.querySelector<HTMLElement>('.js-jump-to-suggestion-name')\n  if (nameElement) {\n    nameElement.textContent = suggestion.name\n    // set this because the element fuzzyhighlighting confuses screenreaders\n    nameElement.setAttribute('aria-label', suggestion.name)\n  }\n\n  fuzzyHighlightElement(nameElement ? nameElement : new Element(), queryText.replace(/\\s/g, ''))\n\n  switch (suggestion.type) {\n    case 'Team': {\n      const avatar = el.querySelector<HTMLImageElement>('.js-jump-to-suggestion-avatar')\n      if (avatar) {\n        avatar.alt = suggestion.name\n        avatar.src = suggestion.avatarUrl ? suggestion.avatarUrl : ''\n        /* eslint-disable-next-line github/no-d-none */\n        avatar.classList.remove('d-none')\n      }\n      break\n    }\n    case 'Project':\n      showSuggestionOcticon(el, '.js-jump-to-octicon-project')\n      break\n    case 'Repository':\n      showSuggestionOcticon(el, '.js-jump-to-octicon-repo')\n      break\n  }\n\n  const badgeEl = el.querySelector<HTMLElement>('.js-jump-to-badge-jump')\n  /* eslint-disable-next-line github/no-d-none */\n  badgeEl?.classList.remove('d-none')\n\n  return el\n}\n\nfunction getTemplateElement(templateContainerSelector: string): HTMLElement {\n  const suggestionsContainer = document.querySelector<HTMLElement>('.js-jump-to-suggestions-container')\n  return suggestionsContainer?.querySelector<HTMLElement>(templateContainerSelector)?.firstElementChild as HTMLElement\n}\n","import {getPageViewsMap, scorer} from './page-views'\nimport {trackJumpToEvent, updateCurrentEventPayload} from './tracking'\nimport type {PageViews} from './page-views'\nimport type {Suggestion} from './model'\nimport {filterSuggestions} from './filtering'\nimport {updateDropdown} from './render'\n\n// Reports whether or not the Jump To feature is available in the current context.\n//\n// At present Jump To is only available to logged-in users who are not on a mobile device. In those\n// situations, the `.js-jump-to-field` class is inserted into the markup on the appropriate element.\n//\n// TODO Split the site search behavior and jump-to behavior into isolated components so site search\n// module behavior isn't partially disabled based on this state.\nexport function isJumpToAvailable(): boolean {\n  return !!document.querySelector('.js-jump-to-field')\n}\n\nexport function populateDropdown(field: HTMLInputElement, suggestions: Suggestion[]): void {\n  const query = field.value.trim()\n  const matchingSuggestions = rank(filterSuggestions(suggestions, query, window.location.pathname), getPageViewsMap())\n  const suggestionsToDisplay = matchingSuggestions.slice(0, 7)\n\n  updateCurrentEventPayload({\n    result_count: matchingSuggestions.length.toString(),\n    display_count: suggestionsToDisplay.length.toString(),\n    filter_count: (suggestions.length - matchingSuggestions.length).toString(),\n    query,\n    display_set: JSON.stringify(suggestionsToDisplay.map(s => [s.type, s.databaseId])),\n  })\n\n  updateDropdown(field, query, suggestionsToDisplay)\n  trackJumpToEvent('menu-activation') || trackJumpToEvent('query')\n}\n\nfunction rank(suggestions: Suggestion[], pageViews: PageViews): Suggestion[] {\n  const scorePage = scorer(pageViews)\n  return suggestions.sort((a, b) => scorePage(b.pageKey) - scorePage(a.pageKey))\n}\n","import {compare, fuzzyScore} from '../fuzzy-filter'\nimport type {Suggestion} from './model'\nimport {filterSort} from '../filter-sort'\n\nexport function filterSuggestions(suggestions: Suggestion[], str: string, ignorePath: string): Suggestion[] {\n  const query = str.replace(/\\s/g, '').toLowerCase()\n  const list = suggestions.filter(s => s.path !== ignorePath)\n  if (!query) return list\n  const key = (item: Suggestion) => {\n    const text = item.name\n    const score = fuzzyScore(text, query)\n    return score > 0 ? {score, text} : null\n  }\n  return filterSort(list, key, compare)\n}\n","export default function findNextElementSibling(element: HTMLElement, className: string): HTMLElement | null {\n  const nextSibling = element.nextElementSibling\n  if (nextSibling instanceof HTMLElement) {\n    if (nextSibling.classList.contains(className)) return nextSibling\n    return findNextElementSibling(nextSibling, className)\n  }\n  return null\n}\n","type ScrollToOptions = {\n  top: number\n  left?: number\n}\n\nexport default function scrollTo(targetContainer: HTMLElement, options: ScrollToOptions) {\n  let container: Node = targetContainer\n  const document = targetContainer.ownerDocument\n\n  if (\n    container === document ||\n    /* eslint-disable-next-line @typescript-eslint/ban-ts-comment */\n    // @ts-ignore - Suppress TS2367 error that I don't trust\n    container === document.defaultView ||\n    container === document.documentElement ||\n    container === document.body\n  ) {\n    container = document\n  }\n\n  const Document = document.defaultView!.Document\n\n  if (container instanceof Document) {\n    const top = options.top != null ? options.top : document.defaultView!.pageYOffset\n    const left = options.left != null ? options.left : document.defaultView!.pageXOffset\n    document.defaultView!.scrollTo(left, top)\n    return\n  }\n\n  const HTMLElement = document.defaultView!.HTMLElement\n\n  if (!(container instanceof HTMLElement)) {\n    throw new Error('invariant')\n  }\n\n  container.scrollTop = options.top\n  if (options.left != null) {\n    container.scrollLeft = options.left\n  }\n}\n","// Navigation Behavior\n//\n// Provides basic cursor, vi and emacs keyboard navigation. As well as\n// mouseover selection.\n//\n// item Element with .js-navigation-item. The current focused\n//            item is denoted with the .navigation-focus class.\n// container Element with .js-navigation-container class name.\n//                 Contains item elements. The active container is denoted\n//                 by the .js-active-navigation-container class.\n//\n// The .js-active-navigation-container class can be part of the html or\n// added programmatically with navigation('focus'). Making it part of\n// the template will automatically activate it without any extra JS.\n// Just make sure its the only active container on the page.\n//\n// li.navigation-focus { background: yellow; }\n//\n// <ul class=\"js-navigation-container js-active-navigation-container\">\n//   <li class=\"js-navigation-item\"><a href=\"\">One</a></li>\n//   <li class=\"js-navigation-item\"><a href=\"\">Two</a></li>\n//   <li class=\"js-navigation-item\"><a href=\"\">Three</a></li>\n// </ul>\n//\n// Methods\n//\n// .navigation('active')\n//\n// Returns current active container.\n//\n// .navigation('activate')\n//\n// Activates navigation container.\n//\n// .navigation('deactivate')\n//\n// Deactivates navigation container.\n//\n// .navigation('push')\n//\n// Activates navigation container and push it onto a stack.\n//\n// .navigation('pop')\n//\n// Deactivates navigation container and remove it from stack. Then\n// activate the previous container on the top of the stack.\n//\n// .navigation('focus')\n//\n// Activates navigation container and focus first item.\n//\n// .navigation('clear')\n//\n// Removes current focus.\n//\n// .navigation('refocus')\n//\n// Removes current focus and focuses on the first item.\n//\n//\n// Events\n//\n// navigation:focus\n//\n// Bubbles Yes\n// Cancelable Yes\n// Default action Focus navigation item\n// Target .js-navigation-item Element\n//\n// navigation:keydown\n//\n// Bubbles Yes\n// Cancelable Yes\n// Default action Deactivate navigation\n// Target .js-navigation-item or .js-navigation-container Element\n// Context info\n//   * originalEvent - keydown event\n//   * relatedTarget - .js-navigation-container Element\n//\n// navigation:keyopen\n//\n// Bubbles Yes\n// Cancelable No\n// Target .js-navigation-item Element\n// Context info\n//   * modifierKey - Boolean for ctrl or command modifier key\n//\n// navigation:open\n//\n// Bubbles Yes\n// Cancelable Yes\n// Target .js-navigation-item Element\n// Context info\n//   * modifierKey - Boolean for ctrl or command modifier key\n//\n\nimport {compose, fromEvent} from '@github-ui/subscription'\n// eslint-disable-next-line no-restricted-imports\nimport {fire, on} from 'delegated-events'\nimport {overflowOffset, overflowParent, positionedOffset} from '@primer/behaviors'\nimport {eventToHotkeyString} from '@github-ui/hotkey'\nimport {isShortcutAllowed} from '@github-ui/hotkey/keyboard-shortcuts-helper'\n// eslint-disable-next-line no-restricted-imports\nimport {observe} from '@github/selector-observer'\nimport scrollTo from './scrollto'\nimport visible from './visible'\n\nconst ctrlBindings = navigator.userAgent.match(/Macintosh/)\nconst modifierKey = ctrlBindings ? 'metaKey' : 'ctrlKey'\nconst hotkeyModifier = ctrlBindings ? 'Meta' : 'Control'\n\nlet disableMouseEvents = false\nlet mousePosition = {\n  x: 0,\n  y: 0,\n}\n\ntype ScrollBehavior = 'auto' | 'smooth'\n\n// Binds mouseover handlers on navigation containers.\n//\n// This is an optimization to avoid adding a global mouseover to document.\nobserve('.js-navigation-container:not(.js-navigation-container-no-mouse)', {\n  subscribe: el =>\n    compose(fromEvent(el, 'mouseover', onContainerMouseMove), fromEvent(el, 'mouseover', onContainerMouseOver)),\n})\n\n// Tracks last mouse position inside container.\nfunction onContainerMouseMove(event: Event) {\n  if (!(event instanceof MouseEvent)) return\n  if (mousePosition.x !== event.clientX || mousePosition.y !== event.clientY) {\n    disableMouseEvents = false\n  }\n  mousePosition = {\n    x: event.clientX,\n    y: event.clientY,\n  }\n}\n\nfunction onContainerMouseOver(event: Event) {\n  if (disableMouseEvents) {\n    return\n  }\n  const container = event.currentTarget\n  const {target} = event\n  if (\n    !(target instanceof Element) ||\n    !(container instanceof HTMLElement) ||\n    !container.closest('.js-active-navigation-container')\n  ) {\n    return\n  }\n  const item = target.closest('.js-navigation-item')\n  if (item) focusItem(item, container)\n}\n\nlet count = 0\nobserve('.js-active-navigation-container', {\n  add() {\n    count++\n    if (count === 1) document.addEventListener('keydown', fireCustomKeydown)\n  },\n  remove() {\n    count--\n    if (count === 0) document.removeEventListener('keydown', fireCustomKeydown)\n  },\n})\n\n// Dispatches custom events from focused items.\n//\n// It also makes it easy to bind custom hotkeys to focused items.\nfunction fireCustomKeydown(event: KeyboardEvent) {\n  if (\n    event.target !== document.body &&\n    event.target instanceof HTMLElement &&\n    !event.target.classList.contains('js-navigation-enable')\n  ) {\n    return\n  }\n\n  disableMouseEvents = true\n\n  const container = getActiveContainer()\n  let dispatched = false\n\n  if (container) {\n    const target = container.querySelector('.js-navigation-item.navigation-focus') || container\n    dispatched = fire(target, 'navigation:keydown', {\n      hotkey: eventToHotkeyString(event),\n      originalEvent: event,\n      originalTarget: event.target,\n    })\n  }\n\n  if (!dispatched) {\n    event.preventDefault()\n  }\n}\n\non('navigation:keydown', '.js-active-navigation-container', function (event) {\n  const container = event.currentTarget as HTMLElement\n  const isInput = event.detail.originalTarget.matches('input, textarea')\n  const item = event.target as HTMLElement\n\n  if (!isShortcutAllowed(event.detail.originalEvent)) return\n\n  if (item.classList.contains('js-navigation-item')) {\n    if (isInput) {\n      if (ctrlBindings) {\n        switch (eventToHotkeyString(event.detail.originalEvent)) {\n          case 'Control+n':\n            cursorDown(item, container)\n            break\n          case 'Control+p':\n            cursorUp(item, container)\n        }\n      }\n      switch (eventToHotkeyString(event.detail.originalEvent)) {\n        case 'ArrowUp':\n          cursorUp(item, container)\n          break\n        case 'ArrowDown':\n          cursorDown(item, container)\n          break\n        case 'Enter':\n        case `${hotkeyModifier}+Enter`:\n          keyOpen(item, event.detail.originalEvent[modifierKey])\n          break\n      }\n    } else {\n      if (ctrlBindings) {\n        switch (eventToHotkeyString(event.detail.originalEvent)) {\n          case 'Control+n':\n            cursorDown(item, container)\n            break\n          case 'Control+p':\n            cursorUp(item, container)\n            break\n          case 'Alt+v':\n            pageUp(item, container)\n            break\n          case 'Control+v':\n            pageDown(item, container)\n        }\n      }\n      switch (eventToHotkeyString(event.detail.originalEvent)) {\n        case 'j':\n        case 'J':\n          cursorDown(item, container)\n          break\n        case 'k':\n        case 'Shift+K':\n          cursorUp(item, container)\n          break\n        case 'o':\n        case 'Enter':\n        case `${hotkeyModifier}+Enter`:\n          keyOpen(item, event.detail[modifierKey])\n          break\n      }\n    }\n  } else {\n    const firstItem = getItems(container)[0]\n    if (firstItem) {\n      if (isInput) {\n        if (ctrlBindings) {\n          switch (eventToHotkeyString(event.detail.originalEvent)) {\n            case 'Control+n':\n              focusItem(firstItem, container)\n          }\n        }\n        switch (eventToHotkeyString(event.detail.originalEvent)) {\n          case 'ArrowDown':\n            focusItem(firstItem, container)\n        }\n      } else {\n        if (ctrlBindings) {\n          switch (eventToHotkeyString(event.detail.originalEvent)) {\n            case 'Control+n':\n            case 'Control+v':\n              focusItem(firstItem, container)\n          }\n        }\n        switch (eventToHotkeyString(event.detail.originalEvent)) {\n          case 'j':\n            focusItem(firstItem, container)\n        }\n      }\n    }\n  }\n\n  if (isInput) {\n    if (ctrlBindings) {\n      switch (eventToHotkeyString(event.detail.originalEvent)) {\n        case 'Control+n':\n        case 'Control+p':\n          event.preventDefault()\n      }\n    }\n    switch (eventToHotkeyString(event.detail.originalEvent)) {\n      case 'ArrowUp':\n      case 'ArrowDown':\n        event.preventDefault()\n        break\n      case 'Enter':\n        event.preventDefault()\n    }\n  } else {\n    if (ctrlBindings) {\n      switch (eventToHotkeyString(event.detail.originalEvent)) {\n        case 'Control+n':\n        case 'Control+p':\n        case 'Control+v':\n        case 'Alt+v':\n          event.preventDefault()\n      }\n    }\n    switch (eventToHotkeyString(event.detail.originalEvent)) {\n      case 'j':\n      case 'k':\n      case 'o':\n        event.preventDefault()\n        break\n      case 'Enter':\n      case `${modifierKey}+Enter`:\n        event.preventDefault()\n    }\n  }\n})\n\n// Fire custom navigation:open event.\n//\n// Examples:\n//\n// on('navigation:open', '.listings .listing', function() {\n//   window.location = this.querySelector('a').getAttribute('href')\n// }).\nfunction fireOpen(\n  event: Event & {modifierKey?: boolean; altKey?: boolean; ctrlKey?: boolean; metaKey?: boolean; shiftKey?: boolean},\n) {\n  /* eslint eslint-comments/no-use: off */\n  /* eslint-disable @github-ui/ui-commands/no-manual-shortcut-logic */\n  const modifier = event.modifierKey || event.altKey || event.ctrlKey || event.metaKey\n  const dispatched = fire(event.currentTarget as Element, 'navigation:open', {\n    modifierKey: modifier,\n    shiftKey: event.shiftKey,\n  })\n  /* eslint-enable @github-ui/ui-commands/no-manual-shortcut-logic */\n\n  if (!dispatched) {\n    event.preventDefault()\n  }\n}\n\n// Open the item on click.\non('click', '.js-active-navigation-container .js-navigation-item', function (event) {\n  fireOpen(event)\n})\n\n// Handle keydown open events.\non('navigation:keyopen', '.js-active-navigation-container .js-navigation-item', function (event) {\n  const a = event.currentTarget.classList.contains('js-navigation-open')\n    ? event.currentTarget\n    : event.currentTarget.querySelector('.js-navigation-open')\n  if (a instanceof HTMLAnchorElement) {\n    if (event.detail.modifierKey) {\n      window.open(a.href, '_blank')\n      window.focus()\n    } else {\n      const clicked = a.dispatchEvent(\n        new MouseEvent('click', {\n          bubbles: true,\n          cancelable: true,\n        }),\n      )\n      if (clicked) {\n        a.click()\n      }\n    }\n    event.preventDefault()\n  } else {\n    fireOpen(event)\n  }\n})\n\n// Make container active by adding the js-active-navigation-container class to it.\nexport function activate(container: Element | null) {\n  const activeContainer = getActiveContainer()\n  if (container !== activeContainer) {\n    if (activeContainer !== null) deactivate(activeContainer)\n    container?.classList.add('js-active-navigation-container')\n  }\n}\n\n// Remove active id from container.\nexport function deactivate(container: Element) {\n  container.classList.remove('js-active-navigation-container')\n}\n\nconst containerStack: Element[] = []\n\n// Active container and push previous onto a stack.\nexport function push(container: HTMLElement) {\n  const activeContainer = getActiveContainer()\n  if (activeContainer) {\n    containerStack.push(activeContainer)\n  }\n  activate(container)\n}\n\n// Deactivate container and activate the next on the stack.\nexport function pop(container: Element) {\n  deactivate(container)\n  clear(container)\n\n  const activeContainer = containerStack.pop()\n  if (activeContainer) {\n    activate(activeContainer)\n  }\n}\n\n// Active the container and focus on the target or first element.\nexport function focus(container: HTMLElement, targetElement?: HTMLElement) {\n  const target = targetElement || container\n\n  const firstItem = getItems(container)[0]\n  const item = target.closest('.js-navigation-item') || firstItem\n\n  activate(container)\n\n  if (item instanceof HTMLElement) {\n    const focusPrevented = focusItem(item, container)\n    if (focusPrevented) {\n      return\n    }\n    const parent = overflowParent(item)\n    scrollItemTo(parent!, item)\n  }\n}\n\n// Clear current focus.\nexport function clear(container: Element) {\n  const elements = container.querySelectorAll('.js-navigation-item.navigation-focus')\n  for (const element of elements) {\n    element.classList.remove('navigation-focus')\n  }\n}\n\n// Clear current focus and focus on the target or first element.\nexport function refocus(container: HTMLElement, target?: HTMLElement) {\n  clear(container)\n  focus(container, target)\n}\n\n// Select the previous item and scroll to it if its off screen.\nfunction cursorUp(item: HTMLElement, container: HTMLElement) {\n  const items = getItems(container)\n  const index = items.indexOf(item)\n  const previous = items[index - 1]\n  if (previous) {\n    const focusPrevented = focusItem(previous, container)\n    if (focusPrevented) {\n      return\n    }\n\n    const overflowParentEl = overflowParent(previous)\n    if (getScrollStyle(container) === 'page') {\n      scrollPageTo(overflowParentEl!, previous)\n    } else {\n      scrollItemTo(overflowParentEl!, previous)\n    }\n  }\n}\n\n// Select the next item and scroll to it if its off screen.\nfunction cursorDown(item: HTMLElement, container: HTMLElement) {\n  const items = getItems(container)\n  const index = items.indexOf(item)\n  const next = items[index + 1]\n\n  if (next) {\n    const focusPrevented = focusItem(next, container)\n    if (focusPrevented) {\n      return\n    }\n\n    const overflowParentEl = overflowParent(next)\n    if (getScrollStyle(container) === 'page') {\n      scrollPageTo(overflowParentEl!, next)\n    } else {\n      scrollItemTo(overflowParentEl!, next)\n    }\n  }\n}\n\n// Scrolls up to the previous item that is above the viewport.\nfunction pageUp(item: HTMLElement, container: HTMLElement) {\n  const items = getItems(container)\n  let index = items.indexOf(item)\n  const overflowParentEl = overflowParent(item)\n\n  if (overflowParentEl == null) {\n    return\n  }\n\n  let previous\n  let dimension\n  while (\n    (previous = items[index - 1]) &&\n    (dimension = overflowOffset(previous, overflowParentEl)) &&\n    dimension.top >= 0\n  ) {\n    index--\n  }\n\n  if (previous) {\n    const focusPrevented = focusItem(previous, container)\n    if (focusPrevented) {\n      return\n    }\n\n    scrollPageTo(overflowParentEl, previous)\n  }\n}\n\n// Scrolls down to the next item that is below the viewport.\nfunction pageDown(item: HTMLElement, container: HTMLElement) {\n  const items = getItems(container)\n  let index = items.indexOf(item)\n  const overflowParentEl = overflowParent(item)\n\n  if (overflowParentEl == null) {\n    return\n  }\n\n  let next\n  let dimension\n  while ((next = items[index + 1]) && (dimension = overflowOffset(next, overflowParentEl)) && dimension.bottom >= 0) {\n    index++\n  }\n\n  if (next) {\n    const focusPrevented = focusItem(next, container)\n    if (focusPrevented) {\n      return\n    }\n    scrollPageTo(overflowParentEl, next)\n  }\n}\n\n// Handle opening item from keyboard.\n//\n// Hitting o or enter on a item will call this method.\nfunction keyOpen(item: Element, modifier = false) {\n  fire(item, 'navigation:keyopen', {\n    modifierKey: modifier,\n  })\n}\n\nfunction focusItem(target: Element, container: Element): boolean {\n  if (fire(target, 'navigation:focus')) {\n    clear(container)\n    target.classList.add('navigation-focus')\n\n    return false\n  } else {\n    return true\n  }\n}\n\nfunction getActiveContainer() {\n  return document.querySelector('.js-active-navigation-container')\n}\n\nfunction getItems(container: Element): HTMLElement[] {\n  const items = []\n  for (const element of container.querySelectorAll('.js-navigation-item')) {\n    if (element instanceof HTMLElement && visible(element)) {\n      items.push(element)\n    }\n  }\n\n  return items\n}\n\nfunction getScrollStyle(container: HTMLElement): string {\n  return container.getAttribute('data-navigation-scroll') || 'item'\n}\n\nfunction scrollPageTo(container: HTMLElement, element: HTMLElement, behavior: ScrollBehavior = 'smooth') {\n  const overflow = overflowOffset(element, container)\n  if (!overflow) return\n\n  if (overflow.bottom <= 0) {\n    element.scrollIntoView({behavior, block: 'start'})\n  } else if (overflow.top <= 0) {\n    element.scrollIntoView({behavior, block: 'end'})\n  }\n}\n\nfunction scrollItemTo(container: HTMLElement, element: HTMLElement) {\n  const position = positionedOffset(element, container)\n  const overflow = overflowOffset(element, container)\n\n  if (position == null || overflow == null) {\n    return\n  }\n\n  if (overflow.bottom <= 0 && document.body) {\n    const scrollHeight = container.offsetParent != null ? container.scrollHeight : document.body.scrollHeight\n    const scrollTop = scrollHeight - (position.bottom + overflow.height!)\n    scrollTo(container, {\n      top: scrollTop,\n    })\n  } else if (overflow.top <= 0) {\n    scrollTo(container, {\n      top: position.top,\n    })\n  }\n}\n","import {ssrSafeWindow, ssrSafeLocation} from '@github-ui/ssr-utils'\n\n// TODO: do not export those constants and instead provide functions to push and read data\nexport const TraceDataKey = 'GraphQLTraces'\nexport const TraceDataRefreshCallbackKey = 'GraphQLTracingRefresh'\n\nexport const disabledClusters = getDisabledClusters()\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function reportTraceData(json: any) {\n  if (!ssrSafeWindow) return\n  if (!isTracingEnabled()) return\n  if (!json) return\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const rootWindowContent = ssrSafeWindow as {[key: string]: any}\n\n  if (!rootWindowContent[TraceDataKey]) {\n    rootWindowContent[TraceDataKey] = []\n  }\n\n  if (json['__trace']) {\n    rootWindowContent[TraceDataKey].push(json['__trace'])\n    if (typeof rootWindowContent[TraceDataRefreshCallbackKey] === 'function') {\n      rootWindowContent[TraceDataRefreshCallbackKey]()\n    }\n  }\n}\n\nexport function isTracingEnabled() {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const rootWindowContent = ssrSafeWindow as {[key: string]: any}\n\n  return (\n    new URLSearchParams(ssrSafeLocation.search).get('_tracing') === 'true' ||\n    rootWindowContent[TraceDataKey] !== undefined\n  )\n}\n\nfunction clustersDisabled() {\n  return disabledClusters.length > 0\n}\n\nexport function getInsightsUrl(url: string) {\n  if (!isTracingEnabled() && !clustersDisabled()) return url\n\n  const urlObject = new URL(url, ssrSafeLocation.origin)\n\n  if (isTracingEnabled()) {\n    urlObject.searchParams.set('_tracing', 'true')\n  }\n\n  if (clustersDisabled()) {\n    urlObject.searchParams.set('disable_clusters', disabledClusters.join(','))\n  }\n\n  return urlObject.pathname + urlObject.search\n}\n\nfunction getDisabledClusters() {\n  return decodeURIComponent(new URLSearchParams(ssrSafeLocation.search).get('disable_clusters') || '')\n    .split(',')\n    .filter(c => c !== '')\n}\n\nexport function isClusterDisabled(cluster: string) {\n  return disabledClusters.indexOf(cluster) > -1\n}\n\nexport function toggleClusterState(cluster: string) {\n  const index = disabledClusters.indexOf(cluster)\n\n  if (index > -1) {\n    disabledClusters.splice(index, 1)\n  } else {\n    disabledClusters.push(cluster)\n  }\n\n  const params = new URLSearchParams(ssrSafeLocation.search)\n  params.set('disable_clusters', disabledClusters.join(','))\n\n  const url = ssrSafeLocation\n  url.search = params.toString()\n}\n"],"names":["asyncSuggestions","buildSearchURL","searchPath","queryText","url","URL","window","location","origin","searchParams","URLSearchParams","search","slice","set","searchType","get","toString","currentEventContext","trackSelection","anchor","targetType","getAttribute","form","document","querySelector","scopeType","itemType","updateCurrentEventPayload","scope_id","parseInt","scope_type","target_scope","trackJumpToEvent","target_id","target_type","client_rank","server_rank","eventName","actorId","head","content","sessionId","session_id","replace","c","r","random","v","sendEvent","attributes","Object","assign","showDropdown","field","classList","remove","add","setAttribute","hideDropdown","inputField","updateSearchEntries","resultsContainer","value","trim","isScoped","hasOwnerScope","existingScopedSearch","existingOwnerScopedSearch","existingGlobalSearch","toggle","updatedScopedSearch","updateSearchEntry","HTMLElement","replaceChild","updatedOwnerScopedSearch","unscopedSearchPath","updatedGlobalSearch","replaceSuggestions","newSuggestions","oldResult","querySelectorAll","parentNode","removeChild","appendChild","showSuggestionOcticon","el","octiconSelector","octiconContainer","octicon","element","href","isOwnerScoped","cloneNode","id","nameElement","textContent","badgeEl","getTemplateElement","templateContainerSelector","suggestionsContainer","firstElementChild","populateDropdown","suggestions","query","matchingSuggestions","rank","pageViews","scorePage","scorer","sort","a","b","pageKey","filterSuggestions","str","ignorePath","toLowerCase","list","filter","s","path","filterSort","text","item","name","score","fuzzyScore","compare","pathname","getPageViewsMap","suggestionsToDisplay","result_count","length","display_count","filter_count","display_set","JSON","stringify","map","type","databaseId","updateDropdown","template","results","createDocumentFragment","displayNoResults","Boolean","noResults","i","suggestion","entries","fillTemplate","clientRank","fuzzyHighlightElement","Element","avatar","alt","src","avatarUrl","observe","constructor","HTMLInputElement","addEventListener","debounce","enableNavigation","activeElement","onJumpToFocus","suggestionsCache","Map","clearSuggestionsCache","clear","fetchSuggestions","token","data","getSuggestionsRequestData","maxPageViews","FormData","keys","append","result","fetchUrl","match","response","fetch","method","mode","body","headers","Accept","ok","jsonResponse","json","reportTraceData","parseSuggestionsResponse","nodes","pageKeyFromSuggestion","key","ownerLogin","repositoryName","split","buildProjectKey","owner","number","buildRepositoryKey","buildTeamKey","push","hiddenSearchCommandsInput","jsonString","parsedSearchCommands","parse","commands","error","concat","fetchSuggestionsLastUsedAt","memoizedFetchSuggestions","memoize","cache","getSuggestions","findNextElementSibling","className","nextSibling","nextElementSibling","contains","Date","now","parentElement","onFocus","on","event","selection","currentTarget","detail","hotkey","requestSubmit","blur","target","container","closest","timeout","navigationFocus","navigationActivate","setTimeout","clearTimeout","link","updateSearchURL","scrollTo","targetContainer","options","ownerDocument","defaultView","documentElement","Document","top","pageYOffset","left","pageXOffset","scrollTop","scrollLeft","ctrlBindings","navigator","userAgent","modifierKey","hotkeyModifier","disableMouseEvents","mousePosition","x","y","onContainerMouseMove","MouseEvent","clientX","clientY","onContainerMouseOver","focusItem","subscribe","compose","fromEvent","count","fireCustomKeydown","getActiveContainer","dispatched","fire","eventToHotkeyString","originalEvent","originalTarget","preventDefault","fireOpen","modifier","altKey","ctrlKey","metaKey","shiftKey","activate","activeContainer","deactivate","removeEventListener","isInput","matches","isShortcutAllowed","cursorDown","cursorUp","keyOpen","pageUp","previous","dimension","items","getItems","index","indexOf","overflowParentEl","overflowParent","overflowOffset","focusPrevented","scrollPageTo","pageDown","next","bottom","firstItem","HTMLAnchorElement","open","focus","clicked","dispatchEvent","bubbles","cancelable","click","containerStack","pop","targetElement","parent","scrollItemTo","elements","refocus","getScrollStyle","visible","behavior","overflow","scrollIntoView","block","position","positionedOffset","scrollHeight","offsetParent","height","TraceDataKey","TraceDataRefreshCallbackKey","disabledClusters","decodeURIComponent","ssrSafeLocation","ssrSafeWindow","isTracingEnabled","rootWindowContent","undefined","clustersDisabled","getInsightsUrl","urlObject","join","isClusterDisabled","cluster","toggleClusterState","splice","params"],"sourceRoot":""}