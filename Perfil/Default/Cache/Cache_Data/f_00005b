{"version":3,"file":"vendors-node_modules_github_file-attachment-element_dist_index_js-node_modules_primer_view-co-eb424d-xxxxxxxxxxxx.js","mappings":"6NAAA,qBAAMA,WACFC,YAAYC,CAAI,CAAEC,CAAS,CAAE,CACzB,IAAI,CAACD,IAAI,CAAGA,EACZ,IAAI,CAACC,SAAS,CAAGA,EACjB,IAAI,CAACC,KAAK,CAAG,UACb,IAAI,CAACC,EAAE,CAAG,KACV,IAAI,CAACC,IAAI,CAAG,KACZ,IAAI,CAACC,IAAI,CAAG,KACZ,IAAI,CAACC,OAAO,CAAG,CACnB,CACA,OAAOC,SAASC,CAAQ,CAAEP,CAAS,CAAE,KAsGpBO,EArGb,OAsDJ,GAgDQA,CADSA,EArGWA,GAsGXC,KAAK,EAClBC,MAAMC,IAAI,CAACH,EAASC,KAAK,EAAEG,IAAI,CAAC,IAC5B,IAAMC,EAAQC,EAAKC,gBAAgB,EAAID,EAAKC,gBAAgB,GAC5D,OAAOF,GAASA,EAAMG,WAAW,GAlD9BT,EAAS,GAsDbG,MAAMC,IAAI,CAACH,EAASC,KAAK,EAC3BQ,GAAG,CAAC,GAAUH,EAAKC,gBAAgB,IACnCG,MAAM,CAACL,GAASA,MAAAA,IAtDdM,QAAQC,OAAO,CAACC,EAAQX,MAAMC,IAAI,CAACH,EAASc,KAAK,EAAI,EAAE,GAAGL,GAAG,CAACM,GAAK,IAAIzB,WAAWyB,IAxDzF,CACA,OAAOZ,KAAKW,CAAK,CAAE,CACf,IAAME,EAAS,EAAE,CACjB,IAAK,IAAMxB,KAAQsB,EACf,GAAItB,aAAgByB,KAChBD,EAAOE,IAAI,CAAC,IAAI5B,WAAWE,SAE1B,GAAIA,aAAgBF,WACrB0B,EAAOE,IAAI,CAAC1B,QAGZ,MAAM,MAAU,mBAGxB,OAAOwB,CACX,CACA,IAAIG,UAAW,CACX,OAAO,IAAI,CAAC1B,SAAS,CAAG,CAAC,EAAE,IAAI,CAACA,SAAS,CAAC,CAAC,EAAE,IAAI,CAACD,IAAI,CAACK,IAAI,CAAC,CAAC,CAAG,IAAI,CAACL,IAAI,CAACK,IAAI,CAElFuB,SAAU,CACN,MAAO,CAAC,YAAa,YAAa,YAAa,aAAc,gBAAgB,CAACC,OAAO,CAAC,IAAI,CAAC7B,IAAI,CAAC8B,IAAI,EAAI,EAC5G,CACAC,SAAU,CACN,MAAO,CAAC,YAAa,kBAAkB,CAACF,OAAO,CAAC,IAAI,CAAC7B,IAAI,CAAC8B,IAAI,EAAI,EACtE,CACAE,OAAO1B,CAAO,CAAE,CACZ,GAAI,gBAAI,CAACJ,KAAK,EAAkB,eAAI,CAACA,KAAK,CACtC,MAAM,MAAU,CAAC,2BAA2B,EAAE,IAAI,CAACA,KAAK,CAAC,UAAU,CAAC,CAExE,KAAI,CAACA,KAAK,CAAG,SACb,IAAI,CAACI,OAAO,CAAGA,CACnB,CACA2B,MAAMC,CAAU,CAAE,CACd,IAAIC,EAAIC,EAAIC,EACZ,GAAI,gBAAI,CAACnC,KAAK,EAAkB,eAAI,CAACA,KAAK,CACtC,MAAM,MAAU,CAAC,2BAA2B,EAAE,IAAI,CAACA,KAAK,CAAC,SAAS,CAAC,CAEvE,KAAI,CAACA,KAAK,CAAG,QACb,IAAI,CAACC,EAAE,CAAG,OAACgC,CAAAA,EAAKD,MAAAA,EAA+C,KAAK,EAAIA,EAAW/B,EAAE,GAAcgC,KAAY,IAAZA,EAAgBA,EAAK,KACxH,IAAI,CAAC/B,IAAI,CAAG,OAACgC,CAAAA,EAAKF,MAAAA,EAA+C,KAAK,EAAIA,EAAW9B,IAAI,GAAcgC,KAAY,IAAZA,EAAgBA,EAAK,KAC5H,IAAI,CAAC/B,IAAI,CAAG,OAACgC,CAAAA,EAAKH,MAAAA,EAA+C,KAAK,EAAIA,EAAW7B,IAAI,GAAcgC,KAAY,IAAZA,EAAgBA,EAAK,IAChI,CACAC,WAAY,CACR,MAAO,gBAAI,CAACpC,KAAK,CAErBqC,UAAW,CACP,MAAO,eAAI,CAACrC,KAAK,CAErBsC,SAAU,CACN,MAAO,cAAI,CAACtC,KAAK,CAEzB,EAUA,SAASmB,EAAQC,CAAK,EAClB,OAAOZ,MAAMC,IAAI,CAACW,GAAOJ,MAAM,CAAClB,GAAQ,CAHjCA,EAAKK,IAAI,CAACoC,UAAU,CAAC,KAIhC,CAwBA,eAAelC,EAASmC,CAAI,CAAEC,CAAO,EACjC,IAAMC,EAAU,EAAE,CAClB,IAAK,IAAM/B,KAASQ,EAAQsB,GACxB,GAAI9B,EAAMG,WAAW,CACjB4B,EAAQlB,IAAI,IAAK,MAAMnB,EAASM,EAAMc,QAAQ,CAAE,MAAMkB,SAtB9ChC,CAAK,EACrB,OAAO,IAAIM,QAAQ,SAAUC,CAAO,CAAE0B,CAAM,EACxC,IAAMtB,EAAS,EAAE,CACXuB,EAASlC,EAAMmC,YAAY,GAC3BC,EAAO,KACTF,EAAOG,WAAW,CAACP,IACXA,EAAQQ,MAAM,CAAG,GACjB3B,EAAOE,IAAI,IAAIiB,GACfM,KAGA7B,EAAQI,EAEhB,EAAGsB,EACP,EACAG,GACJ,EACJ,EAK6EpC,SAEhE,CACD,IAAMb,EAAO,MAAMoD,SA9BdvC,CAAK,EAClB,OAAO,IAAIM,QAAQ,SAAUC,CAAO,CAAE0B,CAAM,EACxCjC,EAAMb,IAAI,CAACoB,EAAS0B,EACxB,EACJ,EA0BuCjC,GAC3B+B,EAAQlB,IAAI,CAAC,IAAI5B,WAAWE,EAAM0C,GACtC,CAEJ,OAAOE,CACX,CAcA,gCAAMS,8BAA8BC,YAChCC,mBAAoB,CAChB,IAAI,CAACC,gBAAgB,CAAC,YAAaC,GACnC,IAAI,CAACD,gBAAgB,CAAC,WAAYC,GAClC,IAAI,CAACD,gBAAgB,CAAC,YAAaE,GACnC,IAAI,CAACF,gBAAgB,CAAC,OAAQG,GAC9B,IAAI,CAACH,gBAAgB,CAAC,QAASI,GAC/B,IAAI,CAACJ,gBAAgB,CAAC,SAAUK,EACpC,CACAC,sBAAuB,CACnB,IAAI,CAACC,mBAAmB,CAAC,YAAaN,GACtC,IAAI,CAACM,mBAAmB,CAAC,WAAYN,GACrC,IAAI,CAACM,mBAAmB,CAAC,YAAaL,GACtC,IAAI,CAACK,mBAAmB,CAAC,OAAQJ,GACjC,IAAI,CAACI,mBAAmB,CAAC,QAASH,GAClC,IAAI,CAACG,mBAAmB,CAAC,SAAUF,EACvC,CACA,IAAI5D,WAAY,CACZ,OAAO,IAAI,CAAC+D,YAAY,CAAC,YAC7B,CACA,IAAI/D,UAAUgE,CAAK,CAAE,CACbA,EACA,IAAI,CAACC,YAAY,CAAC,YAAa,IAG/B,IAAI,CAACC,eAAe,CAAC,YAE7B,CACA,MAAMC,OAAOC,CAAW,CAAE,CACtB,IAAMC,EAAcD,aAAuBE,aACrC,MAAMzE,WAAWS,QAAQ,CAAC8D,EAAa,IAAI,CAACpE,SAAS,EACrDH,WAAWa,IAAI,CAAC0D,GAChBG,EAAW,IAAI,CAACC,aAAa,CAAC,IAAIC,YAAY,yBAA0B,CAC1EC,QAAS,GACTC,WAAY,GACZC,OAAQ,CAAEP,YAAAA,CAAY,CAC1B,IACIE,GAAYF,EAAYnB,MAAM,EAC9B,IAAI,CAACsB,aAAa,CAAC,IAAIC,YAAY,2BAA4B,CAC3DC,QAAS,GACTE,OAAQ,CAAEP,YAAAA,CAAY,CAC1B,GAER,CACJ,EACA,SAASQ,EAAQtE,CAAQ,EACrB,OAAOE,MAAMC,IAAI,CAACH,EAASuE,KAAK,EAAElD,OAAO,CAAC,UAAY,CAC1D,CACA,IAAImD,EAAW,KACf,SAASvB,EAAYwB,CAAK,EACtB,IAAMC,EAASD,EAAME,aAAa,CAC9BH,GACAI,aAAaJ,GAEjBA,EAAWK,OAAOC,UAAU,CAAC,IAAMJ,EAAOf,eAAe,CAAC,SAAU,KACpE,IAAM3D,EAAWyE,EAAMM,YAAY,CAC9B/E,GAAasE,EAAQtE,KAE1BA,EAASgF,UAAU,CAAG,OACtBN,EAAOhB,YAAY,CAAC,QAAS,IAC7Be,EAAMQ,cAAc,GACxB,CACA,SAAS/B,EAAYuB,CAAK,EAClBA,EAAMM,YAAY,EAClBN,CAAAA,EAAMM,YAAY,CAACC,UAAU,CAAG,MAAK,EAEzC,IAAMN,EAASD,EAAME,aAAa,CAClCD,EAAOf,eAAe,CAAC,SACvBc,EAAMS,eAAe,GACrBT,EAAMQ,cAAc,EACxB,CACA,SAAS9B,EAAOsB,CAAK,EACjB,IAAMU,EAAYV,EAAME,aAAa,CACrC,GAAI,CAAEQ,CAAAA,aAAqBtC,qBAAoB,EAC3C,OACJsC,EAAUxB,eAAe,CAAC,SAC1B,IAAM3D,EAAWyE,EAAMM,YAAY,CAC9B/E,GAAasE,EAAQtE,KAE1BmF,EAAUvB,MAAM,CAAC5D,GACjByE,EAAMS,eAAe,GACrBT,EAAMQ,cAAc,GACxB,CACA,IAAMG,EAAS,0BASf,SAAShC,EAAQqB,CAAK,EAClB,GAAI,CAACA,EAAMY,aAAa,EAEpB,CAACZ,EAAMY,aAAa,CAACpF,KAAK,CAD1B,OAGJ,IAAMkF,EAAYV,EAAME,aAAa,CACrC,GAAI,CAAEQ,CAAAA,aAAqBtC,qBAAoB,EAC3C,OACJ,IAAMrD,EAAO8F,SAhBGrF,CAAK,EACrB,IAAK,IAAMK,KAAQL,EACf,GAAIK,SAAAA,EAAKiF,IAAI,EAAeH,EAAOI,IAAI,CAAClF,EAAKgB,IAAI,EAC7C,OAAOhB,EAAKmF,SAAS,GAG7B,OAAO,IACX,EAS4BhB,EAAMY,aAAa,CAACpF,KAAK,EACjD,GAAI,CAACT,EACD,OACJ,IAAMsB,EAAQ,CAACtB,EAAK,CACpB2F,EAAUvB,MAAM,CAAC9C,GACjB2D,EAAMQ,cAAc,EACxB,CACA,SAAS5B,EAASoB,CAAK,EACnB,IAAMU,EAAYV,EAAME,aAAa,CACrC,GAAI,CAAEQ,CAAAA,aAAqBtC,qBAAoB,EAC3C,OACJ,IAAM6C,EAAQjB,EAAMC,MAAM,CAC1B,GAAI,CAAEgB,CAAAA,aAAiBC,gBAAe,EAClC,OACJ,IAAMhG,EAAKwF,EAAUS,YAAY,CAAC,SAClC,GAAIjG,GAAM+F,EAAM/F,EAAE,GAAKA,EACnB,OACJ,IAAMmB,EAAQ4E,EAAM5E,KAAK,CACpBA,GAASA,IAAAA,EAAM6B,MAAM,GAE1BwC,EAAUvB,MAAM,CAAC9C,GACjB4E,EAAMjC,KAAK,CAAG,GAClB,CACKoB,OAAOgB,cAAc,CAACC,GAAG,CAAC,qBAC3BjB,OAAOhC,qBAAqB,CAAGA,sBAC/BgC,OAAOgB,cAAc,CAACE,MAAM,CAAC,kBAAmBlD,uB,mCC1PpD,IAAMmD,EAAkB,CACpB,cAAe,CAAC,iBAAkB,gBAAiB,eAAgB,iBAAiB,CACpF,iBAAkB,CAAC,cAAe,gBAAiB,eAAgB,iBAAiB,CACpF,eAAgB,CAAC,gBAAiB,iBAAkB,cAAe,iBAAiB,CACpF,gBAAiB,CAAC,eAAgB,iBAAkB,cAAe,iBAAiB,EAElFC,EAAsB,CACxBC,MAAO,CAAC,MAAO,SAAS,CACxBC,IAAK,CAAC,QAAS,SAAS,CACxBC,OAAQ,CAAC,MAAO,QAAQ,EAErB,SAASC,EAAoBC,CAAe,CAAEC,CAAa,CAAEC,EAAW,CAAC,CAAC,EAC7E,IAAMC,EAAgBC,SAWGC,CAAO,EAChC,GAAIC,SAWcD,CAAO,EACzB,IAAIhF,EACJ,GAAIgF,WAAAA,EAAQE,OAAO,CACf,MAAO,GAEX,GAAI,CACA,GAAIF,EAAQG,OAAO,CAAC,kBAAoB,cAActB,IAAI,CAAC,OAAC7D,CAAAA,EAAKoF,SAASC,IAAI,CAACC,WAAW,GAActF,KAAY,IAAZA,EAAgB,KAAK,EAAIA,EAAGuF,QAAQ,IACxI,MAAO,EAEf,CACA,MAAOtF,EAAI,CAEX,CACA,MAAO,EACX,EAzBqB+E,GACb,OAAOI,SAASC,IAAI,CACxB,IAAIG,EAAaR,EAAQQ,UAAU,CACnC,KAAOA,OAAAA,GAAqB,CACxB,GAAIA,aAAsBrE,aAAesE,WAAAA,iBAAiBD,GAAYE,QAAQ,CAC1E,OAAOF,EAEXA,EAAaA,EAAWA,UAAU,CAEtC,OAAOJ,SAASC,IAAI,EArBsBV,GACpCgB,EAAeC,SAqCAZ,CAAO,EAC5B,IAAIQ,EAAaR,EACjB,KACI,OADGQ,GACGA,aAAsBK,SADJ,CAIxB,IAAMC,EAAkBL,iBAAiBD,GACzC,GAAIM,YAAAA,EAAgBC,QAAQ,CACxB,MAEJP,EAAaA,EAAWA,UAAU,CAEtC,IAAMQ,EAAeR,IAAeJ,SAASC,IAAI,EAAMG,aAAsBrE,YAA+BqE,EAAhBJ,SAASC,IAAI,CACnGY,EAAWD,EAAaE,qBAAqB,GAC7CC,EAAYV,iBAAiBO,GAC7B,CAACI,EAAWC,EAAYC,EAAaC,EAAa,CAAG,CACvDJ,EAAUK,cAAc,CACxBL,EAAUM,eAAe,CACzBN,EAAUO,gBAAgB,CAC1BP,EAAUQ,iBAAiB,CAC9B,CAAC7H,GAAG,CAAC8H,GAAKC,SAASD,EAAG,KAAO,GAC9B,MAAO,CACHE,IAAKb,EAASa,GAAG,CAAGV,EACpBW,KAAMd,EAASc,IAAI,CAAGV,EACtBW,MAAOf,EAASe,KAAK,CAAGV,EAAcD,EACtCY,OAAQC,KAAKC,GAAG,CAAClB,EAASgB,MAAM,CAAGb,EAAYG,EAAcP,IAAiBZ,SAASC,IAAI,CAAGnC,OAAOkE,WAAW,CAAG,CAACC,IACxH,CACJ,EAhEyCvC,GAC/BwC,EAAqB7B,iBAAiBX,GACtCyC,EAAoBzC,EAAcoB,qBAAqB,GACvD,CAACE,EAAWC,EAAW,CAAG,CAACiB,EAAmBd,cAAc,CAAEc,EAAmBb,eAAe,CAAC,CAAC3H,GAAG,CAAC8H,GAAKC,SAASD,EAAG,KAAO,GAC9HY,EAAe,CACjBV,IAAKS,EAAkBT,GAAG,CAAGV,EAC7BW,KAAMQ,EAAkBR,IAAI,CAAGV,CACnC,EACA,OAAOoB,SA4E4BC,CAAY,CAAEC,CAAgB,CAAEC,CAAY,CAAEC,CAAU,CAAE,CAAEC,KAAAA,CAAI,CAAEC,MAAAA,CAAK,CAAEC,iBAAAA,CAAgB,CAAEC,aAAAA,CAAY,CAAEC,gBAAAA,CAAe,CAAE,EAC7J,IAAMC,EAAuB,CACzBrB,IAAKY,EAAaZ,GAAG,CAAGa,EAAiBb,GAAG,CAC5CC,KAAMW,EAAaX,IAAI,CAAGY,EAAiBZ,IAAI,CAC/CC,MAAOU,EAAaV,KAAK,CACzBC,OAAQS,EAAaT,MAAM,EAE3BmB,EAAMC,EAAkBT,EAAcC,EAAYC,EAAMC,EAAOE,EAAcC,GAC7EI,EAAaR,EACbS,EAAcR,EAGlB,GAFAK,EAAItB,GAAG,EAAIa,EAAiBb,GAAG,CAC/BsB,EAAIrB,IAAI,EAAIY,EAAiBZ,IAAI,CAC7B,CAACiB,EAAkB,KA4HQF,EAAMU,EAULT,EAAOS,EArInC,IAAMC,EAAiBpE,CAAe,CAACyD,EAAK,CACxCY,EAAkB,EACtB,GAAID,EAAgB,CAChB,IAAIE,EAAWb,EACf,KAAOY,EAAkBD,EAAezH,MAAM,GAuHvB8G,EAtHOa,EAsHDH,EAtHWJ,EAuHhD,gBAAIN,GAA0BA,mBAAAA,EAClBU,EAAW1B,GAAG,CAAG8B,EAAoB9B,GAAG,EAC5C0B,EAAW1B,GAAG,CAAG+B,EAAkB5B,MAAM,CAAG2B,EAAoB3B,MAAM,CAAG2B,EAAoB9B,GAAG,CAG5F0B,EAAWzB,IAAI,CAAG6B,EAAoB7B,IAAI,EAC9CyB,EAAWzB,IAAI,CAAG8B,EAAkB7B,KAAK,CAAG4B,EAAoB5B,KAAK,CAAG4B,EAAoB7B,IAAI,GA7Hd,CAC9E,IAAM+B,EAAWL,CAAc,CAACC,IAAkB,CAClDC,EAAWG,EACXV,EAAMC,EAAkBT,EAAcC,EAAYiB,EAAUf,EAAOE,EAAcC,GACjFE,EAAItB,GAAG,EAAIa,EAAiBb,GAAG,CAC/BsB,EAAIrB,IAAI,EAAIY,EAAiBZ,IAAI,CACjCuB,EAAaQ,CACjB,CACJ,CACA,IAAMC,EAAqBzE,CAAmB,CAACyD,EAAM,CACjDiB,EAAmB,EACvB,GAAID,EAAoB,CACpB,IAAIE,EAAYlB,EAChB,KAAOiB,EAAmBD,EAAmB/H,MAAM,GAmH3B+G,EAlHOkB,EAkHAT,EAlHWJ,EAmHlD,QAAIL,EACOS,EAAWzB,IAAI,CAAG6B,EAAoB7B,IAAI,CAE5CgB,UAAAA,GAAqBA,WAAAA,EAClBS,EAAWzB,IAAI,CAAG8B,EAAkB7B,KAAK,CAAG4B,EAAoB7B,IAAI,CAAG6B,EAAoB5B,KAAK,EACpGwB,EAAWzB,IAAI,CAAG6B,EAAoB7B,IAAI,UAxH0C,CAChF,IAAMmC,EAAYH,CAAkB,CAACC,IAAmB,CACxDC,EAAYC,EACZd,EAAMC,EAAkBT,EAAcC,EAAYS,EAAYY,EAAWjB,EAAcC,GACvFE,EAAItB,GAAG,EAAIa,EAAiBb,GAAG,CAC/BsB,EAAIrB,IAAI,EAAIY,EAAiBZ,IAAI,CACjCwB,EAAcW,CAClB,CACJ,CACId,EAAItB,GAAG,CAAGqB,EAAqBrB,GAAG,EAClCsB,CAAAA,EAAItB,GAAG,CAAGqB,EAAqBrB,GAAG,EAElCsB,EAAIrB,IAAI,CAAGoB,EAAqBpB,IAAI,EACpCqB,CAAAA,EAAIrB,IAAI,CAAGoB,EAAqBpB,IAAI,EAEpCqB,EAAIrB,IAAI,CAAGa,EAAaZ,KAAK,CAAGU,EAAaV,KAAK,CAAGmB,EAAqBpB,IAAI,EAC9EqB,CAAAA,EAAIrB,IAAI,CAAGW,EAAaV,KAAK,CAAGmB,EAAqBpB,IAAI,CAAGa,EAAaZ,KAAK,EAE9EyB,GAAkBC,EAAkBD,EAAezH,MAAM,EACrDoH,EAAItB,GAAG,CAAGc,EAAaX,MAAM,CAAGS,EAAaT,MAAM,CAAGkB,EAAqBrB,GAAG,EAC9EsB,CAAAA,EAAItB,GAAG,CAAGI,KAAKC,GAAG,CAACO,EAAaT,MAAM,CAAGkB,EAAqBrB,GAAG,CAAGc,EAAaX,MAAM,CAAE,EAAC,CAGtG,CACA,OAAOkC,OAAOC,MAAM,CAACD,OAAOC,MAAM,CAAC,CAAC,EAAGhB,GAAM,CAAEE,WAAAA,EAAYC,YAAAA,CAAY,EAC3E,EArIyC5C,EAAc6B,EAAc7C,EAAgBuB,qBAAqB,GAAItB,aAAyBiB,QAAUjB,EAAcsB,qBAAqB,GAAKtB,EAAeyE,SAgE5KxE,EAAW,CAAC,CAAC,EACrC,IAAI7E,EAAIC,EAAIC,EAAIoJ,EAAIC,EACpB,IAAMzB,EAAO,OAAC9H,CAAAA,EAAK6E,EAASiD,IAAI,GAAc9H,KAAY,IAAZA,EAAgBA,EAAKwJ,EAAiB1B,IAAI,CAClFC,EAAQ,OAAC9H,CAAAA,EAAK4E,EAASkD,KAAK,GAAc9H,KAAY,IAAZA,EAAgBA,EAAKuJ,EAAiBzB,KAAK,CAC3F,MAAO,CACHD,KAAAA,EACAC,MAAAA,EACAE,aAAc,OAAC/H,CAAAA,EAAK2E,EAASoD,YAAY,GAAc/H,KAAY,IAAZA,EAAgBA,EAAM4H,kBAAAA,EAA2B,EAAI0B,EAAiBvB,YAAY,CACzIC,gBAAiB,OAACoB,CAAAA,EAAKzE,EAASqD,eAAe,GAAcoB,KAAY,IAAZA,EAAgBA,EAAMvB,WAAAA,GAAsBD,EAAKxH,UAAU,CAAC,UAAYkJ,EAAiBtB,eAAe,CAAG,EACxKF,iBAAkB,OAACuB,CAAAA,EAAK1E,EAASmD,gBAAgB,GAAcuB,KAAY,IAAZA,EAAgBA,EAAKC,EAAiBxB,gBAAgB,CAE7H,EA3E2NnD,GAC3N,CAwDA,IAAM2E,EAAmB,CACrB1B,KAAM,iBACNC,MAAO,QACPE,aAAc,EACdC,gBAAiB,EACjBF,iBAAkB,EACtB,EAuEA,SAASK,EAAkBQ,CAAiB,CAAEY,CAAc,CAAE3B,CAAI,CAAEC,CAAK,CAAEE,CAAY,CAAEC,CAAe,EACpG,IAAMwB,EAAcD,EAAe1C,IAAI,CAAG0C,EAAezC,KAAK,CACxD2C,EAAeF,EAAe3C,GAAG,CAAG2C,EAAexC,MAAM,CAC3DH,EAAM,GACNC,EAAO,GAwEX,MAvEIe,gBAAAA,EACAhB,EAAM2C,EAAe3C,GAAG,CAAGmB,EAAeY,EAAkB5B,MAAM,CAE7Da,mBAAAA,EACLhB,EAAM6C,EAAe1B,EAEhBH,iBAAAA,EACLf,EAAO0C,EAAe1C,IAAI,CAAGkB,EAAeY,EAAkB7B,KAAK,CAErD,kBAATc,GACLf,CAAAA,EAAO2C,EAAczB,CAAW,EAEhCH,CAAAA,gBAAAA,GAA0BA,mBAAAA,CAAwB,IAE9Cf,EADAgB,UAAAA,EACO0B,EAAe1C,IAAI,CAAGmB,EAExBH,WAAAA,EACE0B,EAAe1C,IAAI,CAAG,CAAC8B,EAAkB7B,KAAK,CAAGyC,EAAezC,KAAK,EAAI,EAAIkB,EAG7EwB,EAAcb,EAAkB7B,KAAK,CAAGkB,GAGnDJ,CAAAA,iBAAAA,GAA2BA,kBAAAA,CAAuB,IAE9ChB,EADAiB,UAAAA,EACM0B,EAAe3C,GAAG,CAAGoB,EAEtBH,WAAAA,EACC0B,EAAe3C,GAAG,CAAG,CAAC+B,EAAkB5B,MAAM,CAAGwC,EAAexC,MAAM,EAAI,EAAIiB,EAG9EyB,EAAed,EAAkB5B,MAAM,CAAGiB,GAGpDJ,eAAAA,EACAhB,EAAM2C,EAAe3C,GAAG,CAAGmB,EAEtBH,kBAAAA,EACLhB,EAAM6C,EAAe1B,EAAeY,EAAkB5B,MAAM,CAEvDa,gBAAAA,EACLf,EAAO0C,EAAe1C,IAAI,CAAGkB,EAExBH,iBAAAA,EACLf,EAAO2C,EAAczB,EAAeY,EAAkB7B,KAAK,CAE7C,kBAATc,GACLf,CAAAA,EAAO,CAAC2C,EAAcD,EAAe1C,IAAI,EAAI,EAAI8B,EAAkB7B,KAAK,CAAG,EAAIiB,CAAW,EAE1FH,eAAAA,GAAyBA,kBAAAA,EAErBf,EADAgB,UAAAA,EACO0B,EAAe1C,IAAI,CAAGmB,EAExBH,WAAAA,EACE0B,EAAe1C,IAAI,CAAG,CAAC8B,EAAkB7B,KAAK,CAAGyC,EAAezC,KAAK,EAAI,EAAIkB,EAG7EwB,EAAcb,EAAkB7B,KAAK,CAAGkB,EAG9CJ,CAAAA,gBAAAA,GAA0BA,iBAAAA,GAA2BA,kBAAAA,CAAuB,IAE7EhB,EADAiB,UAAAA,EACM0B,EAAe3C,GAAG,CAAGoB,EAEtBH,WAAAA,EACC0B,EAAe3C,GAAG,CAAG,CAAC+B,EAAkB5B,MAAM,CAAGwC,EAAexC,MAAM,EAAI,EAAIiB,EAG9EyB,EAAed,EAAkB5B,MAAM,CAAGiB,GAGjD,CAAEpB,IAAAA,EAAKC,KAAAA,CAAK,CACvB,C,+BCvNI6C,EAA6BC,EAAmCC,EAAoCC,EAA4CC,EAA6BC,EAA2BC,EAAkCC,EAA6BC,EAA0BC,EAAwBC,EAA4BC,EAA4BC,ECNjXC,EAAwCC,ECAxCC,EAA8BC,EAAiCC,EAAoCC,ECAnGC,EAA2BC,EAAyCC,EAA2CC,EAAsDC,EAAwBC,EAA0BC,ECAvNC,EAAgCC,ECAhCC,EAAoCC,ECApCC,EAA2BC,EAAiCC,EAAuBC,EAAsBC,EAAqCC,EAA4BC,EAAwBC,EAAwCC,EAAiCC,ECA3QC,EAA2BC,ECM3BC,ECAAC,EAA8BC,EAAoCC,EAAkCC,EAA8BC,EAAwCC,EAAqCC,EAAkDC,EAAyCC,GAAiDC,GAAiDC,GAAsCC,GAAiCC,GAA2CC,GAA8CC,GAAwCC,GAAiCC,GAAkDC,GAAmCC,GAAyBC,GAAyBC,GAA2BC,GAAoCC,GAAgCC,G,wBTjB31BC,GAA0C,SAAUC,CAAU,CAAEjL,CAAM,CAAEkL,CAAG,CAAEC,CAAI,EACjF,IAA2HC,EAAvHC,EAAIC,UAAUrN,MAAM,CAAEsN,EAAIF,EAAI,EAAIrL,EAASmL,OAAAA,EAAgBA,EAAO/E,OAAOoF,wBAAwB,CAACxL,EAAQkL,GAAOC,EACrH,GAAI,iBAAOM,SAAwB,mBAAOA,QAAQC,QAAQ,CAAiBH,EAAIE,QAAQC,QAAQ,CAACT,EAAYjL,EAAQkL,EAAKC,QACpH,IAAK,IAAIQ,EAAIV,EAAWhN,MAAM,CAAG,EAAG0N,GAAK,EAAGA,IAASP,CAAAA,EAAIH,CAAU,CAACU,EAAE,GAAEJ,CAAAA,EAAI,CAACF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEpL,EAAQkL,EAAKK,GAAKH,EAAEpL,EAAQkL,EAAG,GAAMK,CAAAA,EAChJ,OAAOF,EAAI,GAAKE,GAAKnF,OAAOwF,cAAc,CAAC5L,EAAQkL,EAAKK,GAAIA,CAChE,EACIM,GAAkE,SAAUC,CAAQ,CAAE9Q,CAAK,CAAE+D,CAAK,CAAE8B,CAAI,CAAExE,CAAC,EAC3G,GAAIwE,MAAAA,EAAc,MAAM,UAAc,kCACtC,GAAIA,MAAAA,GAAgB,CAACxE,EAAG,MAAM,UAAc,iDAC5C,GAAI,mBAAOrB,EAAuB8Q,IAAa9Q,GAAS,CAACqB,EAAI,CAACrB,EAAM+Q,GAAG,CAACD,GAAW,MAAM,UAAc,2EACvG,MAAO,MAACjL,EAAexE,EAAE2P,IAAI,CAACF,EAAU/M,GAAS1C,EAAIA,EAAE0C,KAAK,CAAGA,EAAQ/D,EAAMiR,GAAG,CAACH,EAAU/M,GAASA,CACxG,EACImN,GAAkE,SAAUJ,CAAQ,CAAE9Q,CAAK,CAAE6F,CAAI,CAAExE,CAAC,EACpG,GAAIwE,MAAAA,GAAgB,CAACxE,EAAG,MAAM,UAAc,iDAC5C,GAAI,mBAAOrB,EAAuB8Q,IAAa9Q,GAAS,CAACqB,EAAI,CAACrB,EAAM+Q,GAAG,CAACD,GAAW,MAAM,UAAc,4EACvG,MAAOjL,MAAAA,EAAexE,EAAIwE,MAAAA,EAAexE,EAAE2P,IAAI,CAACF,GAAYzP,EAAIA,EAAE0C,KAAK,CAAG/D,EAAMoG,GAAG,CAAC0K,EACxF,EAIA,IAAMK,GAAwB,IAAIC,qBAAqB3O,IACnD,IAAK,IAAM9B,KAAS8B,EAAS,CACzB,IAAM4O,EAAS1Q,EAAMqE,MAAM,CACvBrE,EAAM2Q,cAAc,EAAID,aAAkBE,IAC1CF,EAAOG,MAAM,EAErB,CACJ,GACMC,GAAiB,IAAIC,eAAejP,IACtC,IAAK,IAAM9B,KAAS8B,EAAS,CACzB,IAAM4O,EAAS1Q,EAAMqE,MAAM,CACvBqM,aAAkBE,IAClBF,EAAOG,MAAM,CAAC7Q,EAAMgR,WAAW,CAEvC,CACJ,GACIJ,GAAmB,MAAMA,yBAAyBnO,YAClDvD,aAAc,CACV,KAAK,IAAIyQ,WACTzE,EAA4B+F,GAAG,CAAC,IAAI,EACpC9F,EAAkCmF,GAAG,CAAC,IAAI,CAAE,KAAK,GACjDlF,EAAmCkF,GAAG,CAAC,IAAI,CAAE,KAAK,GAClDjF,EAA2CiF,GAAG,CAAC,IAAI,CAAE,KACzD,CACA5N,mBAAoB,CAChB,IAAIpB,EAAIC,EAAIC,EAAIoJ,EAIhB,IAAK,IAAM3K,KAHXiQ,GAAuB,IAAI,CAAE9E,EAAoC,OAAC9J,CAAAA,EAAK,IAAI,CAAC4P,WAAW,GAAc5P,KAAY,IAAZA,EAAgBA,EAAKqH,IAAU,KACpIuH,GAAuB,IAAI,CAAE/E,EAAmC,OAAC5J,CAAAA,EAAK,IAAI,CAAC4P,aAAa,CAACD,WAAW,GAAc3P,KAAY,IAAZA,EAAgBA,EAAKoH,IAAU,KAE9H,IAAI,CAAC/I,KAAK,EAAE,CAC3B,IAAM0I,EAAQrI,EAAKuH,qBAAqB,GAAGc,KAAK,CAC1C8I,EAAajJ,SAAS,OAAC3G,CAAAA,EAAKgD,OAAOuC,gBAAgB,CAAC9G,EAAI,GAAeuB,KAAY,IAAZA,EAAgB,KAAK,EAAIA,EAAG4P,UAAU,CAAE,IAC/GC,EAAclJ,SAAS,OAACyC,CAAAA,EAAKpG,OAAOuC,gBAAgB,CAAC9G,EAAI,GAAe2K,KAAY,IAAZA,EAAgB,KAAK,EAAIA,EAAGyG,WAAW,CAAE,IACvHpR,EAAKoD,YAAY,CAAC,oBAAqB,CAAC,EAAEiF,EAAQ8I,EAAaC,EAAY,CAAC,CAChF,CACAP,GAAeQ,OAAO,CAAC,IAAI,EAC3Bd,GAAsBc,OAAO,CAAC,IAAI,EAClC7M,WAAW,KACP,IAAI,CAAC8M,KAAK,CAAClK,QAAQ,CAAG,UACtB,IAAI,CAACwJ,MAAM,EACf,EAAG,GACP,CACA5N,sBAAuB,CACnB6N,GAAeU,SAAS,CAAC,IAAI,EAC7BhB,GAAsBgB,SAAS,CAAC,IAAI,CACxC,CACAC,cAAcrN,CAAK,CAAE,CACjB,IAAI9C,EACJ,IAAMgD,EAAgBF,EAAME,aAAa,CACnChF,EAAKgF,MAAAA,EAAqD,KAAK,EAAIA,EAAciB,YAAY,CAAC,YAChGjG,GACA,QAACgC,CAAAA,EAAKoF,SAASgL,cAAc,CAACpS,EAAE,GAAegC,KAAY,IAAZA,GAAyBA,EAAGqQ,KAAK,EAAC,CAEzF,CACAd,OAAOe,EAAO,IAAI,CAACpK,qBAAqB,EAAE,CAAE,CAEpCoK,EAAKtJ,KAAK,EAAIiI,GAAuB,IAAI,CAAEnF,EAAoC,MAAQmF,IAAAA,GAAuB,IAAI,CAAEnF,EAAoC,KACxJmF,GAAuB,IAAI,CAAErF,EAA6B,IAAKQ,GAA0B2E,IAAI,CAAC,IAAI,EAE7FuB,EAAKtJ,KAAK,CAAGiI,GAAuB,IAAI,CAAEnF,EAAoC,MACnFmF,GAAuB,IAAI,CAAErF,EAA6B,IAAKS,GAAwB0E,IAAI,CAAC,IAAI,EAEpGH,GAAuB,IAAI,CAAE9E,EAAoCwG,EAAKtJ,KAAK,CAAE,KACzEsJ,EAAKtJ,KAAK,EAAIiI,GAAuB,IAAI,CAAEpF,EAAmC,KAC9E,IAAI,CAACoG,KAAK,CAACM,cAAc,CAAG,gBAG5B,IAAI,CAACN,KAAK,CAACM,cAAc,CAAG,WAE5BtB,GAAuB,IAAI,CAAElF,EAA4C,MACzEkF,GAAuB,IAAI,CAAElF,EAA4C,KAAKyG,KAAK,GAEvF5B,GAAuB,IAAI,CAAE7E,EAA4C,UAAU,IAAI,CAAE,CACrF0G,SAAU,KAAS,CAACC,eAAe,CAAG,KAAS,CAACC,UAAU,CAC1DC,iBAAkB,OAClBC,uBAAwB7L,GACbiK,GAAuB,IAAI,CAAErF,EAA6B,IAAKI,GAA6B+E,IAAI,CAAC,IAAI,CAAE/J,EAEtH,GAAI,IACR,CACJ,EACA6E,EAAoC,IAAIiH,QACxChH,EAAqC,IAAIgH,QACzC/G,EAA6C,IAAI+G,QACjDlH,EAA8B,IAAImH,QAClC/G,EAA8B,SAAqChF,CAAO,QAItE,YAAI,OAAOA,EAAQgM,eAAe,CACvBhM,EAAQgM,eAAe,GAC3BC,CAAAA,CAAQjM,CAAAA,EAAQkM,YAAY,EAAIlM,EAAQ4K,WAAW,EAAI5K,EAAQmM,YAAY,CACtF,EACAlH,EAA4B,WACxB,IAAIjK,EACJ,OAAO6G,SAAS,OAAC7G,CAAAA,EAAKkD,OAAOuC,gBAAgB,CAAC,IAAI,CAACoK,aAAa,IAAe7P,KAAY,IAAZA,EAAgB,KAAK,EAAIA,EAAGoR,SAAS,CAAE,KAAO,CACjI,EACAlH,EAAmC,WAE/B,OAAO,IAAI,CAAC0F,WAAW,CAAG,IAAI,CAACC,aAAa,CAACD,WAAW,EAE5DzF,EAA8B,kBAC1B,IAAQ,CAACkH,QAAQ,CAACC,MAAM,CACb,EAEJ,IAAI,CAACD,QAAQ,CAACzB,WAAW,CAAGX,GAAuB,IAAI,CAAErF,EAA6B,IAAKK,GAA2B8E,IAAI,CAAC,IAAI,CAC1I,EACA3E,EAA2B,WACvB,GAAI,IAAI,CAAC9L,KAAK,CAAC,EAAE,CAACgT,MAAM,CACpB,OAEJ,IAAIC,EAAQ,IAAI,CAACjT,KAAK,CAAC0C,MAAM,CAAG,EAChC,IAAK,IAAMrC,KAAQ,IAAI,CAACL,KAAK,CAACkT,OAAO,GAAI,CACrC,GAAI,CAAC7S,EAAK2S,MAAM,EAAIrC,GAAuB,IAAI,CAAErF,EAA6B,IAAKM,GAAkC6E,IAAI,CAAC,IAAI,EAAIE,GAAuB,IAAI,CAAErF,EAA6B,IAAKO,GAA6B4E,IAAI,CAAC,IAAI,EACnOE,GAAuB,IAAI,CAAErF,EAA6B,IAAKW,GAA4BwE,IAAI,CAAC,IAAI,CAAEwC,QAErG,GAAItC,GAAuB,IAAI,CAAErF,EAA6B,IAAKM,GAAkC6E,IAAI,CAAC,IAAI,GAAKE,GAAuB,IAAI,CAAErF,EAA6B,IAAKO,GAA6B4E,IAAI,CAAC,IAAI,EACzN,MAEJwC,CAAAA,GACJ,CACJ,EACAlH,EAAyB,WAErB,GAAI,CAAC,IAAI,CAAC/L,KAAK,CAAC,IAAI,CAACA,KAAK,CAAC0C,MAAM,CAAG,EAAE,CAACsQ,MAAM,CACzC,OAEJ,IAAIC,EAAQ,EACZ,IAAK,IAAM5S,KAAQ,IAAI,CAACL,KAAK,CAAE,CAC3B,GAAIK,EAAK2S,MAAM,CAAE,CACb,IAAM1B,EAAc6B,OAAO9S,EAAKsF,YAAY,CAAC,sBAC7C,GAAIgL,CAAAA,CAAAA,GAAuB,IAAI,CAAErF,EAA6B,IAAKM,GAAkC6E,IAAI,CAAC,IAAI,GAAKE,GAAuB,IAAI,CAAErF,EAA6B,IAAKO,GAA6B4E,IAAI,CAAC,IAAI,EAAIa,CAAU,GAAK2B,IAAU,IAAI,CAACjT,KAAK,CAAC0C,MAAM,CAAG,EAIrQ,OAHAiO,GAAuB,IAAI,CAAErF,EAA6B,IAAKU,GAA4ByE,IAAI,CAAC,IAAI,CAAEwC,EAK9G,CACAA,GACJ,CACK,IAAI,CAACjT,KAAK,CAAC,IAAI,CAACA,KAAK,CAAC0C,MAAM,CAAG,EAAE,CAACsQ,MAAM,EACzC,KAAI,CAACD,QAAQ,CAACC,MAAM,CAAG,EAAG,CAElC,EACAhH,EAA6B,SAAoCiH,CAAK,EAClE,IAAI,CAACjT,KAAK,CAACiT,EAAM,CAACD,MAAM,CAAG,GAC3BrC,GAAuB,IAAI,CAAErF,EAA6B,IAAKY,EAAgC,CAAC+G,EAAM,CAACD,MAAM,CAAG,EACpH,EACA/G,EAA6B,SAAoCgH,CAAK,EAClE,IAAI,CAACjT,KAAK,CAACiT,EAAM,CAACD,MAAM,CAAG,GAC3BrC,GAAuB,IAAI,CAAErF,EAA6B,IAAKY,EAAgC,CAAC+G,EAAM,CAACD,MAAM,CAAG,GAC5G,IAAI,CAACD,QAAQ,CAACC,MAAM,EACpB,KAAI,CAACD,QAAQ,CAACC,MAAM,CAAG,EAAI,CAEnC,EACA9G,EAAkC,WAC9B,OAAO,IAAI,CAAC6G,QAAQ,CAACK,gBAAgB,CAAC,qBAC1C,EACA3D,GAAW,CACP,KAAO,CACV,CAAEuB,GAAiBqC,SAAS,CAAE,QAAS,KAAK,GAC7C5D,GAAW,CACP,KAAM,CACT,CAAEuB,GAAiBqC,SAAS,CAAE,gBAAiB,KAAK,GACrD5D,GAAW,CACP,KAAM,CACT,CAAEuB,GAAiBqC,SAAS,CAAE,WAAY,KAAK,GAChDrC,GAAmBvB,GAAW,CAC1B,KAAU,CACb,CAAEuB,IACHpM,OAAOoM,gBAAgB,CAAGA,G,yBC9LtB,GAAkE,SAAUT,CAAQ,CAAE9Q,CAAK,CAAE6F,CAAI,CAAExE,CAAC,EACpG,GAAIwE,MAAAA,GAAgB,CAACxE,EAAG,MAAM,UAAc,iDAC5C,GAAI,mBAAOrB,EAAuB8Q,IAAa9Q,GAAS,CAACqB,EAAI,CAACrB,EAAM+Q,GAAG,CAACD,GAAW,MAAM,UAAc,4EACvG,MAAOjL,MAAAA,EAAexE,EAAIwE,MAAAA,EAAexE,EAAE2P,IAAI,CAACF,GAAYzP,EAAIA,EAAE0C,KAAK,CAAG/D,EAAMoG,GAAG,CAAC0K,EACxF,EACI,GAAkE,SAAUA,CAAQ,CAAE9Q,CAAK,CAAE+D,CAAK,CAAE8B,CAAI,CAAExE,CAAC,EAC3G,GAAIwE,MAAAA,EAAc,MAAM,UAAc,kCACtC,GAAIA,MAAAA,GAAgB,CAACxE,EAAG,MAAM,UAAc,iDAC5C,GAAI,mBAAOrB,EAAuB8Q,IAAa9Q,GAAS,CAACqB,EAAI,CAACrB,EAAM+Q,GAAG,CAACD,GAAW,MAAM,UAAc,2EACvG,MAAO,MAACjL,EAAexE,EAAE2P,IAAI,CAACF,EAAU/M,GAAS1C,EAAIA,EAAE0C,KAAK,CAAGA,EAAQ/D,EAAMiR,GAAG,CAACH,EAAU/M,GAASA,CACxG,EAGA,IAAM8P,GAAoB,CAAC,KACvB,IAAMC,EAAU,IAAIC,IAChBC,EAAuB,KACvBvC,EAAiB,KACrB,SAASwC,IACL,IAAK,IAAMC,KAAUJ,EACjBI,EAAO1C,MAAM,EAErB,CACA,OAAO,IAEHrM,OAAO7B,gBAAgB,CAAC,SAAU2Q,GAClCD,GAAyBA,CAAAA,EAAuB,IAAI5C,qBAAqB3O,IACrE,IAAK,IAAM9B,KAAS8B,EAAS,CACzB,IAAMuC,EAASrE,EAAMqE,MAAM,CACvBrE,EAAM2Q,cAAc,EACpBtM,EAAOwM,MAAM,GACbsC,EAAQlC,GAAG,CAAC5M,IAGZ8O,EAAQK,MAAM,CAACnP,EAEvB,CACJ,EAAC,EACDyM,GAAmBA,CAAAA,EAAiB,IAAIC,eAAe,KACnD,IAAK,IAAMwC,KAAUJ,EACjBI,EAAO1C,MAAM,EAErB,EAAC,EACDC,EAAeQ,OAAO,CAACmC,EAAGC,aAAa,CAACC,eAAe,EACvDN,EAAqB/B,OAAO,CAACmC,EACjC,CACJ,KACA,kCAAMG,gCAAgCnR,YAClCvD,aAAc,CACV,KAAK,IAAIyQ,WACT5D,EAAuCuE,GAAG,CAAC,IAAI,CAAE,MACjDtE,EAAwCsE,GAAG,CAAC,IAAI,CAAE,KAAK,EAC3D,CACA,IAAIjH,OAAQ,CACR,IAAMjG,EAAQ,IAAI,CAACmC,YAAY,CAAC,eAChC,WAAInC,GAAsBA,QAAAA,EACfA,EACJ,OACX,CACA,IAAIiG,MAAMjG,CAAK,CAAE,CACb,IAAI,CAACC,YAAY,CAAC,QAAS,CAAC,EAAED,EAAM,CAAC,CACzC,CACA,IAAIgG,MAAO,CACP,IAAMhG,EAAQ,IAAI,CAACmC,YAAY,CAAC,cAChC,eAAInC,GACAA,kBAAAA,GACAA,gBAAAA,GACAA,iBAAAA,GACAA,kBAAAA,GACAA,gBAAAA,GACAA,iBAAAA,GACAA,kBAAAA,EACOA,EAEJ,gBACX,CACA,IAAIgG,KAAKhG,CAAK,CAAE,CACZ,IAAI,CAACC,YAAY,CAAC,OAAQ,CAAC,EAAED,EAAM,CAAC,CACxC,CACA,IAAImG,cAAe,CACf,IAAMsK,EAAQ,IAAI,CAACtO,YAAY,CAAC,uBAChC,aAAIsO,GAAwBA,MAAAA,EACjB,EACJ,CACX,CACA,IAAItK,aAAanG,CAAK,CAAE,CACpB,IAAI,CAACC,YAAY,CAAC,gBAAiB,CAAC,EAAED,EAAM,CAAC,CACjD,CACA,IAAImQ,QAAS,CACT,OAAO,IAAI,CAAChO,YAAY,CAAC,WAAa,EAC1C,CACA,IAAIgO,OAAOnQ,CAAK,CAAE,CACd,IAAI,CAACC,YAAY,CAAC,SAAU,CAAC,EAAED,EAAM,CAAC,CAC1C,CACA,IAAI8C,eAAgB,CAChB,GAAI,GAAuB,IAAI,CAAE6F,EAAwC,KACrE,OAAO,GAAuB,IAAI,CAAEA,EAAwC,KAChF,IAAM+H,EAAQ,IAAI,CAACP,MAAM,QACzB,EAEO,IAAI,CAACG,aAAa,CAAChC,cAAc,CAACoC,GAD9B,IAEf,CACA,IAAI5N,cAAc9C,CAAK,CAAE,CACrB,GAAuB,IAAI,CAAE2I,EAAwC3I,EAAO,KACvE,GAAuB,IAAI,CAAE2I,EAAwC,MACtE,IAAI,CAACzI,eAAe,CAAC,SAE7B,CACA,IAAIkG,iBAAkB,CAClB,OAAOuJ,OAAO,IAAI,CAACxN,YAAY,CAAC,oBACpC,CACA,IAAIiE,gBAAgBpG,CAAK,CAAE,CACvB,IAAI,CAACC,YAAY,CAAC,mBAAoB,CAAC,EAAED,EAAM,CAAC,CACpD,CACA,IAAIkG,kBAAmB,CACnB,OAAO,IAAI,CAACnG,YAAY,CAAC,sBAC7B,CACA,IAAImG,iBAAiBlG,CAAK,CAAE,CACxB,IAAI,CAAC2Q,eAAe,CAAC,sBAAuB3Q,EAChD,CACAV,mBAAoB,CAChB,IAAI,CAACmO,MAAM,GACX,IAAI,CAAClO,gBAAgB,CAAC,eAAgB,IAAM,IAAI,CAACkO,MAAM,IACvDqC,GAAkB,IAAI,CAC1B,CACAc,0BAA2B,CACvB,IAAI,CAACnD,MAAM,EACf,CACAA,QAAS,CACA,IAAI,CAACoD,WAAW,GAErBC,qBAAqB,GAAuB,IAAI,CAAElI,EAAyC,MAC3F,GAAuB,IAAI,CAAEA,EAAyCmI,sBAAsB,KACxF,IAAMZ,EAAS,IAAI,CAACrN,aAAa,CAEjC,GADA,IAAI,CAACkO,SAAS,CAACC,MAAM,CAAC,eAAgB,CAACd,GACnCA,EAAQ,CACR,GAAM,CAAElL,KAAAA,CAAI,CAAED,IAAAA,CAAG,CAAE,CAAG,SAAoB,IAAI,CAAEmL,EAAQ,IAAI,CAC5D,KAAI,CAAChC,KAAK,CAACnJ,GAAG,CAAG,CAAC,EAAEA,EAAI,EAAE,CAAC,CAC3B,IAAI,CAACmJ,KAAK,CAAClJ,IAAI,CAAG,CAAC,EAAEA,EAAK,EAAE,CAAC,CAC7B,IAAI,CAACkJ,KAAK,CAAC+C,MAAM,CAAG,OACpB,IAAI,CAAC/C,KAAK,CAACgD,KAAK,CAAG,MACvB,MAEI,IAAI,CAAChD,KAAK,CAACnJ,GAAG,CAAG,IACjB,IAAI,CAACmJ,KAAK,CAAClJ,IAAI,CAAG,IAClB,IAAI,CAACkJ,KAAK,CAAC+C,MAAM,CAAG,IACpB,IAAI,CAAC/C,KAAK,CAACgD,KAAK,CAAG,GAE3B,GAAI,KACR,CACJ,EACAxI,EAAyC,IAAIqG,QAAWpG,EAA0C,IAAIoG,QACtGwB,wBAAwBY,kBAAkB,CAAG,CAAC,QAAS,OAAQ,SAAU,mBAAoB,sBAAsB,CAE9GhP,eAAeC,GAAG,CAAC,uBACpBjB,OAAOoP,uBAAuB,CAAGA,wBACjCpO,eAAeE,MAAM,CAAC,oBAAqBkO,0B,SC3J/C,IAAI,GAAkE,SAAUzD,CAAQ,CAAE9Q,CAAK,CAAE+D,CAAK,CAAE8B,CAAI,CAAExE,CAAC,EAC3G,GAAIwE,MAAAA,EAAc,MAAM,UAAc,kCACtC,GAAIA,MAAAA,GAAgB,CAACxE,EAAG,MAAM,UAAc,iDAC5C,GAAI,mBAAOrB,EAAuB8Q,IAAa9Q,GAAS,CAACqB,EAAI,CAACrB,EAAM+Q,GAAG,CAACD,GAAW,MAAM,UAAc,2EACvG,MAAO,MAACjL,EAAexE,EAAE2P,IAAI,CAACF,EAAU/M,GAAS1C,EAAIA,EAAE0C,KAAK,CAAGA,EAAQ/D,EAAMiR,GAAG,CAACH,EAAU/M,GAASA,CACxG,EACI,GAAkE,SAAU+M,CAAQ,CAAE9Q,CAAK,CAAE6F,CAAI,CAAExE,CAAC,EACpG,GAAIwE,MAAAA,GAAgB,CAACxE,EAAG,MAAM,UAAc,iDAC5C,GAAI,mBAAOrB,EAAuB8Q,IAAa9Q,GAAS,CAACqB,EAAI,CAACrB,EAAM+Q,GAAG,CAACD,GAAW,MAAM,UAAc,4EACvG,MAAOjL,MAAAA,EAAexE,EAAIwE,MAAAA,EAAexE,EAAE2P,IAAI,CAACF,GAAYzP,EAAIA,EAAE0C,KAAK,CAAG/D,EAAMoG,GAAG,CAAC0K,EACxF,EAIA,IAAMsE,GAAmBC,CADD,oBAAqB,4BAA6B,yBAAyB,CAC3DtU,GAAG,CAACuU,GAAY,CAAC,iBAAiB,EAAEA,EAAS,CAAC,EAAEC,IAAI,CAAC,MACvFC,GAAiB,IAAY,IAAIvT,EAAI,OAAO,OAACA,CAAAA,EAAKrB,EAAK6U,WAAW,GAAcxT,KAAY,IAAZA,EAAgB,KAAK,EAAIA,EAAGyT,IAAI,EAAE,CAAC,EAAE,CAACC,WAAW,EAAI,EACrIC,GAAY,OAClB,4BAAMC,0BAA0BzS,YAC5BvD,aAAc,CACV,KAAK,IAAIyQ,WACT1D,EAA6BgF,GAAG,CAAC,IAAI,EACrC/E,EAAgCoE,GAAG,CAAC,IAAI,CAAE,MAC1CnE,EAAmCmE,GAAG,CAAC,IAAI,CAAE,KACjD,CACA,IAAI6E,QAAS,CACT,OAAO,IAAI,CAAChS,YAAY,CAAC,SAC7B,CACA,IAAIgS,OAAO/R,CAAK,CAAE,CACd,IAAI,CAAC2Q,eAAe,CAAC,SAAU3Q,EACnC,CACA,IAAIgS,WAAY,OACZ,eAAI,IAAI,CAAC7P,YAAY,CAAC,aACX,aACJ,UACX,CACA,IAAI6P,UAAUhS,CAAK,CAAE,CACjB,IAAI,CAACC,YAAY,CAAC,YAAa,CAAC,EAAED,EAAM,CAAC,CAC7C,CACA,IAAIiS,QAAS,CACT,OAAO,IAAI,CAAClS,YAAY,CAAC,SAC7B,CACA,IAAIkS,OAAOjS,CAAK,CAAE,CACd,IAAI,CAAC2Q,eAAe,CAAC,SAAU3Q,EACnC,CACA,IAAIkS,WAAY,CACZ,OAAO,IAAI,CAACnS,YAAY,CAAC,YAC7B,CACAT,mBAAoB,CAChB,GAAuB,IAAI,CAAEyJ,EAAoC,IAAIoJ,gBAAmB,KACxF,GAAM,CAAEC,OAAAA,CAAM,CAAE,CAAG,GAAuB,IAAI,CAAErJ,EAAoC,KACpF,IAAI,CAACxJ,gBAAgB,CAAC,UAAW,IAAI,CAAE,CAAE6S,OAAAA,CAAO,GAChD,IAAI,CAAC7S,gBAAgB,CAAC,QAAS,IAAI,CAAE,CAAE6S,OAAAA,CAAO,GAC9C,IAAI,CAAC7S,gBAAgB,CAAC,YAAa,IAAI,CAAE,CAAE6S,OAAAA,CAAO,GAClD,IAAI,CAAC7S,gBAAgB,CAAC,UAAW,IAAI,CAAE,CAAE6S,OAAAA,CAAO,EACpD,CACAvS,sBAAuB,CACnB,IAAI3B,CACJ,QAACA,CAAAA,EAAK,GAAuB,IAAI,CAAE6K,EAAoC,IAAG,GAAe7K,KAAY,IAAZA,GAAyBA,EAAGwQ,KAAK,EAC9H,CACA2D,YAAYrR,CAAK,CAAE,CACf,IAAI9C,EACJ,GAAM,CAAE8T,UAAAA,CAAS,CAAED,OAAAA,CAAM,CAAE,CAAG,IAAI,CAClC,GAAI/Q,YAAAA,EAAMnD,IAAI,CACV,IAAI,IAAI,CAACoU,MAAM,EAAIjR,EAAMC,MAAM,YAAY8C,SAAW/C,EAAMC,MAAM,CAACoC,OAAO,CAACgO,IAAmB,CAC1F,OAACnT,CAAAA,EAAK,GAAuB,IAAI,CAAE4K,EAAiC,IAAG,GAAe5K,KAAY,IAAZA,GAAyBA,EAAGwQ,KAAK,GACvH,GAAM,CAAE0D,OAAAA,CAAM,CAAE,CAAI,GAAuB,IAAI,CAAEtJ,EAAiC,IAAIqJ,gBAAmB,KACzG,IAAK,IAAMtV,KAAQ,GAAuB,IAAI,CAAEgM,EAA8B,IAAKG,GAA+B,CAC9GnM,EAAKoD,YAAY,CAAC,WAAYpD,IAASmE,EAAMC,MAAM,CAAG,IAAM,MAC5D,IAAMqR,EAAUtR,EAAMC,MAAM,CAACsR,OAAO,CAAC,aACjC1V,IAASmE,EAAMC,MAAM,EAAI,CAACqR,MAAAA,EAAyC,KAAK,EAAIA,EAAQA,OAAO,IAAM,QAAUA,EAAQC,OAAO,CAAC,iBAAmB,IAAI,EAClJD,EAAQ/S,gBAAgB,CAAC,SAAU,IAC/B,IAAIrB,EAAIC,EACR,GAAMqU,EAAYvR,MAAM,YAAY8C,SAEhCyO,WAAAA,EAAYC,QAAQ,GACpB,OAACvU,CAAAA,EAAK,GAAuB,IAAI,CAAE4K,EAAiC,IAAG,GAAe5K,KAAY,IAAZA,GAAyBA,EAAGwQ,KAAK,GACvH7R,EAAKoD,YAAY,CAAC,WAAY,MAC1BqS,EAAQpW,EAAE,EAAE,CACZ,IAAMwW,EAAU,IAAI,CAACC,aAAa,CAAC,CAAC,gBAAgB,EAAEL,EAAQpW,EAAE,CAAC,EAAE,CAAC,EAChEwW,EACAA,EAAQzS,YAAY,CAAC,WAAY,KAGjC,OAAC9B,CAAAA,EAAK,GAAuB,IAAI,CAAE0K,EAA8B,IAAKG,EAA6B,CAAC,EAAE,GAAc7K,KAAY,IAAZA,GAAyBA,EAAG8B,YAAY,CAAC,WAAY,IAEjL,CAER,EAAG,CAAEmS,OAAAA,CAAO,EAEpB,CACJ,OAEC,GAAIpR,aAAiB4R,cAAe,CACrC,IAAMpW,EAAQC,MAAMC,IAAI,CAAC,GAAuB,IAAI,CAAEmM,EAA8B,IAAKG,IACrFyG,EAAQjT,EAAMoB,OAAO,CAACoD,EAAMC,MAAM,EAChCkL,EAAMnL,EAAMmL,GAAG,CACrB,GAAIA,OAAAA,GAAgBA,YAAAA,EACZ6F,CAAAA,aAAAA,GAA4BA,SAAAA,CAAmB,IAC/CvC,GAASA,EAAQ,EAAI,EAAI,EACzBzO,EAAMQ,cAAc,SAGvB,GAAI2K,SAAAA,GAAkBA,cAAAA,EACnB6F,CAAAA,aAAAA,GAA4BA,SAAAA,CAAmB,IAC/CvC,GAAS,EACTzO,EAAMQ,cAAc,SAGvB,GAAIR,SAAAA,EAAMmL,GAAG,EAAenL,cAAAA,EAAMmL,GAAG,CAClC6F,CAAAA,eAAAA,GAA8BA,SAAAA,CAAmB,IACjDvC,GAAS,EACTzO,EAAMQ,cAAc,SAGvB,GAAIR,UAAAA,EAAMmL,GAAG,EAAgBnL,eAAAA,EAAMmL,GAAG,CACnC6F,CAAAA,eAAAA,GAA8BA,SAAAA,CAAmB,IACjDvC,GAAS,EACTzO,EAAMQ,cAAc,SAGvB,GAAIR,SAAAA,EAAMmL,GAAG,EAAenL,WAAAA,EAAMmL,GAAG,CACtCsD,EAAQ,EACRzO,EAAMQ,cAAc,QAEnB,GAAIR,QAAAA,EAAMmL,GAAG,EAAcnL,aAAAA,EAAMmL,GAAG,CACrCsD,EAAQjT,EAAM0C,MAAM,CAAG,EACvB8B,EAAMQ,cAAc,OAEwB,CAA3C,IAAI,KAAI,CAAC0Q,SAAS,EAAIL,GAAU9P,IAAI,CAACoK,EAAG,EASzC,OARA,IAAM0G,EAAW1G,EAAIyF,WAAW,GAC1BkB,EAASrD,EAAQ,GAAKgC,GAAezQ,EAAMC,MAAM,IAAM4R,EAAWpD,EAAQ,EAChFA,CAAAA,EAAQjT,EAAMuW,SAAS,CAAC,CAAClW,EAAM+P,IAAMA,EAAIkG,GAAUrB,GAAe5U,KAAUgW,EAAQ,EACxE,GAAK,CAACd,GACdtC,CAAAA,EAAQjT,EAAMuW,SAAS,CAAClW,GAAQ4U,GAAe5U,KAAUgW,EAAQ,CAEzE,CAIId,GAAUtC,EAAQ,GAClBA,CAAAA,EAAQ,GACR,CAACsC,GAAUtC,GAASjT,EAAM0C,MAAM,EAChCuQ,CAAAA,EAAQ,GACZ,IAAMuD,EAAUxW,EAAMyW,EAAE,CAAC7N,KAAK8N,GAAG,CAACzD,EAAOjT,EAAM0C,MAAM,CAAG,GACxD,EACI,IAAImR,EAAK2C,EACT,EAES3C,CAAAA,MADLA,CAAAA,EAAKA,EAAGkC,OAAO,CAAC,+BAA8B,EACV,KAAK,EAAIlC,EAAGiC,OAAO,IAAM,QAAW,CAAC,aAAc,YAAY,CAACa,QAAQ,CAACnS,EAAMmL,GAAG,GAClHkE,EAAG7M,WAAW,GAElB6M,EAAK,CAACA,MAAAA,EAA+B,KAAK,EAAIA,EAAGrN,aAAa,GAAK,WAC9DqN,EAAI,CAEjB2C,MAAAA,GAAkDA,EAAQI,KAAK,EACnE,CACJ,CACJ,EACAtK,EAAkC,IAAIkG,QAAWjG,EAAqC,IAAIiG,QAAWnG,EAA+B,IAAIoG,QAAWjG,EAA+B,WAC9K,OAAO,IAAI,CAAC4G,gBAAgB,CAACyB,GACjC,EAEKjP,eAAeC,GAAG,CAAC,iBACpBjB,OAAO0Q,iBAAiB,CAAGA,kBAC3B1P,eAAeE,MAAM,CAAC,cAAewP,oBQpKzC,IAAMuB,GAAiB,IAAIrE,QACrBsE,GAAqB,IAAItE,QACzBuE,GAAsB,IAAIvE,QAChC,SAASwE,GAAaxS,CAAK,EACvB,IAAMqP,EAAKrP,EAAME,aAAa,CAC9B,GAAI,CAAEmP,CAAAA,aAAcoD,gBAAe,EAC/B,OACJ,GAAM,CAAEC,IAAAA,CAAG,CAAEC,MAAAA,CAAK,CAAE,CAAGJ,GAAoBlR,GAAG,CAACgO,IAAO,CAAC,EACvD,GAAI,CAACqD,GAAO,CAACC,EACT,OACJ,IAAIC,EAAS,EACTC,EAAS,EACb,GAAI7S,aAAiB4R,cACb5R,YAAAA,EAAMmL,GAAG,CACT0H,EAAS,GAEJ7S,cAAAA,EAAMmL,GAAG,CACd0H,EAAS,EAEJ7S,cAAAA,EAAMmL,GAAG,CACdyH,EAAS,GAEU,eAAd5S,EAAMmL,GAAG,EACdyH,CAAAA,EAAS,QAGZ,GAAIN,GAAmBtG,GAAG,CAACqD,IAAOrP,aAAiB8S,WAAY,CAChE,IAAMxN,EAAMgN,GAAmBjR,GAAG,CAACgO,GACnCuD,EAAS5S,EAAM+S,KAAK,CAAGzN,EAAI0N,UAAU,CACrCH,EAAS7S,EAAMiT,KAAK,CAAG3N,EAAI4N,UAAU,MAEpC,GAAIZ,GAAmBtG,GAAG,CAACqD,IAAOrP,aAAiBmT,WAAY,CAChE,GAAM,CAAEJ,MAAAA,CAAK,CAAEE,MAAAA,CAAK,CAAE,CAAGjT,EAAMoT,cAAc,CAAC,EAAE,CAC1C,CAAEJ,WAAAA,CAAU,CAAEE,WAAAA,CAAU,CAAE,CAAGZ,GAAmBjR,GAAG,CAACgO,GAC1DuD,EAASG,EAAQC,EACjBH,EAASI,EAAQC,CACrB,CACA,GAAIN,IAAAA,GAAgBC,IAAAA,EAAc,CAC9B,IAAMQ,EAAIjP,KAAK8N,GAAG,CAAC9N,KAAKC,GAAG,CAAC,EAAGqO,EAAIY,UAAU,CAAGV,GAASD,EAAMzO,KAAK,CAAGwO,EAAI5F,WAAW,EAChFyG,EAAInP,KAAK8N,GAAG,CAAC9N,KAAKC,GAAG,CAAC,EAAGqO,EAAIc,SAAS,CAAGX,GAASF,EAAMxO,MAAM,CAAGuO,EAAIrE,YAAY,CACvFqE,CAAAA,EAAIvF,KAAK,CAAClJ,IAAI,CAAG,CAAC,EAAEoP,EAAE,EAAE,CAAC,CACzBX,EAAIvF,KAAK,CAACnJ,GAAG,CAAG,CAAC,EAAEuP,EAAE,EAAE,CAAC,CACxBE,GAAgBpE,EAAI,CAAEgE,EAAAA,EAAGE,EAAAA,EAAGrP,MAAOwO,EAAI5F,WAAW,CAAE3I,OAAQuO,EAAIrE,YAAY,EAChF,CACA,GAAIrO,aAAiB8S,WACjBR,GAAmBpG,GAAG,CAACmD,EAAI,CACvB2D,WAAYhT,EAAM+S,KAAK,CACvBG,WAAYlT,EAAMiT,KAAK,QAG1B,GAAIjT,aAAiBmT,WAAY,CAClC,GAAM,CAAEJ,MAAAA,CAAK,CAAEE,MAAAA,CAAK,CAAE,CAAGjT,EAAMoT,cAAc,CAAC,EAAE,CAChDd,GAAmBpG,GAAG,CAACmD,EAAI,CACvB2D,WAAYD,EACZG,WAAYD,CAChB,EACJ,CACJ,CACA,SAASS,GAAe1T,CAAK,MAWrB4S,EAAQC,EAAQc,EAVpB,IAAM1T,EAASD,EAAMC,MAAM,CAC3B,GAAI,CAAEA,CAAAA,aAAkB5B,WAAU,EAC9B,OACJ,IAAMgR,EAAKuE,GAAc3T,GACzB,GAAI,CAAEoP,CAAAA,aAAcoD,gBAAe,EAC/B,OACJ,GAAM,CAAEC,IAAAA,CAAG,CAAE,CAAGH,GAAoBlR,GAAG,CAACgO,IAAO,CAAC,EAChD,GAAI,CAACqD,EACD,OACJ,IAAMlF,EAAO6B,EAAGjM,qBAAqB,GAErC,GAAIpD,aAAiB4R,cAAe,CAChC,GAAI5R,WAAAA,EAAMmL,GAAG,CACT,OAAO0I,GAAmBxE,GAK9B,GAJkB,MAAdrP,EAAMmL,GAAG,EACTwI,CAAAA,EAAQ,GAAE,EACI,MAAd3T,EAAMmL,GAAG,EACTwI,CAAAA,EAAQ,EAAE,EACV,CAACA,EACD,OACJf,EAASF,EAAI5F,WAAW,CAAG6G,EAC3Bd,EAASH,EAAIrE,YAAY,CAAGsF,EAC5BtB,GAAenG,GAAG,CAACmD,EAAI,CAAEyE,OAAQpB,EAAIY,UAAU,CAAES,OAAQrB,EAAIc,SAAS,EAC1E,MACK,GAAIxT,aAAiB8S,WAAY,CAClC,IAAMxN,EAAM+M,GAAehR,GAAG,CAACgO,GAC/B,GAAI,CAAC/J,EACD,OACJsN,EAAS5S,EAAM+S,KAAK,CAAGzN,EAAIwO,MAAM,CAAGtG,EAAKvJ,IAAI,CAAG7D,OAAO4T,WAAW,CAClEnB,EAAS7S,EAAMiT,KAAK,CAAG3N,EAAIyO,MAAM,CAAGvG,EAAKxJ,GAAG,CAAG5D,OAAO6T,WAAW,MAEhE,GAAIjU,aAAiBmT,WAAY,CAClC,IAAM7N,EAAM+M,GAAehR,GAAG,CAACgO,GAC/B,GAAI,CAAC/J,EACD,OACJsN,EAAS5S,EAAMoT,cAAc,CAAC,EAAE,CAACL,KAAK,CAAGzN,EAAIwO,MAAM,CAAGtG,EAAKvJ,IAAI,CAAG7D,OAAO4T,WAAW,CACpFnB,EAAS7S,EAAMoT,cAAc,CAAC,EAAE,CAACH,KAAK,CAAG3N,EAAIyO,MAAM,CAAGvG,EAAKxJ,GAAG,CAAG5D,OAAO6T,WAAW,CAEnFrB,GAAUC,GACVqB,GAAiB7E,EAAIuD,EAAQC,EAAQ,CAAE7S,CAAAA,aAAiB4R,aAAY,EAC5E,CACA,SAASgC,GAAcvE,CAAE,EACrB,IAAM8E,EAAW9E,EAAG+E,WAAW,UAC/B,aAA0BC,WAEnBF,EAASG,IAAI,CADTjF,CAEf,CACA,SAASkF,GAAYvU,CAAK,EACtB,IAAME,EAAgBF,EAAME,aAAa,CACzC,GAAI,CAAEA,CAAAA,aAAyB7B,WAAU,EACrC,OACJ,IAAMgR,EAAKuE,GAAc1T,GACzB,GAAI,CAAEmP,CAAAA,aAAcoD,gBAAe,EAC/B,OACJ,GAAM,CAAEC,IAAAA,CAAG,CAAE,CAAGH,GAAoBlR,GAAG,CAACgO,IAAO,CAAC,EAChD,GAAI,CAACqD,EACD,OACJ,IAAMzS,EAASD,EAAMC,MAAM,CAC3B,GAAMA,aAAkB5B,aAExB,GAAI4B,EAAOlB,YAAY,CAAC,kBAAmB,CACvC,IAAMiS,EAAY/Q,EAAOkB,YAAY,CAAC,mBAAqB,GAC3DkO,EAAG9Q,gBAAgB,CAAC,YAAamV,IACjCrE,EAAG9Q,gBAAgB,CAAC,YAAamV,GAAgB,CAAEc,QAAS,EAAK,GAC7D,CAAC,KAAM,KAAK,CAAC5X,OAAO,CAACoU,IAAc,GACnC3B,EAAGW,SAAS,CAACnD,GAAG,CAAC,QACjB,CAAC,KAAM,KAAK,CAACjQ,OAAO,CAACoU,IAAc,GACnC3B,EAAGW,SAAS,CAACnD,GAAG,CAAC,QACrBwF,GAAenG,GAAG,CAACmD,EAAI,CACnByE,OAAQpB,EAAIY,UAAU,CAAI,EAAC,KAAM,KAAK,CAAC1W,OAAO,CAACoU,IAAc,EAAI,EAAI0B,EAAI5F,WAAW,EACpFiH,OAAQrB,EAAIc,SAAS,CAAI,EAAC,KAAM,KAAK,CAAC5W,OAAO,CAACoU,IAAc,EAAI,EAAI0B,EAAIrE,YAAY,CACxF,GACAqF,GAAe1T,EACnB,MAEIqP,EAAG9Q,gBAAgB,CAAC,YAAaiU,IACjCnD,EAAG9Q,gBAAgB,CAAC,YAAaiU,GAAc,CAAEgC,QAAS,EAAK,GAEvE,CACA,SAASN,GAAiBjU,CAAM,CAAE2S,CAAM,CAAEC,CAAM,CAAE4B,EAAa,EAAI,EAC/D,IAAIC,EAAUtQ,KAAKC,GAAG,CAACD,KAAKuQ,GAAG,CAAC/B,GAASxO,KAAKuQ,GAAG,CAAC9B,GAAS,IACrDvN,EAAM+M,GAAehR,GAAG,CAACpB,GAC/B,GAAI,CAACqF,EACD,OACJ,GAAM,CAAEoN,IAAAA,CAAG,CAAEC,MAAAA,CAAK,CAAE,CAAGJ,GAAoBlR,GAAG,CAACpB,IAAW,CAAC,EAC3D,GAAI,CAACyS,GAAO,CAACC,EACT,OACJ+B,EAAUtQ,KAAK8N,GAAG,CAACwC,EAAS7B,EAAS,EAAIF,EAAMxO,MAAM,CAAGmB,EAAIyO,MAAM,CAAGzO,EAAIyO,MAAM,CAAEnB,EAAS,EAAID,EAAMzO,KAAK,CAAGoB,EAAIwO,MAAM,CAAGxO,EAAIwO,MAAM,EACnI,IAAMT,EAAIoB,EAAarQ,KAAKwQ,KAAK,CAACxQ,KAAKC,GAAG,CAAC,EAAGuO,EAAS,EAAItN,EAAIwO,MAAM,CAAGxO,EAAIwO,MAAM,CAAGY,IAAYhC,EAAIY,UAAU,CACzGC,EAAIkB,EAAarQ,KAAKwQ,KAAK,CAACxQ,KAAKC,GAAG,CAAC,EAAGwO,EAAS,EAAIvN,EAAIyO,MAAM,CAAGzO,EAAIyO,MAAM,CAAGW,IAAYhC,EAAIc,SAAS,CAC9Gd,EAAIvF,KAAK,CAAClJ,IAAI,CAAG,CAAC,EAAEoP,EAAE,EAAE,CAAC,CACzBX,EAAIvF,KAAK,CAACnJ,GAAG,CAAG,CAAC,EAAEuP,EAAE,EAAE,CAAC,CACxBb,EAAIvF,KAAK,CAACjJ,KAAK,CAAG,CAAC,EAAEwQ,EAAQ,EAAE,CAAC,CAChChC,EAAIvF,KAAK,CAAChJ,MAAM,CAAG,CAAC,EAAEuQ,EAAQ,EAAE,CAAC,CACjCjB,GAAgBxT,EAAQ,CAAEoT,EAAAA,EAAGE,EAAAA,EAAGrP,MAAOwQ,EAASvQ,OAAQuQ,CAAQ,EACpE,CACA,SAASb,GAAmBxE,CAAE,EAC1B,GAAM,CAAEsD,MAAAA,CAAK,CAAE,CAAGJ,GAAoBlR,GAAG,CAACgO,IAAO,CAAC,EAClD,GAAI,CAACsD,EACD,OACJ,IAAM3N,EAAOZ,KAAKwQ,KAAK,CAACjC,EAAMkC,WAAW,CAAGlC,EAAMmC,YAAY,CAAGnC,EAAMmC,YAAY,CAAGnC,EAAMkC,WAAW,EACvGxC,GAAenG,GAAG,CAACmD,EAAI,CACnByE,OAAQ,CAACnB,EAAMkC,WAAW,CAAG7P,CAAG,EAAK,EACrC+O,OAAQ,CAACpB,EAAMmC,YAAY,CAAG9P,CAAG,EAAK,CAC1C,GACAkP,GAAiB7E,EAAIrK,EAAMA,EAC/B,CACA,SAAS+P,GAAW/U,CAAK,EACrB,IAAMqP,EAAKrP,EAAME,aAAa,CACxBmP,aAAcoD,mBAEpBH,GAAmBlD,MAAM,CAACC,GAC1BA,EAAGW,SAAS,CAACgF,MAAM,CAAC,OAAQ,QAC5B3F,EAAGvQ,mBAAmB,CAAC,YAAa4U,IACpCrE,EAAGvQ,mBAAmB,CAAC,YAAa0T,IACpCnD,EAAGvQ,mBAAmB,CAAC,YAAa4U,IACpCrE,EAAGvQ,mBAAmB,CAAC,YAAa0T,IACxC,CACA,SAASiB,GAAgBxT,CAAM,CAAE1D,CAAM,EACnC,GAAM,CAAEoW,MAAAA,CAAK,CAAE,CAAGJ,GAAoBlR,GAAG,CAACpB,IAAW,CAAC,EACtD,GAAI,CAAC0S,EACD,OACJ,IAAMsC,EAAQtC,EAAMuC,YAAY,CAAGvC,EAAMzO,KAAK,CAC9C,IAAK,IAAMiH,KAAO5O,EAAQ,CACtB,IAAMyC,EAAQoF,KAAKwQ,KAAK,CAACrY,CAAM,CAAC4O,EAAI,CAAG8J,EACvC1Y,CAAAA,CAAM,CAAC4O,EAAI,CAAGnM,EACd,IAAMmW,EAAelV,EAAO0R,aAAa,CAAC,CAAC,wBAAwB,EAAExG,EAAI,EAAE,CAAC,EACxEgK,aAAwBjU,kBACxBiU,CAAAA,EAAanW,KAAK,CAAGA,EAAMyD,QAAQ,EAAC,CAC5C,CACAxC,EAAOT,aAAa,CAAC,IAAIC,YAAY,oBAAqB,CAAEC,QAAS,GAAME,OAAQrD,CAAO,GAC9F,CACA,2BAAMkW,yBAAyBpU,YAC3BC,mBAAoB,CAChB,GAAIiU,GAAoBvG,GAAG,CAAC,IAAI,EAC5B,OACJ,IAAMoJ,EAAa,IAAI,CAACC,YAAY,CAAC,CAAEC,KAAM,MAAO,EACpDF,CAAAA,EAAWG,SAAS,CAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EhC,CAAC,CACO,IAAM7C,EAAM0C,EAAWzD,aAAa,CAAC,mBACrC,GAAI,CAAEe,CAAAA,aAAerU,WAAU,EAC3B,OACJ,IAAMsU,EAAQyC,EAAWzD,aAAa,CAAC,OACjCgB,aAAiB6C,mBAEvBjD,GAAoBrG,GAAG,CAAC,IAAI,CAAE,CAAEwG,IAAAA,EAAKC,MAAAA,CAAM,GAC3CA,EAAMpU,gBAAgB,CAAC,OAAQ,KAC3B,IAAI,CAACkX,MAAM,CAAG,GACd5B,GAAmB,IAAI,CAC3B,GACA,IAAI,CAACtV,gBAAgB,CAAC,aAAcwW,IACpC,IAAI,CAACxW,gBAAgB,CAAC,WAAYwW,IAClC,IAAI,CAACxW,gBAAgB,CAAC,UAAWwW,IACjCrC,EAAInU,gBAAgB,CAAC,YAAagW,IAClC7B,EAAInU,gBAAgB,CAAC,aAAcgW,GAAa,CAAEC,QAAS,EAAK,GAChE,IAAI,CAACjW,gBAAgB,CAAC,UAAWiU,IACjC,IAAI,CAACjU,gBAAgB,CAAC,UAAWmV,IAC7B,IAAI,CAACgC,GAAG,EACR/C,CAAAA,EAAM+C,GAAG,CAAG,IAAI,CAACA,GAAG,EAC5B,CACA,WAAWtF,oBAAqB,CAC5B,MAAO,CAAC,MAAM,CAElB,IAAIsF,KAAM,CACN,OAAO,IAAI,CAACvU,YAAY,CAAC,MAC7B,CACA,IAAIuU,IAAIC,CAAG,CAAE,CACLA,EACA,IAAI,CAAC1W,YAAY,CAAC,MAAO0W,GAGzB,IAAI,CAACzW,eAAe,CAAC,MAE7B,CACA,IAAIuW,QAAS,CACT,OAAO,IAAI,CAAC1W,YAAY,CAAC,SAC7B,CACA,IAAI0W,OAAOE,CAAG,CAAE,CACRA,EACA,IAAI,CAAC1W,YAAY,CAAC,SAAU,IAG5B,IAAI,CAACC,eAAe,CAAC,SAE7B,CACA0Q,yBAAyBgG,CAAS,CAAEC,CAAQ,CAAEC,CAAQ,CAAE,CACpD,GAAM,CAAEnD,MAAAA,CAAK,CAAE,CAAGJ,GAAoBlR,GAAG,CAAC,IAAI,GAAK,CAAC,CAClC,SAAduU,IACA,IAAI,CAACH,MAAM,CAAG,GACV9C,GACAA,CAAAA,EAAM+C,GAAG,CAAGI,CAAO,EAE/B,CACJ,EAEK1V,OAAOgB,cAAc,CAACC,GAAG,CAAC,gBAC3BjB,OAAOqS,gBAAgB,CAAGA,iBAC1BrS,OAAOgB,cAAc,CAACE,MAAM,CAAC,aAAcmR,mB,SP7U/C,IAAI,GAA0C,SAAUvH,CAAU,CAAEjL,CAAM,CAAEkL,CAAG,CAAEC,CAAI,EACjF,IAA2HC,EAAvHC,EAAIC,UAAUrN,MAAM,CAAEsN,EAAIF,EAAI,EAAIrL,EAASmL,OAAAA,EAAgBA,EAAO/E,OAAOoF,wBAAwB,CAACxL,EAAQkL,GAAOC,EACrH,GAAI,iBAAOM,SAAwB,mBAAOA,QAAQC,QAAQ,CAAiBH,EAAIE,QAAQC,QAAQ,CAACT,EAAYjL,EAAQkL,EAAKC,QACpH,IAAK,IAAIQ,EAAIV,EAAWhN,MAAM,CAAG,EAAG0N,GAAK,EAAGA,IAASP,CAAAA,EAAIH,CAAU,CAACU,EAAE,GAAEJ,CAAAA,EAAI,CAACF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEpL,EAAQkL,EAAKK,GAAKH,EAAEpL,EAAQkL,EAAG,GAAMK,CAAAA,EAChJ,OAAOF,EAAI,GAAKE,GAAKnF,OAAOwF,cAAc,CAAC5L,EAAQkL,EAAKK,GAAIA,CAChE,EACI,GAAkE,SAAUO,CAAQ,CAAE9Q,CAAK,CAAE6F,CAAI,CAAExE,CAAC,EACpG,GAAIwE,MAAAA,GAAgB,CAACxE,EAAG,MAAM,UAAc,iDAC5C,GAAI,mBAAOrB,EAAuB8Q,IAAa9Q,GAAS,CAACqB,EAAI,CAACrB,EAAM+Q,GAAG,CAACD,GAAW,MAAM,UAAc,4EACvG,MAAOjL,MAAAA,EAAexE,EAAIwE,MAAAA,EAAexE,EAAE2P,IAAI,CAACF,GAAYzP,EAAIA,EAAE0C,KAAK,CAAG/D,EAAMoG,GAAG,CAAC0K,EACxF,EAIA,IAAIgK,GAAiB,MAAMA,uBAAuB1X,YAC9CvD,aAAc,CACV,KAAK,IAAIyQ,WACTtD,EAA0B4E,GAAG,CAAC,IAAI,CACtC,CACAmJ,eAAeC,CAAM,CAAE,CACnB,GAAI,CAACA,EACD,MAAO,GACX,IAAMC,EAAe,GAAuB,IAAI,CAAEjO,EAA2B,IAAKC,GAAyC+D,IAAI,CAAC,IAAI,CAAEgK,SACtI,EAAIC,IACA,GAAuB,IAAI,CAAEjO,EAA2B,IAAKI,GAAwB4D,IAAI,CAAC,IAAI,CAAEiK,GACzF,GAGf,CACAC,iBAAiBhb,CAAI,CAAE,CACnB,GAAI,CAACA,EACD,MAAO,GACX,IAAM+a,EAAe,GAAuB,IAAI,CAAEjO,EAA2B,IAAKE,GAA2C8D,IAAI,CAAC,IAAI,CAAE9Q,SACxI,EAAI+a,IACA,GAAuB,IAAI,CAAEjO,EAA2B,IAAKI,GAAwB4D,IAAI,CAAC,IAAI,CAAEiK,GACzF,GAGf,CACAE,6BAA8B,CAC1B,IAAMF,EAAe,GAAuB,IAAI,CAAEjO,EAA2B,IAAKG,GAAsD6D,IAAI,CAAC,IAAI,QACjJ,EAAIiK,IACA,GAAuB,IAAI,CAAEjO,EAA2B,IAAKI,GAAwB4D,IAAI,CAAC,IAAI,CAAEiK,GACzF,GAGf,CAEAG,WAAWxa,CAAI,CAAE,CACb,IAAIqB,CACJ,QAACA,CAAAA,EAAKrB,EAAKya,kBAAkB,GAAcpZ,KAAY,IAAZA,GAAyBA,EAAGgC,eAAe,CAAC,eACvFrD,EAAKoD,YAAY,CAAC,gBAAiB,OACvC,CACAsX,aAAa1a,CAAI,CAAE,CACf,IAAIqB,CACJ,QAACA,CAAAA,EAAKrB,EAAKya,kBAAkB,GAAcpZ,KAAY,IAAZA,GAAyBA,EAAG+B,YAAY,CAAC,cAAe,IACnGpD,EAAKoD,YAAY,CAAC,gBAAiB,SACnCpD,EAAKuW,KAAK,EACd,CACAoE,eAAe3a,CAAI,CAAE,OACjB,CAAKA,MAAAA,EAAmC,KAAK,EAAIA,EAAKuG,OAAO,IAAM,KAG5D,CAACvG,MAAAA,EAAmC,KAAK,EAAIA,EAAKsF,YAAY,CAAC,gBAAe,IAAO,MAChG,CAEAsV,2BAA2BC,CAAC,CAAE,CAC1B,IAAMrH,EAAKqH,EAAEzW,MAAM,CACnB,GAAI,CAAEoP,CAAAA,aAAchR,WAAU,EAC1B,OACJ,IAAMsY,EAAStH,EAAGkC,OAAO,CAAC,UACrBoF,IAED,IAAI,CAACH,cAAc,CAACG,GACpB,IAAI,CAACJ,YAAY,CAACI,GAGlB,IAAI,CAACN,UAAU,CAACM,GAEpBD,EAAEjW,eAAe,GACrB,CAEAmW,6BAA6BF,CAAC,CAAE,CAC5B,IAAMrH,EAAKqH,EAAExW,aAAa,CAC1B,GAAI,CAAEmP,CAAAA,aAAchR,WAAU,EAC1B,OACJ,IAAIsY,EAAStH,EAAGkC,OAAO,CAAC,UACxB,GAAI,CAACoF,EAAQ,CACT,IAAME,EAAYxH,EAAGlO,YAAY,CAAC,mBAClC,IAAI0V,EAIA,OAHAF,EAASrU,SAASgL,cAAc,CAACuJ,EAKzC,CACI,IAAI,CAACL,cAAc,CAACG,IAAWD,WAAAA,EAAEvL,GAAG,EACpC,IAAI,CAACoL,YAAY,CAACI,GAEtBD,EAAEjW,eAAe,EACrB,CACJ,EACAwH,EAA4B,IAAIgG,QAChC/F,EAA0C,SAAiD+N,CAAM,EAC7F,IAAI/Y,EAEJ,IAAK,IAAM4Z,KAAW,IAAI,CAACtb,KAAK,CAAE,CAC9B,GAAIsb,EAAQ9G,SAAS,CAAC+G,QAAQ,CAAC,8BAC3B,SAEJ,IAAMC,EAAO,CAAC,OAAC9Z,CAAAA,EAAK4Z,EAAQ3V,YAAY,CAAC,eAAc,GAAejE,KAAY,IAAZA,EAAgB,KAAK,EAAIA,EAAG+Z,KAAK,CAAC,IAAG,GAAM,EAAE,CACnH,GAAID,EAAK7E,QAAQ,CAAC8D,GACd,OAAOa,CAEf,CACA,OAAO,IACX,EACA3O,EAA4C,SAAmDhN,CAAI,EAE/F,IAAM+b,EAAkB,IAAI,CAACvF,aAAa,CAAC,CAAC,yBAAyB,EAAExW,EAAK,EAAE,CAAC,SAC/E,EACW+b,EAAgB3F,OAAO,CAAC,mBAE5B,IACX,EACAnJ,EAAuD,WACnD,OAAO,GAAuB,IAAI,CAAEH,EAA2B,IAAKE,GAA2C8D,IAAI,CAAC,IAAI,CAAE7L,OAAO+W,QAAQ,CAACC,QAAQ,CACtJ,EACA/O,EAAyB,SAAgCyO,CAAO,EAC5D,IAAMO,EAAwB,IAAI,CAAC1F,aAAa,CAAC,8BAC7C0F,GACA,GAAuB,IAAI,CAAEpP,EAA2B,IAAKK,GAA0B2D,IAAI,CAAC,IAAI,CAAEoL,GACtGP,EAAQ9G,SAAS,CAACnD,GAAG,CAAC,6BAClBiK,EAAQQ,QAAQ,CAACpZ,MAAM,CAAG,GAC1B4Y,EAAQQ,QAAQ,CAAC,EAAE,CAACrY,YAAY,CAAC,eAAgB,QAErD,IAAMsY,EAAa,GAAuB,IAAI,CAAEtP,EAA2B,IAAKM,GAAgC0D,IAAI,CAAC,IAAI,CAAE6K,GACvHS,IACA,IAAI,CAAClB,UAAU,CAACkB,GAChBA,EAAWvH,SAAS,CAACnD,GAAG,CAAC,uCAEjC,EACAvE,EAA2B,SAAkCwO,CAAO,EAChEA,EAAQ9G,SAAS,CAACgF,MAAM,CAAC,6BACrB8B,EAAQQ,QAAQ,CAACpZ,MAAM,CAAG,GAC1B4Y,EAAQQ,QAAQ,CAAC,EAAE,CAACpY,eAAe,CAAC,gBAExC,IAAMqY,EAAa,GAAuB,IAAI,CAAEtP,EAA2B,IAAKM,GAAgC0D,IAAI,CAAC,IAAI,CAAE6K,GACvHS,IACA,IAAI,CAAChB,YAAY,CAACgB,GAClBA,EAAWvH,SAAS,CAACgF,MAAM,CAAC,uCAEpC,EACAzM,EAAiC,SAAwCuO,CAAO,EAC5E,IAAI5Z,EACJ,GAAI,CAAC4Z,EAAQ9G,SAAS,CAAC+G,QAAQ,CAAC,2BAC5B,OAAO,KACX,IAAMS,EAAS,OAACta,CAAAA,EAAK4Z,EAAQvF,OAAO,CAAC,gCAA+B,GAAerU,KAAY,IAAZA,EAAgB,KAAK,EAAIA,EAAGyU,aAAa,CAAC,mCAC7H,GAIW,IAEf,EACA,GAAW,CACP,KAAO,CACV,CAAEoE,GAAelH,SAAS,CAAE,QAAS,KAAK,GAC3CkH,GAAiB,GAAW,CACxB,KAAU,CACb,CAAEA,IC1KH,IAAI,GAA0C,SAAU7K,CAAU,CAAEjL,CAAM,CAAEkL,CAAG,CAAEC,CAAI,EACjF,IAA2HC,EAAvHC,EAAIC,UAAUrN,MAAM,CAAEsN,EAAIF,EAAI,EAAIrL,EAASmL,OAAAA,EAAgBA,EAAO/E,OAAOoF,wBAAwB,CAACxL,EAAQkL,GAAOC,EACrH,GAAI,iBAAOM,SAAwB,mBAAOA,QAAQC,QAAQ,CAAiBH,EAAIE,QAAQC,QAAQ,CAACT,EAAYjL,EAAQkL,EAAKC,QACpH,IAAK,IAAIQ,EAAIV,EAAWhN,MAAM,CAAG,EAAG0N,GAAK,EAAGA,IAASP,CAAAA,EAAIH,CAAU,CAACU,EAAE,GAAEJ,CAAAA,EAAI,CAACF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEpL,EAAQkL,EAAKK,GAAKH,EAAEpL,EAAQkL,EAAG,GAAMK,CAAAA,EAChJ,OAAOF,EAAI,GAAKE,GAAKnF,OAAOwF,cAAc,CAAC5L,EAAQkL,EAAKK,GAAIA,CAChE,EACI,GAAkE,SAAUO,CAAQ,CAAE9Q,CAAK,CAAE6F,CAAI,CAAExE,CAAC,EACpG,GAAIwE,MAAAA,GAAgB,CAACxE,EAAG,MAAM,UAAc,iDAC5C,GAAI,mBAAOrB,EAAuB8Q,IAAa9Q,GAAS,CAACqB,EAAI,CAACrB,EAAM+Q,GAAG,CAACD,GAAW,MAAM,UAAc,4EACvG,MAAOjL,MAAAA,EAAexE,EAAIwE,MAAAA,EAAexE,EAAE2P,IAAI,CAACF,GAAYzP,EAAIA,EAAE0C,KAAK,CAAG/D,EAAMoG,GAAG,CAAC0K,EACxF,EAGA,IAAI0L,GAAsB,MAAMA,4BAA4BpZ,YACxDvD,aAAc,CACV,KAAK,IAAIyQ,WACT/C,EAA+BqE,GAAG,CAAC,IAAI,CAC3C,CACAvO,mBAAoB,CAChB,IAAI,CAACoZ,oBAAoB,EAC7B,CACA,IAAIC,kBAAmB,CACnB,OAAO,IAAI,CAACC,YAAY,CAAC7Y,YAAY,CAAC,gBAC1C,CACA,IAAI4Y,iBAAiB3Y,CAAK,CAAE,CACpBA,EACA,IAAI,CAAC4Y,YAAY,CAAC3Y,YAAY,CAAC,gBAAiB,QAGhD,IAAI,CAAC2Y,YAAY,CAAC1Y,eAAe,CAAC,iBAEtC,IAAI,CAAC0Y,YAAY,CAAC5H,SAAS,CAACC,MAAM,CAAC,WAAYjR,EACnD,CACA,IAAI6Y,YAAY7Y,CAAK,CAAE,CACnB,IAAI,CAAC4Y,YAAY,CAAC3Y,YAAY,CAAC,oBAAqBD,EAAMyD,QAAQ,GACtE,CACA,IAAIoV,aAAc,CACd,OAAO9T,SAAS,IAAI,CAAC6T,YAAY,CAACzW,YAAY,CAAC,uBAAyB,CAC5E,CACA,IAAI2W,YAAa,CACb,OAAO/T,SAAS,IAAI,CAAC6T,YAAY,CAACzW,YAAY,CAAC,sBAAwB,CAC3E,CACA,IAAI4W,eAAgB,CAChB,OAAO,IAAI,CAACH,YAAY,CAACzW,YAAY,CAAC,QAAU,EACpD,CACA,MAAM6W,SAAStB,CAAC,CAAE,KACVxZ,EAAIC,MAKJ8a,EAHJ,GADAvB,EAAElW,cAAc,GACZ,IAAI,CAACmX,gBAAgB,CACrB,MACJ,KAAI,CAACA,gBAAgB,CAAG,GAExB,GAAI,CACA,IAAMO,EAAgB,IAAIC,IAAI,IAAI,CAACJ,aAAa,CAAE3X,OAAO+W,QAAQ,CAACiB,MAAM,CACxE,KAAI,CAACP,WAAW,GAChBK,EAAcG,YAAY,CAACC,MAAM,CAAC,OAAQ,IAAI,CAACT,WAAW,CAACpV,QAAQ,IACnE,IAAM8V,EAAW,MAAMC,MAAMN,GAC7B,GAAI,CAACK,EAASE,EAAE,CACZ,OACJR,EAAO,MAAMM,EAASG,IAAI,GACtB,IAAI,CAACb,WAAW,GAAK,IAAI,CAACC,UAAU,EACpC,KAAI,CAACF,YAAY,CAACpJ,MAAM,CAAG,EAAG,CAEtC,CACA,MAAOmK,EAAK,CAER,IAAI,CAAChB,gBAAgB,CAAG,GACxB,IAAI,CAACE,WAAW,GAChB,MACJ,CACA,IAAMe,EAAW,GAAuB,IAAI,CAAEpQ,EAAgC,IAAKC,GAAgCwD,IAAI,CAAC,IAAI,CAAE3J,SAAU2V,EACxI,QAAC/a,CAAAA,EAAK0b,MAAAA,EAA2C,KAAK,EAAIA,EAASjH,aAAa,CAAC,SAAQ,GAAezU,KAAY,IAAZA,GAAyBA,EAAG+B,YAAY,CAAC,eAAgB,+BACjK,IAAM4Z,EAASnC,EAAEzW,MAAM,CAACsR,OAAO,CAAC,UAAUpQ,YAAY,CAAC,gBACjD2X,EAAOxW,SAASgL,cAAc,CAACuL,GACrCC,EAAKR,MAAM,CAACM,GACZ,OAACzb,CAAAA,EAAK,IAAI,CAAC4b,YAAY,CAACC,GAAG,EAAC,GAAe7b,KAAY,IAAZA,GAAyBA,EAAGiV,KAAK,GAC5E,IAAI,CAACuF,gBAAgB,CAAG,EAC5B,CACAD,sBAAuB,CACd,IAAI,CAACE,YAAY,GAGlB,IAAI,CAACC,WAAW,CAAG,IAAI,CAACC,UAAU,CAClC,IAAI,CAACF,YAAY,CAACpJ,MAAM,CAAG,GAG3B,IAAI,CAACoJ,YAAY,CAACpJ,MAAM,CAAG,GAEnC,CACJ,EACAhG,EAAiC,IAAIyF,QACrCxF,EAAiC,SAAwCnG,CAAQ,CAAE2V,CAAI,EACnF,IAAMgB,EAAW3W,EAAS4W,aAAa,CAAC,YAGxC,OADAD,EAAS1D,SAAS,CAAG0C,EACd3V,EAAS6W,UAAU,CAACF,EAASG,OAAO,CAAE,GACjD,EACA,GAAW,CACP,KAAM,CACT,CAAE3B,GAAoB5I,SAAS,CAAE,eAAgB,KAAK,GACvD,GAAW,CACP,KAAO,CACV,CAAE4I,GAAoB5I,SAAS,CAAE,eAAgB,KAAK,GACvD4I,GAAsB,GAAW,CAC7B,KAAU,CACb,CAAEA,IAEHrX,OAAOqX,mBAAmB,CAAGA,GC3G7B,IAAI,GAA0C,SAAUvM,CAAU,CAAEjL,CAAM,CAAEkL,CAAG,CAAEC,CAAI,EACjF,IAA2HC,EAAvHC,EAAIC,UAAUrN,MAAM,CAAEsN,EAAIF,EAAI,EAAIrL,EAASmL,OAAAA,EAAgBA,EAAO/E,OAAOoF,wBAAwB,CAACxL,EAAQkL,GAAOC,EACrH,GAAI,iBAAOM,SAAwB,mBAAOA,QAAQC,QAAQ,CAAiBH,EAAIE,QAAQC,QAAQ,CAACT,EAAYjL,EAAQkL,EAAKC,QACpH,IAAK,IAAIQ,EAAIV,EAAWhN,MAAM,CAAG,EAAG0N,GAAK,EAAGA,IAASP,CAAAA,EAAIH,CAAU,CAACU,EAAE,GAAEJ,CAAAA,EAAI,CAACF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEpL,EAAQkL,EAAKK,GAAKH,EAAEpL,EAAQkL,EAAG,GAAMK,CAAAA,EAChJ,OAAOF,EAAI,GAAKE,GAAKnF,OAAOwF,cAAc,CAAC5L,EAAQkL,EAAKK,GAAIA,CAChE,EACI,GAAkE,SAAUO,CAAQ,CAAE9Q,CAAK,CAAE6F,CAAI,CAAExE,CAAC,EACpG,GAAIwE,MAAAA,GAAgB,CAACxE,EAAG,MAAM,UAAc,iDAC5C,GAAI,mBAAOrB,EAAuB8Q,IAAa9Q,GAAS,CAACqB,EAAI,CAACrB,EAAM+Q,GAAG,CAACD,GAAW,MAAM,UAAc,4EACvG,MAAOjL,MAAAA,EAAexE,EAAIwE,MAAAA,EAAexE,EAAE2P,IAAI,CAACF,GAAYzP,EAAIA,EAAE0C,KAAK,CAAG/D,EAAMoG,GAAG,CAAC0K,EACxF,EAGA,IAAIsN,GAA0B,MAAMA,gCAAgChb,YAChEvD,aAAc,CACV,KAAK,IAAIyQ,WACT7C,EAAmCmE,GAAG,CAAC,IAAI,CAC/C,CACAvO,mBAAoB,CAChB,GAAuB,IAAI,CAAEoK,EAAoC,IAAKC,GAA6CsD,IAAI,CAAC,IAAI,CAChI,CACAqN,OAAOtZ,CAAK,CAAE,CACV,IAAI9C,EAAIC,EACR,IAAMwZ,EAAS3W,EAAME,aAAa,CAClC,IAAK,IAAMrE,KAAQ,IAAI,CAACL,KAAK,CACzBK,EAAKmU,SAAS,CAACgF,MAAM,CAAC,mCACtB,OAAC9X,CAAAA,EAAKrB,EAAK8V,aAAa,CAAC,iBAAgB,GAAezU,KAAY,IAAZA,GAAyBA,EAAG+B,YAAY,CAAC,eAAgB,QAErH,QAAC9B,CAAAA,EAAKwZ,EAAOpF,OAAO,CAAC,2BAA0B,GAAepU,KAAY,IAAZA,GAAyBA,EAAG6S,SAAS,CAACnD,GAAG,CAAC,mCACxG8J,EAAO1X,YAAY,CAAC,eAAgB,OACxC,CACJ,EACAyJ,EAAqC,IAAIuF,QACzCtF,EAA8C,WAC1C,IAAK,IAAM4Q,KAAS,IAAI,CAAC3K,gBAAgB,CAAC,iBACtC2K,EAAMta,YAAY,CAAC,eAAgBsa,EAAM7I,WAAW,EAAI,GAEhE,EACA,GAAW,CACP,KAAO,CACV,CAAE2I,GAAwBxK,SAAS,CAAE,QAAS,KAAK,GACpDwK,GAA0B,GAAW,CACjC,KAAU,CACb,CAAEA,IACEjZ,OAAOgB,cAAc,CAACC,GAAG,CAAC,uBAC3BjB,OAAOiZ,uBAAuB,CAAGA,GACjCjZ,OAAOgB,cAAc,CAACE,MAAM,CAAC,oBAAqB+X,KM9CtD,IAAI,GAA0C,SAAUnO,CAAU,CAAEjL,CAAM,CAAEkL,CAAG,CAAEC,CAAI,EACjF,IAA2HC,EAAvHC,EAAIC,UAAUrN,MAAM,CAAEsN,EAAIF,EAAI,EAAIrL,EAASmL,OAAAA,EAAgBA,EAAO/E,OAAOoF,wBAAwB,CAACxL,EAAQkL,GAAOC,EACrH,GAAI,iBAAOM,SAAwB,mBAAOA,QAAQC,QAAQ,CAAiBH,EAAIE,QAAQC,QAAQ,CAACT,EAAYjL,EAAQkL,EAAKC,QACpH,IAAK,IAAIQ,EAAIV,EAAWhN,MAAM,CAAG,EAAG0N,GAAK,EAAGA,IAASP,CAAAA,EAAIH,CAAU,CAACU,EAAE,GAAEJ,CAAAA,EAAI,CAACF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEpL,EAAQkL,EAAKK,GAAKH,EAAEpL,EAAQkL,EAAG,GAAMK,CAAAA,EAChJ,OAAOF,EAAI,GAAKE,GAAKnF,OAAOwF,cAAc,CAAC5L,EAAQkL,EAAKK,GAAIA,CAChE,EAEA,IAAIgO,GAAsB,MAAMA,4BAA4Bnb,YACxDvD,aAAc,CACV,KAAK,IAAIyQ,WACT,IAAI,CAACkO,QAAQ,CAAG,EACpB,CACA,IAAI/D,KAAM,CACN,IAAMA,EAAM,IAAI,CAACvU,YAAY,CAAC,OAC9B,GAAI,CAACuU,EACD,OAAO,KACX,IAAMgE,EAAO,IAAI,CAACpK,aAAa,CAAC4J,aAAa,CAAC,KAE9C,OADAQ,EAAKve,IAAI,CAAGua,EACLgE,EAAKve,IAAI,CAEpB,IAAIwe,MAAO,CACP,IAAMC,EAAc,IAAI,CAACjI,aAAa,CAAC,eACvC,OAAO,IAAI,CAACxQ,YAAY,CAAC,SAAYyY,aAAuB1Y,kBAAoB0Y,EAAY5a,KAAK,EAAK,IAC1G,CACA,IAAI6a,WAAY,CAEZ,OAAO,IAAI,CAAC1Y,YAAY,CAAC,eAAiB,oBAC9C,CACA2Y,UAAW,CACP,OAAO,UAAI,CAACpE,GAAG,CAEnB,MAAMzF,QAAS,CACX,IAAI,IAAI,CAACwJ,QAAQ,GAEjB,IAAI,CAACA,QAAQ,CAAG,IACZ,IAAI,CAACM,UAAU,KAGnB,GAAI,CAAC,IAAI,CAACD,QAAQ,GAAI,CAClB,IAAI,CAACE,aAAa,GAClB,IAAI,CAACP,QAAQ,CAAG,GAChB,MACJ,CAEA,IAAI,CAACO,aAAa,GAClB,IAAI,CAACC,eAAe,GACpB,GAAI,CACA,MAAM,IAAI,CAACC,UAAU,EACzB,CACA,MAAOC,EAAO,CACNA,aAAiBC,QAGjB,IAAI,CAACC,aAAa,CAACF,EAAMG,OAAO,EAAI,wCACpC,IAAI,CAACN,aAAa,IAEtB,MACJ,QACQ,CACJ,IAAI,CAACP,QAAQ,CAAG,EACpB,CACA,IAAI,CAACc,eAAe,GACxB,CACAC,QAAS,CACD,IAAI,CAACT,UAAU,KAGnB,IAAI,CAACU,MAAM,CAACxb,YAAY,CAAC,eAAgB,QACzC,IAAI,CAAC+Q,SAAS,CAACnD,GAAG,CAAC,yBACvB,CACA6N,SAAU,CACF,IAAI,CAACX,UAAU,KAGnB,IAAI,CAACU,MAAM,CAACxb,YAAY,CAAC,eAAgB,SACzC,IAAI,CAAC+Q,SAAS,CAACgF,MAAM,CAAC,yBAC1B,CACA2F,MAAO,CACH,MAAO,aAAI,CAACF,MAAM,CAACtZ,YAAY,CAAC,eACpC,CACAyZ,OAAQ,CACJ,MAAO,CAAC,IAAI,CAACD,IAAI,EACrB,CACAZ,YAAa,CACT,OAAO,UAAI,CAACU,MAAM,CAACtZ,YAAY,CAAC,WACpC,CACA0Z,SAAU,CACN,IAAI,CAACJ,MAAM,CAACxb,YAAY,CAAC,WAAY,WACzC,CACA6b,QAAS,CACL,IAAI,CAACL,MAAM,CAACvb,eAAe,CAAC,WAChC,CACA8a,eAAgB,CACR,IAAI,CAACW,IAAI,GACT,IAAI,CAACD,OAAO,GAGZ,IAAI,CAACF,MAAM,EAEnB,CACAP,iBAAkB,CACd,IAAI,CAACc,SAAS,CAAC9b,YAAY,CAAC,SAAU,UACtC,IAAI,CAAC+b,cAAc,CAAC9b,eAAe,CAAC,UACpC,IAAMc,EAAQ,IAAIP,YAAY,sBAAuB,CAAEC,QAAS,EAAK,GACrE,IAAI,CAACF,aAAa,CAACQ,EACvB,CACAua,iBAAkB,CACd,IAAMva,EAAQ,IAAIP,YAAY,sBAAuB,CAAEC,QAAS,EAAK,GACrE,IAAI,CAACF,aAAa,CAACQ,GACnB,IAAI,CAACib,gBAAgB,CAAC,GAC1B,CACAZ,cAAcC,CAAO,CAAE,CACnB,IAAMta,EAAQ,IAAIP,YAAY,oBAAqB,CAAEC,QAAS,GAAME,OAAQ0a,CAAQ,GACpF,IAAI,CAAC9a,aAAa,CAACQ,GACnB,IAAI,CAACib,gBAAgB,CAAC,GAC1B,CACAA,iBAAiBd,CAAK,CAAE,CAChBA,GACA,IAAI,CAACY,SAAS,CAAC7b,eAAe,CAAC,UAEnC,IAAI,CAAC8b,cAAc,CAAC/b,YAAY,CAAC,SAAU,SAC/C,CACA,MAAMib,YAAa,KAQX3B,EAPJ,IAAMhW,EAAO,IAAI2Y,SAKjB,GAJI,IAAI,CAACvB,IAAI,EACTpX,EAAK+V,MAAM,CAAC,IAAI,CAACuB,SAAS,CAAE,IAAI,CAACF,IAAI,EAEzCpX,EAAK+V,MAAM,CAAC,QAAS,IAAI,CAACqC,IAAI,GAAK,IAAM,KACrC,CAAC,IAAI,CAACjF,GAAG,CACT,MAAM,MAAU,eAEpB,GAAI,CACA6C,EAAW,MAAMC,MAAM,IAAI,CAAC9C,GAAG,CAAE,CAC7ByF,YAAa,cACbC,OAAQ,OACRC,QAAS,CACL,iBAAkB,gBACtB,EACA9Y,KAAAA,CACJ,EACJ,CACA,MAAO4X,EAAO,CACV,MAAM,MAAU,8CACpB,CACA,GAAI,CAAC5B,EAASE,EAAE,CACZ,MAAM,MAAU,MAAMF,EAASG,IAAI,GAE3C,CACJ,EACA,GAAW,CACP,KAAM,CACT,CAAEc,GAAoB3K,SAAS,CAAE,SAAU,KAAK,GACjD,GAAW,CACP,KAAM,CACT,CAAE2K,GAAoB3K,SAAS,CAAE,iBAAkB,KAAK,GACzD,GAAW,CACP,KAAM,CACT,CAAE2K,GAAoB3K,SAAS,CAAE,YAAa,KAAK,GACpD2K,GAAsB,GAAW,CAC7B,KAAU,CACb,CAAEA,IACEpZ,OAAOgB,cAAc,CAACC,GAAG,CAAC,mBAC3BjB,OAAOoZ,mBAAmB,CAAGA,GAC7BpZ,OAAOgB,cAAc,CAACE,MAAM,CAAC,gBAAiBkY,KLnKlD,IAAI,GAAkE,SAAUzN,CAAQ,CAAE9Q,CAAK,CAAE6F,CAAI,CAAExE,CAAC,EACpG,GAAIwE,MAAAA,GAAgB,CAACxE,EAAG,MAAM,UAAc,iDAC5C,GAAI,mBAAOrB,EAAuB8Q,IAAa9Q,GAAS,CAACqB,EAAI,CAACrB,EAAM+Q,GAAG,CAACD,GAAW,MAAM,UAAc,4EACvG,MAAOjL,MAAAA,EAAexE,EAAIwE,MAAAA,EAAexE,EAAE2P,IAAI,CAACF,GAAYzP,EAAIA,EAAE0C,KAAK,CAAG/D,EAAMoG,GAAG,CAAC0K,EACxF,EACI,GAAkE,SAAUA,CAAQ,CAAE9Q,CAAK,CAAE+D,CAAK,CAAE8B,CAAI,CAAExE,CAAC,EAC3G,GAAIwE,MAAAA,EAAc,MAAM,UAAc,kCACtC,GAAIA,MAAAA,GAAgB,CAACxE,EAAG,MAAM,UAAc,iDAC5C,GAAI,mBAAOrB,EAAuB8Q,IAAa9Q,GAAS,CAACqB,EAAI,CAACrB,EAAM+Q,GAAG,CAACD,GAAW,MAAM,UAAc,2EACvG,MAAO,MAACjL,EAAexE,EAAE2P,IAAI,CAACF,EAAU/M,GAAS1C,EAAIA,EAAE0C,KAAK,CAAGA,EAAQ/D,EAAMiR,GAAG,CAACH,EAAU/M,GAASA,CACxG,EAIA,IAAMsc,GAAgB,CAAC,KACnB,IAAI/K,EAiBJ,OAAO,GAASA,EAAWlB,EAAGhN,OAAO,CAACkO,GAAYgL,SAhB7BlM,CAAE,EACnB,GAAI,CAEA,OADAkB,EAAW,gBACJlB,EAAGhN,OAAO,CAACkO,EACtB,CACA,MAAOrT,EAAI,CACP,GAAI,CAEA,OADAqT,EAAW,QACJlB,EAAGhN,OAAO,CAAC,QACtB,CACA,MAAOlF,EAAI,CAEP,OADAoT,EAAW,mBACJlB,EAAGhN,OAAO,CAAC,mBACtB,CACJ,CACJ,EAC8DgN,EAClE,KAEMmM,GAAwB,UAExBC,GAAoB,CACtB,YACA,YACA,YACA,YACA,aACA,aACA,aACA,aACH,CACD,SAASC,GAAkBC,CAAM,EAC7B,IAAK,IAAMC,KAAWC,GACdD,IAAYD,IAEZL,GAAcM,GACdA,EAAQE,WAAW,GAGnBD,GAAazM,MAAM,CAACwM,GAGhC,CACA,SAASG,KACLL,IACJ,CACA,SAASM,GAAgBhc,CAAK,EAC1BK,WAAW,KACP,IAAK,IAAMub,KAAWC,GACdP,GAAcM,IAAYA,UAAAA,EAAQK,UAAU,EAAgBL,EAAQM,OAAO,GAAKlc,EAAMC,MAAM,EAC5F2b,EAAQE,WAAW,EAG/B,EAAG,EACP,CACA,IAAMK,GAAW,IAAInN,IACf6M,GAAe,IAAI7M,IACzB,yBAAMoN,uBAAuB/d,YACzBvD,aAAc,CACV,KAAK,IAAIyQ,WACT3C,EAA0BiE,GAAG,CAAC,IAAI,EAClChE,EAAgCqD,GAAG,CAAC,IAAI,CAAE,KAAK,GAC/CpD,EAAsBoD,GAAG,CAAC,IAAI,CAAE,UAChCnD,EAAqBmD,GAAG,CAAC,IAAI,CAAE,kBAC/BlD,EAAoCkD,GAAG,CAAC,IAAI,CAAE,IAC9CjD,EAA2BiD,GAAG,CAAC,IAAI,CAAE,QACzC,CACAmQ,QAAS,CACL,MAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAwHV,CAED,IAAIJ,YAAa,CACb,OAAO,GAAuB,IAAI,CAAEhT,EAA4B,IACpE,CACA,IAAIqT,SAAU,CACV,OAAO,IAAI,CAACnb,YAAY,CAAC,QAAU,EACvC,CACA,IAAImb,QAAQtd,CAAK,CAAE,CACf,IAAI,CAACC,YAAY,CAAC,MAAOD,EAC7B,CACA,IAAInC,MAAO,CACP,IAAMA,EAAO,IAAI,CAACsE,YAAY,CAAC,aAC/B,MAAOtE,UAAAA,EAAmB,QAAU,aACxC,CACA,IAAIA,KAAKmC,CAAK,CAAE,CACZ,IAAI,CAACC,YAAY,CAAC,YAAaD,EACnC,CACA,IAAIgS,WAAY,CACZ,OAAQ,IAAI,CAAC7P,YAAY,CAAC,mBAAqB,GACnD,CACA,IAAI6P,UAAUhS,CAAK,CAAE,CACjB,IAAI,CAACC,YAAY,CAAC,iBAAkBD,EACxC,CACA,IAAIkd,SAAU,CACV,OAAO,IAAI,CAAC5M,aAAa,CAAChC,cAAc,CAAC,IAAI,CAACgP,OAAO,CACzD,CAEA,IAAIC,eAAevd,CAAK,CAAE,CAClBA,GAASsc,GAAc,IAAI,EAC3B,IAAI,CAACQ,WAAW,GAEV9c,GAAUsc,GAAc,IAAI,GAClC,IAAI,CAAC9Y,WAAW,EAExB,CAEA,IAAI+Z,gBAAiB,CACjB,MAAO,CAACjB,GAAc,IAAI,CAC9B,CACAhd,mBAAoB,CAChB,IAAIpB,EAAIC,EAIR,GAHAgf,GAAStP,GAAG,CAAC,IAAI,EACjB,GAAuB,IAAI,CAAEjE,EAA2B,IAAKO,GAAwC8C,IAAI,CAAC,IAAI,EAC9G,GAAuB,IAAI,CAAErD,EAA2B,IAAKQ,GAAiC6C,IAAI,CAAC,IAAI,EACnG,CAAC,IAAI,CAACmJ,UAAU,CAAE,CAClB,IAAMoH,EAAS,IAAI,CAACnH,YAAY,CAAC,CAAEC,KAAM,MAAO,GAC1CnI,EAAQqP,EAAOC,WAAW,CAACna,SAAS4W,aAAa,CAAC,SACxD/L,CAAAA,EAAMuD,WAAW,CAAG,IAAI,CAAC2L,MAAM,GAC/BG,EAAOC,WAAW,CAACna,SAAS4W,aAAa,CAAC,QAC9C,CAGA,GAFA,GAAuB,IAAI,CAAEtQ,EAA2B,IAAKM,GAAwB+C,IAAI,CAAC,IAAI,CAAE,IAChG,GAAuB,IAAI,CAAEjD,EAAqC,GAAM,KACpE,CAAC,IAAI,CAACkT,OAAO,CACb,OACJ,IAAI,CAACjd,YAAY,CAAC,OAAQ,WAC1B,OAAC/B,CAAAA,EAAK,GAAuB,IAAI,CAAE2L,EAAiC,IAAG,GAAe3L,KAAY,IAAZA,GAAyBA,EAAGwQ,KAAK,GACvH,GAAuB,IAAI,CAAE7E,EAAiC,IAAIsI,gBAAmB,KACrF,GAAM,CAAEC,OAAAA,CAAM,CAAE,CAAG,GAAuB,IAAI,CAAEvI,EAAiC,KACjF,IAAI,CAACtK,gBAAgB,CAAC,aAAc,IAAI,CAAE,CAAE6S,OAAAA,CAAO,GACnD,IAAI,CAAC7S,gBAAgB,CAAC,SAAU,IAAI,CAAE,CAAE6S,OAAAA,CAAO,GAC/C,IAAI,CAAC8K,OAAO,CAAC3d,gBAAgB,CAAC,aAAc,IAAI,CAAE,CAAE6S,OAAAA,CAAO,GAC3D,IAAI,CAAC8K,OAAO,CAAC3d,gBAAgB,CAAC,aAAc,IAAI,CAAE,CAAE6S,OAAAA,CAAO,GAC3D,IAAI,CAAC8K,OAAO,CAAC3d,gBAAgB,CAAC,QAAS,IAAI,CAAE,CAAE6S,OAAAA,CAAO,GACtD,IAAI,CAAC8K,OAAO,CAAC3d,gBAAgB,CAAC,YAAa,IAAI,CAAE,CAAE6S,OAAAA,CAAO,GAG1D,OAACjU,CAAAA,EAAK,IAAI,CAAC+e,OAAO,CAACQ,oBAAoB,GAAcvf,KAAY,IAAZA,GAAyBA,EAAGoB,gBAAgB,CAAC,eAAgB,IAAI,CAAE,CACpH6S,OAAAA,CACJ,GACA,IAAI,CAAC9B,aAAa,CAAC/Q,gBAAgB,CAAC,WAAYwd,IAChD,IAAI,CAACzM,aAAa,CAAC/Q,gBAAgB,CAAC,UAAWyd,IAC/C,IAAI,CAAC1M,aAAa,CAAC/Q,gBAAgB,CAAC,UAAW,IAAI,CAAE,CAAE6S,OAAAA,EAAQuL,QAAS,EAAK,EACjF,CACA9d,sBAAuB,CACnB,IAAI3B,EACJif,GAAS/M,MAAM,CAAC,IAAI,EACpByM,GAAazM,MAAM,CAAC,IAAI,EACxB,OAAClS,CAAAA,EAAK,GAAuB,IAAI,CAAE2L,EAAiC,IAAG,GAAe3L,KAAY,IAAZA,GAAyBA,EAAGwQ,KAAK,EAC3H,CACA,MAAM2D,YAAYrR,CAAK,CAAE,CACrB,GAAI,CAAC,IAAI,CAACkc,OAAO,CACb,OACJ,IAAMU,EAAUtB,GAAc,IAAI,EAG5BuB,EAAa7c,eAAAA,EAAMnD,IAAI,EAAqBmD,UAAAA,EAAMnD,IAAI,CACtDigB,EAAyB9c,eAAAA,EAAMnD,IAAI,EACrCmD,EAAM+c,aAAa,GAAK,IAAI,CAACb,OAAO,EACpClc,EAAM+c,aAAa,GAAK,IAAI,CAC1BC,EAAkBhd,YAAAA,EAAMnD,IAAI,EAAkBmD,WAAAA,EAAMmL,GAAG,CACvD8R,EAAsBjd,cAAAA,EAAMnD,IAAI,EAAoBmD,EAAME,aAAa,GAAK,IAAI,CAACgc,OAAO,CACxFgB,EAAwBld,iBAAAA,EAAMnD,IAAI,EAAuBmD,EAAME,aAAa,GAAK,IAAI,CAEvF0c,GAAWI,IACXhd,EAAMmd,wBAAwB,GAC9Bnd,EAAMQ,cAAc,IAExB,MAAMtE,QAAQC,OAAO,GACjB,IAAY0gB,GAAevB,GAAc,IAAI,EAIxCsB,GAVUE,CAAAA,GAA0BE,GAAmBC,GAAuBC,CAAoB,GAUzE5B,GAAc,IAAI,GAChD,IAAI,CAACQ,WAAW,IAJhB,GAAuB,IAAI,CAAE7S,EAA4BjJ,eAAAA,EAAMnD,IAAI,CAAoB,QAAU,QAAS,KAC1G,IAAI,CAAC2F,WAAW,IAKD,WAAfxC,EAAMnD,IAAI,EACV,GAAuB,IAAI,CAAE+L,EAA2B,IAAKM,GAAwB+C,IAAI,CAAC,IAAI,CAAEjM,SAAAA,EAAMyR,QAAQ,CAEtH,CACA7B,yBAAyBxU,CAAI,CAAE,CACtB,IAAI,CAACyU,WAAW,GAEjBzU,OAAAA,GAAiBA,cAAAA,EACjB,GAAuB,IAAI,CAAEwN,EAA2B,IAAKO,GAAwC8C,IAAI,CAAC,IAAI,EAEhG,mBAAT7Q,GACL,GAAuB,IAAI,CAAEwN,EAA2B,IAAKQ,GAAiC6C,IAAI,CAAC,IAAI,EAE/G,CACJ,EACApD,EAAkC,IAAImF,QAAWlF,EAAwB,IAAIkF,QAAWjF,EAAuB,IAAIiF,QAAWhF,EAAsC,IAAIgF,QAAW/E,EAA6B,IAAI+E,QAAWpF,EAA4B,IAAIqF,QAAW/E,EAAyB,SAAgCkU,CAAM,EACjUA,GACAvB,GAAahP,GAAG,CAAC,IAAI,EACrB,IAAI,CAACmD,SAAS,CAACgF,MAAM,CAACwG,IACtBE,GAAkB,IAAI,EACtB,GAAuB,IAAI,CAAE9S,EAA2B,IAAKS,GAAgC4C,IAAI,CAAC,IAAI,IAGtG4P,GAAazM,MAAM,CAAC,IAAI,EACxB,IAAI,CAACY,SAAS,CAACgF,MAAM,IAAIyG,IACzB,IAAI,CAACzL,SAAS,CAACnD,GAAG,CAAC2O,IAE3B,EAAGrS,EAAyC,WACxC,GAAI,IAAK,CAACjO,EAAE,EAAK,IAAI,CAACghB,OAAO,EAE7B,GAAI,cAAI,CAACrf,IAAI,CAAc,CACvB,IAAIwgB,EAAa,IAAI,CAACnB,OAAO,CAAC/a,YAAY,CAAC,mBAMnCkc,EALJA,EACKA,EAAWpG,KAAK,CAAC,KAAK9E,QAAQ,CAAC,IAAI,CAACjX,EAAE,EAI1B,CAAC,EAAEmiB,EAAW,CAAC,CAHf,CAAC,EAAEA,EAAW,CAAC,EAAE,IAAI,CAACniB,EAAE,CAAC,CAAC,CAO9B,IAAI,CAACA,EAAE,CAExB,IAAI,CAACghB,OAAO,CAACjd,YAAY,CAAC,kBAAmBoe,GAE7C,IAAI,CAACpe,YAAY,CAAC,cAAe,OACrC,KACK,CACD,IAAIqe,EAAc,IAAI,CAACpB,OAAO,CAAC/a,YAAY,CAAC,oBAMpCmc,EALJA,EACKA,EAAYrG,KAAK,CAAC,KAAK9E,QAAQ,CAAC,IAAI,CAACjX,EAAE,EAI1B,CAAC,EAAEoiB,EAAY,CAAC,CAHhB,CAAC,EAAEA,EAAY,CAAC,EAAE,IAAI,CAACpiB,EAAE,CAAC,CAAC,CAO/B,IAAI,CAACA,EAAE,CAEzB,IAAI,CAACghB,OAAO,CAACjd,YAAY,CAAC,mBAAoBqe,EAClD,EACJ,EAAGlU,EAAkC,WACjC,IAAI,CAAC4G,SAAS,CAACgF,MAAM,IAAIyG,IACzB,IAAMzK,EAAY,IAAI,CAACA,SAAS,CACd,MAAdA,GACA,GAAuB,IAAI,CAAElI,EAAuB,SAAU,KAC9D,GAAuB,IAAI,CAAEC,EAAsB,cAAe,MAE7DiI,OAAAA,GACL,GAAuB,IAAI,CAAElI,EAAuB,QAAS,KAC7D,GAAuB,IAAI,CAAEC,EAAsB,cAAe,MAE7DiI,MAAAA,GACL,GAAuB,IAAI,CAAElI,EAAuB,SAAU,KAC9D,GAAuB,IAAI,CAAEC,EAAsB,gBAAiB,MAE/DiI,OAAAA,GACL,GAAuB,IAAI,CAAElI,EAAuB,QAAS,KAC7D,GAAuB,IAAI,CAAEC,EAAsB,iBAAkB,MAEhEiI,MAAAA,GACL,GAAuB,IAAI,CAAElI,EAAuB,SAAU,KAC9D,GAAuB,IAAI,CAAEC,EAAsB,iBAAkB,MAEhEiI,OAAAA,GACL,GAAuB,IAAI,CAAElI,EAAuB,MAAO,KAC3D,GAAuB,IAAI,CAAEC,EAAsB,iBAAkB,MAEhEiI,MAAAA,GACL,GAAuB,IAAI,CAAElI,EAAuB,SAAU,KAC9D,GAAuB,IAAI,CAAEC,EAAsB,eAAgB,MAEhD,OAAdiI,IACL,GAAuB,IAAI,CAAElI,EAAuB,MAAO,KAC3D,GAAuB,IAAI,CAAEC,EAAsB,cAAe,KAE1E,EAAGM,EAAiC,WAChC,GAAI,CAAC,IAAI,CAAC6S,OAAO,EAEb,CAAC,GAAuB,IAAI,CAAElT,EAAqC,MAAQ,CAACsS,GAAc,IAAI,EAD9F,OAGJ,IAAM1Y,EAAW,SAAoB,IAAI,CAAE,IAAI,CAACsZ,OAAO,CAAE,CACrDlX,KAAM,GAAuB,IAAI,CAAE+D,EAAsB,KACzD9D,MAAO,GAAuB,IAAI,CAAE6D,EAAuB,KAC3D3D,aA3Xe,EA4XnB,GACMK,EAAa5C,EAAS4C,UAAU,CAChCP,EAAQrC,EAAS6C,WAAW,CAClC,IAAI,CAAC0H,KAAK,CAACoQ,WAAW,CAAC,0BAA2B,CAAC,EAAE3a,EAASoB,GAAG,CAAC,EAAE,CAAC,EACrE,IAAI,CAACmJ,KAAK,CAACoQ,WAAW,CAAC,2BAA4B,CAAC,EAAE3a,EAASqB,IAAI,CAAC,EAAE,CAAC,EACvE,IAAI+M,EAAY,IAEZA,EADAxL,iBAAAA,EACY,IAEPA,kBAAAA,EACO,IAEPA,gBAAAA,EACDP,WAAAA,EACY,IAEPA,UAAAA,EACO,KAGA,KAIZA,WAAAA,EACY,IAEPA,UAAAA,EACO,KAGA,KAGpB,IAAI,CAAC+K,SAAS,CAACnD,GAAG,CAAC,CAAC,QAAQ,EAAEmE,EAAU,CAAC,CAC7C,EACAoL,eAAehM,kBAAkB,CAAG,CAAC,YAAa,iBAAkB,KAAK,CACpEhQ,OAAOgB,cAAc,CAACC,GAAG,CAAC,cAC3BjB,OAAOgc,cAAc,CAAGA,eACxBhc,OAAOgB,cAAc,CAACE,MAAM,CAAC,WAAY8a,iBCvc7C,IAAI,GAA0C,SAAUlR,CAAU,CAAEjL,CAAM,CAAEkL,CAAG,CAAEC,CAAI,EACjF,IAA2HC,EAAvHC,EAAIC,UAAUrN,MAAM,CAAEsN,EAAIF,EAAI,EAAIrL,EAASmL,OAAAA,EAAgBA,EAAO/E,OAAOoF,wBAAwB,CAACxL,EAAQkL,GAAOC,EACrH,GAAI,iBAAOM,SAAwB,mBAAOA,QAAQC,QAAQ,CAAiBH,EAAIE,QAAQC,QAAQ,CAACT,EAAYjL,EAAQkL,EAAKC,QACpH,IAAK,IAAIQ,EAAIV,EAAWhN,MAAM,CAAG,EAAG0N,GAAK,EAAGA,IAASP,CAAAA,EAAIH,CAAU,CAACU,EAAE,GAAEJ,CAAAA,EAAI,CAACF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEpL,EAAQkL,EAAKK,GAAKH,EAAEpL,EAAQkL,EAAG,GAAMK,CAAAA,EAChJ,OAAOF,EAAI,GAAKE,GAAKnF,OAAOwF,cAAc,CAAC5L,EAAQkL,EAAKK,GAAIA,CAChE,EACI,GAAkE,SAAUO,CAAQ,CAAE9Q,CAAK,CAAE6F,CAAI,CAAExE,CAAC,EACpG,GAAIwE,MAAAA,GAAgB,CAACxE,EAAG,MAAM,UAAc,iDAC5C,GAAI,mBAAOrB,EAAuB8Q,IAAa9Q,GAAS,CAACqB,EAAI,CAACrB,EAAM+Q,GAAG,CAACD,GAAW,MAAM,UAAc,4EACvG,MAAOjL,MAAAA,EAAexE,EAAIwE,MAAAA,EAAexE,EAAE2P,IAAI,CAACF,GAAYzP,EAAIA,EAAE0C,KAAK,CAAG/D,EAAMoG,GAAG,CAAC0K,EACxF,EAGA,IAAIyR,GAAiB,MAAMA,uBAAuBnf,YAC9CvD,aAAc,CACV,KAAK,IAAIyQ,WACTjC,EAA0BuD,GAAG,CAAC,IAAI,CACtC,CACA4Q,SAAU,CACN,IAAMzb,EAAgB,IAAI,CAACA,aAAa,CACnCA,IAED,cAAuB,IAAI,CAAEsH,EAA2B,IAAKC,GAC7DvH,EAAc0b,WAAW,CAAC,IAAI,EAG9B,IAAI,CAACC,IAAI,GAEjB,CACAC,MAAO,CACH,IAAI,CAACzQ,KAAK,CAACoQ,WAAW,CAAC,UAAW,UACtC,CACAI,MAAO,CACH,IAAI,CAACxQ,KAAK,CAACoQ,WAAW,CAAC,UAAW,OACtC,CACJ,EK1BO,SAASM,GAASC,CAAI,EACzB,GAAI,cAAeC,UACf,OAAOA,UAAUC,SAAS,CAACC,SAAS,CAACH,EAAKpN,WAAW,EAAI,IAE7D,IAAMwN,EAAYC,eAClB,GAAID,MAAAA,EACA,OAAOhiB,QAAQ2B,MAAM,CAAC,SAE1BqgB,EAAUE,eAAe,GACzB,IAAMC,EAAQ/b,SAASgc,WAAW,GAKlC,OAJAD,EAAME,kBAAkB,CAACT,GACzBI,EAAUM,QAAQ,CAACH,GACnB/b,SAASmc,WAAW,CAAC,QACrBP,EAAUE,eAAe,GAClBliB,QAAQC,OAAO,EAC1B,CACO,SAASuiB,GAAShG,CAAI,EACzB,GAAI,cAAeqF,UACf,OAAOA,UAAUC,SAAS,CAACC,SAAS,CAACvF,GAEzC,IAAMnW,EAAOD,SAASC,IAAI,CAC1B,GAAI,CAACA,EACD,OAAOrG,QAAQ2B,MAAM,CAAC,SAE1B,IAAMigB,EAAOa,SAjCGjG,CAAI,EACpB,IAAMoF,EAAOxb,SAAS4W,aAAa,CAAC,OAMpC,OALA4E,EAAK3Q,KAAK,CAACjJ,KAAK,CAAG,MACnB4Z,EAAK3Q,KAAK,CAAChJ,MAAM,CAAG,MACpB2Z,EAAK3Q,KAAK,CAACvK,QAAQ,CAAG,QACtBkb,EAAK3Q,KAAK,CAACnJ,GAAG,CAAG,MACjB8Z,EAAKpN,WAAW,CAAGgI,EACZoF,CACX,EAyB4BpF,GAIxB,OAHAnW,EAAKka,WAAW,CAACqB,GACjBD,GAASC,GACTvb,EAAKmb,WAAW,CAACI,GACV5hB,QAAQC,OAAO,EAC1B,CCrCA,eAAeyiB,GAAKjI,CAAM,EACtB,IAAMzb,EAAKyb,EAAOxV,YAAY,CAAC,OACzBuX,EAAO/B,EAAOxV,YAAY,CAAC,SACjC,SAAS0d,IACLlI,EAAOnX,aAAa,CAAC,IAAIC,YAAY,iBAAkB,CAAEC,QAAS,EAAK,GAC3E,CACA,GAAIiX,SAAAA,EAAOxV,YAAY,CAAC,kBAGxB,GAAIuX,EACA,MAAMgG,GAAShG,GACfmG,SAEC,GAAI3jB,EAAI,CACT,IAAM4jB,EAAO,gBAAiB/b,QAAQ8L,SAAS,CAAG8H,EAAOvC,WAAW,GAAKuC,EAAOrH,aAAa,CAC7F,GAAI,CAAEwP,CAAAA,aAAgBC,UAAa,eAAgB3e,QAAU0e,aAAgBzK,UAAU,EACnF,OACJ,IAAMyJ,EAAOgB,EAAKxR,cAAc,CAACpS,GAC7B4iB,IACA,MAMR,cAAuB5c,kBAAoBkY,aAAmB4F,oBACnDN,GAAStF,EAAQpa,KAAK,EAExBoa,aAAmB6F,mBAAqB7F,EAAQra,YAAY,CAAC,QAC3D2f,GAAStF,EAAQje,IAAI,EAGrB0iB,GAbcC,EAczB,EAbQe,IAER,EACJ,CAYA,SAASK,GAAQlf,CAAK,EAClB,IAAM2W,EAAS3W,EAAME,aAAa,CAC9ByW,aAAkBtY,aAClBugB,GAAKjI,EAEb,CACA,SAASwI,GAAQnf,CAAK,EAClB,GAAIA,MAAAA,EAAMmL,GAAG,EAAYnL,UAAAA,EAAMmL,GAAG,CAAc,CAC5C,IAAMwL,EAAS3W,EAAME,aAAa,CAC9ByW,aAAkBtY,cAClB2B,EAAMQ,cAAc,GACpBoe,GAAKjI,GAEb,CACJ,CACA,SAASyI,GAAQpf,CAAK,EAElBA,EAAME,aAAa,CAAC3B,gBAAgB,CAAC,UAAW4gB,GACpD,CACA,SAASE,GAAQrf,CAAK,EAElBA,EAAME,aAAa,CAACpB,mBAAmB,CAAC,UAAWqgB,GACvD,CNtBA7V,EAA4B,IAAI2E,QAChC1E,EAAoC,WAChC,OAAO,IAAI,CAACpI,YAAY,CAAC,sBAC7B,EACA,GAAW,CACP,KAAM,CACT,CAAEqc,GAAe3O,SAAS,CAAE,YAAa,KAAK,GAC/C2O,GAAiB,GAAW,CACxB,KAAU,CACb,CAAEA,IACEpd,OAAOgB,cAAc,CAACC,GAAG,CAAC,cAC3BjB,OAAOod,cAAc,CAAGA,GACxBpd,OAAOgB,cAAc,CAACE,MAAM,CAAC,WAAYkc,K,SMWtC,sDAAM,oDAA6Bnf,YACtC,OAAOiD,OAAOge,EAAM,gBAAgB,CAAEC,EAAWne,cAAc,CAAE,CAE7D,OADAme,EAASje,MAAM,CAACge,EAAK,IAAI,EAClB,IAAI,CAEfxkB,aAAc,CACV,KAAK,GACL,IAAI,CAACyD,gBAAgB,CAAC,QAAS2gB,IAC/B,IAAI,CAAC3gB,gBAAgB,CAAC,QAAS6gB,IAC/B,IAAI,CAAC7gB,gBAAgB,CAAC,OAAQ8gB,GAClC,CACA/gB,mBAAoB,CACX,IAAI,CAACS,YAAY,CAAC,aACnB,IAAI,CAACE,YAAY,CAAC,WAAY,KAE7B,IAAI,CAACF,YAAY,CAAC,SACnB,IAAI,CAACE,YAAY,CAAC,OAAQ,SAElC,CACA,IAAID,OAAQ,CACR,OAAO,IAAI,CAACmC,YAAY,CAAC,UAAY,EACzC,CACA,IAAInC,MAAM0Z,CAAI,CAAE,CACZ,IAAI,CAACzZ,YAAY,CAAC,QAASyZ,EAC/B,CACJ,ECnFA,IAAMoG,GAAQ,oBAAOU,WAA6BA,WAAapf,OAC/D,GAAI,CACA0e,GAAKW,oBAAoB,CAAG,4CAAqBne,MAAM,EAC3D,CACA,MAAOoV,EAAG,CACN,GAAI,CAAEoI,CAAAA,GAAKY,YAAY,EAAIhJ,aAAagJ,cAAgBhJ,sBAAAA,EAAEtb,IAAI,GAC1D,CAAEsb,CAAAA,aAAaiJ,cAAa,EAC5B,MAAMjJ,CAEd,CCRA,SAASkJ,GAAQC,CAAG,EAChBA,EAAI1S,KAAK,CAAC2S,OAAO,CAAG,cACxB,CACA,SAASC,GAAQF,CAAG,EAChBA,EAAI1S,KAAK,CAAC2S,OAAO,CAAG,MACxB,CAiBA,IAAME,GAA6B,IAAIhS,QACvC1L,SAAS/D,gBAAgB,CAAC,iBAAkB,CAAC,CAAE0B,OAAAA,CAAM,CAAE,IACnD,GAAI,CAAEA,CAAAA,aAAkB5B,WAAU,GAE9B,CAAC4B,EAAOlB,YAAY,CAAC,uBADrB,OAGJ,IAAMkhB,EAAiBD,GAA2B3e,GAAG,CAACpB,GAClDggB,GACA9f,aAAa8f,GACbD,GAA2B5Q,MAAM,CAACnP,IAGlCigB,SAnBWvJ,CAAM,EACrB,GAAM,CAACwJ,EAAUC,EAAU,CAAGzJ,EAAO/H,gBAAgB,CAAC,YACjDuR,GAAaC,IAElBL,GAAQI,GACRP,GAAQQ,GACZ,EAakBngB,GAEd+f,GAA2B9T,GAAG,CAACjM,EAAQI,WAAW,KAC9CggB,CA9BR,SAAkB1J,CAAM,EACpB,GAAM,CAACwJ,EAAUC,EAAU,CAAGzJ,EAAO/H,gBAAgB,CAAC,YACjDuR,GAAaC,IAElBR,GAAQO,GACRJ,GAAQK,GACZ,GAwBiBngB,GACT+f,GAA2B5Q,MAAM,CAACnP,EACtC,EAxCkC,KAyCtC,G,kBC1CA,IAAI,GAA0C,SAAUiL,CAAU,CAAEjL,CAAM,CAAEkL,CAAG,CAAEC,CAAI,EACjF,IAA2HC,EAAvHC,EAAIC,UAAUrN,MAAM,CAAEsN,EAAIF,EAAI,EAAIrL,EAASmL,OAAAA,EAAgBA,EAAO/E,OAAOoF,wBAAwB,CAACxL,EAAQkL,GAAOC,EACrH,GAAI,iBAAOM,SAAwB,mBAAOA,QAAQC,QAAQ,CAAiBH,EAAIE,QAAQC,QAAQ,CAACT,EAAYjL,EAAQkL,EAAKC,QACpH,IAAK,IAAIQ,EAAIV,EAAWhN,MAAM,CAAG,EAAG0N,GAAK,EAAGA,IAASP,CAAAA,EAAIH,CAAU,CAACU,EAAE,GAAEJ,CAAAA,EAAI,CAACF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEpL,EAAQkL,EAAKK,GAAKH,EAAEpL,EAAQkL,EAAG,GAAMK,CAAAA,EAChJ,OAAOF,EAAI,GAAKE,GAAKnF,OAAOwF,cAAc,CAAC5L,EAAQkL,EAAKK,GAAIA,CAChE,EAGA,IAAI8U,GAA0B,MAAMA,gCAAgCjiB,YAChEkiB,cAAcnlB,CAAI,CAAE,CAChB,IAAI8B,EAAIC,EACR,IAAMqjB,EAAgB,IAAI,CAACC,SAAS,CAACrlB,GACrC,GAAKolB,GAEL,IAAK,IAAME,KAAS,IAAI,CAACC,MAAM,CACvBD,IAAUF,IAEdE,EAAMzhB,YAAY,CAAC,WAAY,YAC/ByhB,EAAMzhB,YAAY,CAAC,SAAU,UAC7B,OAAC/B,CAAAA,EAAKwjB,EAAM1e,aAAa,GAAc9E,KAAY,IAAZA,GAAyBA,EAAG+B,YAAY,CAAC,SAAU,WAE9FuhB,EAActhB,eAAe,CAAC,YAC9BshB,EAActhB,eAAe,CAAC,UAC9B,OAAC/B,CAAAA,EAAKqjB,EAAcxe,aAAa,GAAc7E,KAAY,IAAZA,GAAyBA,EAAG+B,eAAe,CAAC,UAC/F,CACAuhB,UAAUrlB,CAAI,CAAE,CACZ,IAAK,IAAMslB,KAAS,IAAI,CAACC,MAAM,CAC3B,GAAID,EAAMvf,YAAY,CAAC,eAAiB/F,EACpC,OAAOslB,EAGf,OAAO,IACX,CACJ,EACA,GAAW,CACP,KAAO,CACV,CAAEJ,GAAwBzR,SAAS,CAAE,SAAU,KAAK,GACrDyR,GAA0B,GAAW,CACjC,KAAU,CACb,CAAEA,IAEElgB,OAAOgB,cAAc,CAACC,GAAG,CAAC,wBAC3BgF,OAAOC,MAAM,CAAClG,OAAQ,CAAEkgB,wBAAAA,EAAwB,GAChDlgB,OAAOgB,cAAc,CAACE,MAAM,CAAC,qBAAsBgf,K,SR3CvD,IAAI,GAA0C,SAAUpV,CAAU,CAAEjL,CAAM,CAAEkL,CAAG,CAAEC,CAAI,EACjF,IAA2HC,EAAvHC,EAAIC,UAAUrN,MAAM,CAAEsN,EAAIF,EAAI,EAAIrL,EAASmL,OAAAA,EAAgBA,EAAO/E,OAAOoF,wBAAwB,CAACxL,EAAQkL,GAAOC,EACrH,GAAI,iBAAOM,SAAwB,mBAAOA,QAAQC,QAAQ,CAAiBH,EAAIE,QAAQC,QAAQ,CAACT,EAAYjL,EAAQkL,EAAKC,QACpH,IAAK,IAAIQ,EAAIV,EAAWhN,MAAM,CAAG,EAAG0N,GAAK,EAAGA,IAASP,CAAAA,EAAIH,CAAU,CAACU,EAAE,GAAEJ,CAAAA,EAAI,CAACF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEpL,EAAQkL,EAAKK,GAAKH,EAAEpL,EAAQkL,EAAG,GAAMK,CAAAA,EAChJ,OAAOF,EAAI,GAAKE,GAAKnF,OAAOwF,cAAc,CAAC5L,EAAQkL,EAAKK,GAAIA,CAChE,EACI,GAAkE,SAAUO,CAAQ,CAAE9Q,CAAK,CAAE6F,CAAI,CAAExE,CAAC,EACpG,GAAIwE,MAAAA,GAAgB,CAACxE,EAAG,MAAM,UAAc,iDAC5C,GAAI,mBAAOrB,EAAuB8Q,IAAa9Q,GAAS,CAACqB,EAAI,CAACrB,EAAM+Q,GAAG,CAACD,GAAW,MAAM,UAAc,4EACvG,MAAOjL,MAAAA,EAAexE,EAAIwE,MAAAA,EAAexE,EAAE2P,IAAI,CAACF,GAAYzP,EAAIA,EAAE0C,KAAK,CAAG/D,EAAMoG,GAAG,CAAC0K,EACxF,EACI,GAAkE,SAAUA,CAAQ,CAAE9Q,CAAK,CAAE+D,CAAK,CAAE8B,CAAI,CAAExE,CAAC,EAC3G,GAAIwE,MAAAA,EAAc,MAAM,UAAc,kCACtC,GAAIA,MAAAA,GAAgB,CAACxE,EAAG,MAAM,UAAc,iDAC5C,GAAI,mBAAOrB,EAAuB8Q,IAAa9Q,GAAS,CAACqB,EAAI,CAACrB,EAAM+Q,GAAG,CAACD,GAAW,MAAM,UAAc,2EACvG,MAAO,MAACjL,EAAexE,EAAE2P,IAAI,CAACF,EAAU/M,GAAS1C,EAAIA,EAAE0C,KAAK,CAAGA,EAAQ/D,EAAMiR,GAAG,CAACH,EAAU/M,GAASA,CACxG,EAKA,IAAI4hB,GAEJ,MAAMA,+BAA+BviB,YACjCvD,aAAc,CACV,KAAK,IAAIyQ,WACT/B,EAAwC0C,GAAG,CAAC,IAAI,CAAE,KAAK,EAC3D,CACA5N,mBAAoB,CAChB,IAAIpB,CACJ,QAACA,CAAAA,EAAK,GAAuB,IAAI,CAAEsM,EAAyC,IAAG,GAAetM,KAAY,IAAZA,GAAyBA,EAAGwQ,KAAK,GAC/H,GAAM,CAAE0D,OAAAA,CAAM,CAAE,CAAI,GAAuB,IAAI,CAAE5H,EAAyC,IAAI2H,gBAAmB,KACjH,IAAI,CAAC0P,YAAY,CAACtiB,gBAAgB,CAAC,qBAAsB,MAAOyB,IAC5D,IAAMsa,EAAU,MAAMta,EAAMJ,MAAM,CAAC2Y,QAAQ,CAACG,IAAI,EAC5C4B,CAAAA,GAAWA,EAAQpc,MAAM,CAAG,EAC5B,IAAI,CAAC4iB,UAAU,CAACxG,GAGhB,IAAI,CAACyG,UAAU,EAEvB,EAAG,CAAE3P,OAAAA,CAAO,GACZ,IAAI,CAACyP,YAAY,CAACtiB,gBAAgB,CAAC,mBAAoB,MAAOyB,IAC1D,IAAMghB,EAAe,MAAMhhB,EAAMJ,MAAM,CAAC2Y,QAAQ,CAACG,IAAI,GACrD,IAAI,CAACuI,QAAQ,CAACD,EAClB,EAAG,CAAE5P,OAAAA,CAAO,EAChB,CACAvS,sBAAuB,CACnB,IAAI3B,CACJ,QAACA,CAAAA,EAAK,GAAuB,IAAI,CAAEsM,EAAyC,IAAG,GAAetM,KAAY,IAAZA,GAAyBA,EAAGwQ,KAAK,EACnI,CACAwT,eAAgB,CACZ,IAAI,CAACL,YAAY,CAAC7hB,KAAK,CAAG,GAC1B,IAAI,CAAC6hB,YAAY,CAACzO,KAAK,EAC3B,CACA2O,YAAa,CACT,IAAI,CAACF,YAAY,CAAC3hB,eAAe,CAAC,WAClC,IAAI,CAACiiB,iBAAiB,CAAC3S,MAAM,CAAG,GAChC,IAAI,CAAC4S,wBAAwB,CAACC,eAAe,EACjD,CACAC,qBAAqBhH,CAAO,CAAE,CAC1B,IAAMrB,EAAW3W,SAAS4W,aAAa,CAAC,WAExCD,CAAAA,EAAS1D,SAAS,CAAG+E,EACrB,IAAM1B,EAAWtW,SAAS6W,UAAU,CAACF,EAASG,OAAO,CAAE,IACvD,IAAI,CAACgI,wBAAwB,CAACC,eAAe,CAACzI,EAClD,CACA2I,wBAAwBC,CAAO,CAAE,CACzBA,EACA,IAAI,CAACL,iBAAiB,CAACnR,SAAS,CAACgF,MAAM,CAAC,yCAGxC,IAAI,CAACmM,iBAAiB,CAACnR,SAAS,CAACnD,GAAG,CAAC,yCAEzC,IAAI,CAAC4U,qBAAqB,CAACjT,MAAM,CAAGgT,EACpC,IAAI,CAACE,mBAAmB,CAAClT,MAAM,CAAG,CAACgT,EACnC,IAAI,CAACX,YAAY,CAAC5hB,YAAY,CAAC,UAAWuiB,EAAU,OAAS,QACjE,CACAV,WAAWxG,CAAO,CAAE,CAChB,IAAI,CAACiH,uBAAuB,CAAC,IAC7B,IAAI,CAACD,oBAAoB,CAAChH,GAC1B,IAAI,CAAC6G,iBAAiB,CAAC3S,MAAM,CAAG,EACpC,CACAyS,SAAS3G,CAAO,CAAE,CACd,IAAI,CAACiH,uBAAuB,CAAC,IAC7B,IAAI,CAACD,oBAAoB,CAAChH,GAC1B,IAAI,CAAC6G,iBAAiB,CAAC3S,MAAM,CAAG,EACpC,CACJ,EACAhF,EAA0C,IAAIwE,QAC9C,GAAW,CACP,KAAM,CACT,CAAE4S,GAAuB/R,SAAS,CAAE,eAAgB,KAAK,GAC1D,GAAW,CACP,KAAM,CACT,CAAE+R,GAAuB/R,SAAS,CAAE,oBAAqB,KAAK,GAC/D,GAAW,CACP,KAAM,CACT,CAAE+R,GAAuB/R,SAAS,CAAE,2BAA4B,KAAK,GACtE,GAAW,CACP,KAAM,CACT,CAAE+R,GAAuB/R,SAAS,CAAE,wBAAyB,KAAK,GACnE,GAAW,CACP,KAAM,CACT,CAAE+R,GAAuB/R,SAAS,CAAE,sBAAuB,KAAK,GACjE+R,GAAyB,GAAW,CAChC,KAAU,CAEb,CAAEA,IS1GH,IAAI,GAA0C,SAAU1V,CAAU,CAAEjL,CAAM,CAAEkL,CAAG,CAAEC,CAAI,EACjF,IAA2HC,EAAvHC,EAAIC,UAAUrN,MAAM,CAAEsN,EAAIF,EAAI,EAAIrL,EAASmL,OAAAA,EAAgBA,EAAO/E,OAAOoF,wBAAwB,CAACxL,EAAQkL,GAAOC,EACrH,GAAI,iBAAOM,SAAwB,mBAAOA,QAAQC,QAAQ,CAAiBH,EAAIE,QAAQC,QAAQ,CAACT,EAAYjL,EAAQkL,EAAKC,QACpH,IAAK,IAAIQ,EAAIV,EAAWhN,MAAM,CAAG,EAAG0N,GAAK,EAAGA,IAASP,CAAAA,EAAIH,CAAU,CAACU,EAAE,GAAEJ,CAAAA,EAAI,CAACF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEpL,EAAQkL,EAAKK,GAAKH,EAAEpL,EAAQkL,EAAG,GAAMK,CAAAA,EAChJ,OAAOF,EAAI,GAAKE,GAAKnF,OAAOwF,cAAc,CAAC5L,EAAQkL,EAAKK,GAAIA,CAChE,EAEA,IAAImW,GAA2B,MAAMA,iCAAiCtjB,YAClEC,mBAAoB,CAChB,IAAI,CAACC,gBAAgB,CAAC,oBAAqB,IACvC,IAAI,CAAC6iB,wBAAwB,CAAC1Q,WAAW,CAAG1Q,EAAMJ,MAAM,CACxD,IAAI,CAACuhB,iBAAiB,CAACjiB,eAAe,CAAC,SAC3C,GACA,IAAI,CAACX,gBAAgB,CAAC,sBAAuB,KACzC,IAAI,CAAC6iB,wBAAwB,CAAC1Q,WAAW,CAAG,GAC5C,IAAI,CAACyQ,iBAAiB,CAACliB,YAAY,CAAC,SAAU,SAClD,GACA,IAAI,CAACV,gBAAgB,CAAC,sBAAuB,KACzC,IAAI,CAAC6iB,wBAAwB,CAAC1Q,WAAW,CAAG,GAC5C,IAAI,CAACyQ,iBAAiB,CAACliB,YAAY,CAAC,SAAU,SAClD,EACJ,CACJ,EACA,GAAW,CACP,KAAM,CACT,CAAE0iB,GAAyB9S,SAAS,CAAE,oBAAqB,KAAK,GACjE,GAAW,CACP,KAAM,CACT,CAAE8S,GAAyB9S,SAAS,CAAE,2BAA4B,KAAK,GACxE8S,GAA2B,GAAW,CAClC,KAAU,CACb,CAAEA,IRhCH,IAAI,GAA0C,SAAUzW,CAAU,CAAEjL,CAAM,CAAEkL,CAAG,CAAEC,CAAI,EACjF,IAA2HC,EAAvHC,EAAIC,UAAUrN,MAAM,CAAEsN,EAAIF,EAAI,EAAIrL,EAASmL,OAAAA,EAAgBA,EAAO/E,OAAOoF,wBAAwB,CAACxL,EAAQkL,GAAOC,EACrH,GAAI,iBAAOM,SAAwB,mBAAOA,QAAQC,QAAQ,CAAiBH,EAAIE,QAAQC,QAAQ,CAACT,EAAYjL,EAAQkL,EAAKC,QACpH,IAAK,IAAIQ,EAAIV,EAAWhN,MAAM,CAAG,EAAG0N,GAAK,EAAGA,IAASP,CAAAA,EAAIH,CAAU,CAACU,EAAE,GAAEJ,CAAAA,EAAI,CAACF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEpL,EAAQkL,EAAKK,GAAKH,EAAEpL,EAAQkL,EAAG,GAAMK,CAAAA,EAChJ,OAAOF,EAAI,GAAKE,GAAKnF,OAAOwF,cAAc,CAAC5L,EAAQkL,EAAKK,GAAIA,CAChE,EACI,GAAkE,SAAUO,CAAQ,CAAE9Q,CAAK,CAAE+D,CAAK,CAAE8B,CAAI,CAAExE,CAAC,EAC3G,GAAIwE,MAAAA,EAAc,MAAM,UAAc,kCACtC,GAAIA,MAAAA,GAAgB,CAACxE,EAAG,MAAM,UAAc,iDAC5C,GAAI,mBAAOrB,EAAuB8Q,IAAa9Q,GAAS,CAACqB,EAAI,CAACrB,EAAM+Q,GAAG,CAACD,GAAW,MAAM,UAAc,2EACvG,MAAO,MAACjL,EAAexE,EAAE2P,IAAI,CAACF,EAAU/M,GAAS1C,EAAIA,EAAE0C,KAAK,CAAGA,EAAQ/D,EAAMiR,GAAG,CAACH,EAAU/M,GAASA,CACxG,EACI,GAAkE,SAAU+M,CAAQ,CAAE9Q,CAAK,CAAE6F,CAAI,CAAExE,CAAC,EACpG,GAAIwE,MAAAA,GAAgB,CAACxE,EAAG,MAAM,UAAc,iDAC5C,GAAI,mBAAOrB,EAAuB8Q,IAAa9Q,GAAS,CAACqB,EAAI,CAACrB,EAAM+Q,GAAG,CAACD,GAAW,MAAM,UAAc,4EACvG,MAAOjL,MAAAA,EAAexE,EAAIwE,MAAAA,EAAexE,EAAE2P,IAAI,CAACF,GAAYzP,EAAIA,EAAE0C,KAAK,CAAG/D,EAAMoG,GAAG,CAAC0K,EACxF,EAIA,IAAM,GAAiB,CAAC,oBAAqB,4BAA6B,yBAAyB,CAC7F6V,GAAoB,GAAe5lB,GAAG,CAACuU,GAAY,CAAC,iBAAiB,EAAEA,EAAS,CAAC,EACnFsR,GAAoB,MAAMA,0BAA0BxjB,YACpDvD,aAAc,CACV,KAAK,IAAIyQ,WACT9B,EAA6BoD,GAAG,CAAC,IAAI,EACrCnD,EAAmCwC,GAAG,CAAC,IAAI,CAAE,KAAK,GAClDvC,EAAiCuC,GAAG,CAAC,IAAI,CAAE,IAC3CtC,EAA6BsC,GAAG,CAAC,IAAI,CAAE,IACvCrC,EAAuCqC,GAAG,CAAC,IAAI,CAAE,GACrD,CACA,IAAI4V,eAAgB,CAChB,OAAO,IAAI,CAAC3gB,YAAY,CAAC,sBAC7B,CACA,IAAI2gB,cAAcC,CAAO,CAAE,CACnBA,EACA,IAAI,CAAC9iB,YAAY,CAAC,sBAAuB8iB,GAGzC,IAAI,CAAC7iB,eAAe,CAAC,UAE7B,CACA,IAAI8iB,oBAAqB,CACrB,IAAMC,EAAS,IAAI,CAAC9gB,YAAY,CAAC,oCACjC,EAEO,CAAC,EAAE8gB,EAAO,CAAC,CAAC,CADR,EAEf,CACA,IAAID,mBAAmBhjB,CAAK,CAAE,CAC1B,IAAI,CAACC,YAAY,CAAC,qBAAsBD,EAC5C,CACA,IAAIkjB,cAAe,CACf,OAAO,IAAI,CAACnjB,YAAY,CAAC,qBAC7B,CACA,IAAImjB,aAAaljB,CAAK,CAAE,CACpB,IAAI,CAAC2Q,eAAe,CAAC,qBAAsB3Q,EAC/C,CACA,IAAImjB,gBAAiB,CACjB,IAAIjlB,EACJ,MAAO,CAAC,OAACA,CAAAA,EAAK,IAAI,CAACklB,cAAc,GAAcllB,KAAY,IAAZA,EAAgB,KAAK,EAAIA,EAAGwf,oBAAoB,GAAK,IACxG,CACA,IAAI0F,gBAAiB,CACjB,IAAIllB,EACJ,IAAMhC,EAAK,OAACgC,CAAAA,EAAK,IAAI,CAACyU,aAAa,CAAC,cAAa,GAAezU,KAAY,IAAZA,EAAgB,KAAK,EAAIA,EAAGhC,EAAE,CAC9F,GAAI,CAACA,EACD,OAAO,KACX,IAAK,IAAMmU,KAAM,IAAI,CAACT,gBAAgB,CAAC,mBACnC,GAAIS,EAAGlO,YAAY,CAAC,mBAAqBjG,EACrC,OAAOmU,EAGf,OAAO,IACX,CACA,IAAIgT,cAAe,QACf,IAAS,CAACD,cAAc,CAEjB,IAAI,CAACA,cAAc,CAACzQ,aAAa,CAAC,iBAD9B,IAEf,CACA,IAAI2Q,eAAgB,CAChB,IAAMA,EAAgB,IAAI,CAAC1T,gBAAgB,CAAC,uBACtCjR,EAAU,EAAE,CAClB,IAAK,IAAMuY,KAAgBoM,EAAe,CACtC,IAAMC,EAAUrM,EAAavE,aAAa,CAAC,yBAC3ChU,EAAQlB,IAAI,CAAC,CACT8c,MAAOgJ,MAAAA,EAAyC,KAAK,EAAIA,EAAQ7R,WAAW,CAC5E1R,MAAOkX,MAAAA,EAAmD,KAAK,EAAIA,EAAa/U,YAAY,CAAC,cAC7Fe,QAASgU,CACb,EACJ,CACA,OAAOvY,CACX,CACAW,mBAAoB,CAChB,GAAM,CAAE8S,OAAAA,CAAM,CAAE,CAAI,GAAuB,IAAI,CAAE1H,EAAoC,IAAIyH,gBAAmB,KAC5G,IAAI,CAAC5S,gBAAgB,CAAC,UAAW,IAAI,CAAE,CAAE6S,OAAAA,CAAO,GAChD,IAAI,CAAC7S,gBAAgB,CAAC,QAAS,IAAI,CAAE,CAAE6S,OAAAA,CAAO,GAC9C,IAAI,CAAC7S,gBAAgB,CAAC,YAAa,IAAI,CAAE,CAAE6S,OAAAA,CAAO,GAClD,IAAI,CAAC7S,gBAAgB,CAAC,WAAY,IAAI,CAAE,CAAE6S,OAAAA,CAAO,GACjD,IAAI,CAAC7S,gBAAgB,CAAC,YAAa,IAAI,CAAE,CAAE6S,OAAAA,CAAO,GAClD,GAAuB,IAAI,CAAE3H,EAA8B,IAAKqB,IAAoCmB,IAAI,CAAC,IAAI,EAC7G,GAAuB,IAAI,CAAExC,EAA8B,IAAKsB,IAAgCkB,IAAI,CAAC,IAAI,EACzG,GAAuB,IAAI,CAAExC,EAA8B,IAAKK,GAAqCmC,IAAI,CAAC,IAAI,EAC1G,IAAI,CAACuW,eAAe,EACpB,IAAI,CAACA,eAAe,CAACjkB,gBAAgB,CAAC,4BAA6B,IAAI,CAAE,CACrE6S,OAAAA,CACJ,EAER,CACAvS,sBAAuB,CACnB,GAAuB,IAAI,CAAE6K,EAAoC,KAAKgE,KAAK,EAC/E,CACA2D,YAAYrR,CAAK,CAAE,CACf,IAAI9C,EAAIC,EACR,IAAMslB,EAAkB,OAACvlB,CAAAA,EAAK,IAAI,CAACklB,cAAc,GAAcllB,KAAY,IAAZA,EAAgB,KAAK,EAAIA,EAAG6Z,QAAQ,CAAC/W,EAAMC,MAAM,EAC1GyiB,EAAoB,GAAuB,IAAI,CAAEjZ,EAA8B,IAAKW,IAAiC6B,IAAI,CAAC,IAAI,CAAEjM,GACtI,GAAIyiB,GAAmBziB,cAAAA,EAAMnD,IAAI,CAAkB,CAC/C,GAAuB,IAAI,CAAEgN,EAAwC,GAAM,KAC3E,MACJ,CAGA,GAAI7J,cAAAA,EAAMnD,IAAI,CAAkB,CAC5BmD,EAAMQ,cAAc,GACpB,MACJ,CACA,GAAIiiB,GAAmBC,EAAmB,CACtC,GAAuB,IAAI,CAAEjZ,EAA8B,IAAKY,IAA2C4B,IAAI,CAAC,IAAI,CAAEjM,GACtH,GAAuB,IAAI,CAAE6J,EAAwC,GAAO,KAC5E,MACJ,CACA,GAAI7J,aAAAA,EAAMnD,IAAI,CAAiB,CAC3B,GAAI,GAAuB,IAAI,CAAEgN,EAAwC,KACrE,OAEJkG,sBAAsB,KACb,IAAI,CAACgH,QAAQ,CAACzU,SAASqgB,aAAa,GAAKrgB,SAASqgB,aAAa,GAAK,IAAI,CAACP,cAAc,EACxF,GAAuB,IAAI,CAAE3Y,EAA8B,IAAKiB,IAAmCuB,IAAI,CAAC,IAAI,CAEpH,GACA,MACJ,CACA,IAAMpQ,EAAOmE,EAAMC,MAAM,CAACsR,OAAO,CAACqQ,GAAkBpR,IAAI,CAAC,MACnDoS,EAAe/mB,OAAAA,EACrB,GAAI+mB,GAAgBF,EAAmB,CACnC,GAAI,GAAuB,IAAI,CAAEjZ,EAA8B,IAAKM,GAAkDkC,IAAI,CAAC,IAAI,CAAEjM,GAC7H,OACJ,IAAM6iB,EAAgBhnB,EAAK0V,OAAO,CAAC,yBACnC,GAAIsR,EAAe,CACf,IAAMC,EAAS,IAAI,CAACxT,aAAa,CAAChC,cAAc,CAACuV,EAAc1hB,YAAY,CAAC,wBAA0B,IACtG,GAAI2hB,GAAU,IAAI,CAAC/L,QAAQ,CAAC8L,IAAkB,IAAI,CAAC9L,QAAQ,CAAC+L,GAAS,CACjE,GAAuB,IAAI,CAAErZ,EAA8B,IAAKa,IAA8C2B,IAAI,CAAC,IAAI,CAAEjM,EAAO8iB,GAChI,MACJ,CACJ,CACA,GAAuB,IAAI,CAAErZ,EAA8B,IAAKe,IAAiCyB,IAAI,CAAC,IAAI,CAAEjM,EAAOnE,GACnH,GAAuB,IAAI,CAAE4N,EAA8B,IAAKc,IAAwC0B,IAAI,CAAC,IAAI,CAAEpQ,GAK/G,GAAuB,IAAI,CAAE4N,EAA8B,IAAKS,IAAiD+B,IAAI,CAAC,IAAI,CAAEjM,KAC5HA,EAAMQ,cAAc,GACc,WAA9B3E,EAAKsF,YAAY,CAAC,SAClB,QAAChE,CAAAA,EAAKtB,EAAK0V,OAAO,CAAC,OAAM,GAAepU,KAAY,IAAZA,GAAyBA,EAAG4lB,MAAM,EAAC,GAGnF,MACJ,CACmB,8BAAf/iB,EAAMnD,IAAI,EACV,GAAuB,IAAI,CAAE4M,EAA8B,IAAKgB,IAAkDwB,IAAI,CAAC,IAAI,CAEnI,CACA,IAAIzQ,OAAQ,CACR,OAAOC,MAAMC,IAAI,CAAC,IAAI,CAACkT,gBAAgB,CAACgT,GAAkBpR,IAAI,CAAC,MACnE,CACAwS,YAAY/M,CAAM,CAAE,CAChB,OAAO,IAAI,CAACtE,aAAa,CAAC,CAAC,iBAAiB,EAAEsE,EAAO,CAAC,CAAC,CAC3D,CACAgN,eAAepnB,CAAI,CAAE,OACjB,EAAIA,GACOA,EAAKmU,SAAS,CAAC+G,QAAQ,CAAC,2BAKvC,CACAmM,YAAYrnB,CAAI,CAAE,CACVA,IACAA,EAAKmU,SAAS,CAACnD,GAAG,CAAC,4BACnBhR,EAAK8V,aAAa,CAAC,sBAAsB1S,YAAY,CAAC,gBAAiB,QAE/E,CACAkkB,WAAWtnB,CAAI,CAAE,CACTA,IACAA,EAAKmU,SAAS,CAACgF,MAAM,CAAC,4BACtBnZ,EAAK8V,aAAa,CAAC,sBAAsBzS,eAAe,CAAC,iBAEjE,CACAkkB,aAAavnB,CAAI,CAAE,OACf,EAAIA,GACOA,EAAKkD,YAAY,CAAC,SAKjC,CACAskB,SAASxnB,CAAI,CAAE,CACPA,GACAA,EAAKoD,YAAY,CAAC,SAAU,SAEpC,CACAqkB,SAASznB,CAAI,CAAE,CACPA,GACAA,EAAKqD,eAAe,CAAC,SAE7B,CACAqkB,cAAc1nB,CAAI,CAAE,OAChB,EAAIA,GACOA,SAAAA,EAAK8V,aAAa,CAAC,sBAAsBxQ,YAAY,CAAC,eAKrE,CACAqiB,UAAU3nB,CAAI,CAAE,CACZ,GAAIA,GAAS,gBAAI,CAACimB,aAAa,EAAiB,iBAAI,CAACA,aAAa,EAAkB,CAChF,IAAM2B,EAAc5nB,EAAK8V,aAAa,CAAC,sBACjC+R,EAAcD,SAAAA,EAAYtiB,YAAY,CAAC,gBACxCuiB,GACD,GAAuB,IAAI,CAAEja,EAA8B,IAAKc,IAAwC0B,IAAI,CAAC,IAAI,CAAEwX,EAE3H,CACJ,CACAE,YAAY9nB,CAAI,CAAE,CACd,GAAIA,GAAS,gBAAI,CAACimB,aAAa,EAAiB,iBAAI,CAACA,aAAa,EAAkB,CAChF,IAAM2B,EAAc5nB,EAAK8V,aAAa,CAAC,sBACjC+R,EAAcD,SAAAA,EAAYtiB,YAAY,CAAC,gBACzCuiB,GACA,GAAuB,IAAI,CAAEja,EAA8B,IAAKc,IAAwC0B,IAAI,CAAC,IAAI,CAAEwX,EAE3H,CACJ,CACJ,EACA/Z,EAAqC,IAAIsE,QACzCrE,EAAmC,IAAIqE,QACvCpE,EAA+B,IAAIoE,QACnCnE,EAAyC,IAAImE,QAC7CvE,EAA+B,IAAIwE,QACnCnE,EAAsC,WAClC,GAAM,CAAEsH,OAAAA,CAAM,CAAE,CAAG,GAAuB,IAAI,CAAE1H,EAAoC,KACpF,IAAK,IAAM7N,KAAQ,IAAI,CAAC+S,gBAAgB,CAAC,GAAe4B,IAAI,CAAC,MACzD3U,EAAK0C,gBAAgB,CAAC,QAAS,GAAuB,IAAI,CAAEkL,EAA8B,IAAKM,GAAkD6Z,IAAI,CAAC,IAAI,EAAG,CAAExS,OAAAA,CAAO,GACtKvV,EAAK0C,gBAAgB,CAAC,UAAW,GAAuB,IAAI,CAAEkL,EAA8B,IAAKM,GAAkD6Z,IAAI,CAAC,IAAI,EAAG,CAAExS,OAAAA,CAAO,EAEhL,EACArH,EAAmD,SAA0D/J,CAAK,EAC9G,GAAI,CAAC,GAAuB,IAAI,CAAEyJ,EAA8B,IAAKW,IAAiC6B,IAAI,CAAC,IAAI,CAAEjM,GAC7G,MAAO,GACX,IAAMnE,EAAOmE,EAAMC,MAAM,CAACsR,OAAO,CAACqQ,GAAkBpR,IAAI,CAAC,YACzD,EAAK3U,KAEDA,EAAKsF,YAAY,CAAC,mBAClBnB,EAAMQ,cAAc,GACpBR,EAAMS,eAAe,GACrBT,EAAMmd,wBAAwB,GACvB,GAGf,EACAnT,EAA0C,SAAiDhK,CAAK,EAC5F,OAAO,GAAuB,IAAI,CAAEyJ,EAA8B,IAAKQ,IAAiDgC,IAAI,CAAC,IAAI,CAAEjM,IAAU,GAAuB,IAAI,CAAEyJ,EAA8B,IAAKS,IAAiD+B,IAAI,CAAC,IAAI,CAAEjM,EAC7Q,EACAiK,GAAkD,SAAyDjK,CAAK,EAC5G,OAAQA,aAAiB4R,eACrB5R,YAAAA,EAAMnD,IAAI,EACV,CAAEmD,CAAAA,EAAM6jB,OAAO,EAAI7jB,EAAM8jB,MAAM,EAAI9jB,EAAM+jB,OAAO,EAAI/jB,EAAMgkB,QAAQ,GAClEhkB,UAAAA,EAAMmL,GAAG,EAEjBjB,GAAkD,SAAyDlK,CAAK,EAC5G,OAAQA,aAAiB4R,eACrB5R,YAAAA,EAAMnD,IAAI,EACV,CAAEmD,CAAAA,EAAM6jB,OAAO,EAAI7jB,EAAM8jB,MAAM,EAAI9jB,EAAM+jB,OAAO,EAAI/jB,EAAMgkB,QAAQ,GAClEhkB,MAAAA,EAAMmL,GAAG,EAEjBhB,GAAuC,SAA8CnK,CAAK,EACtF,OAAOA,aAAiB8S,YAAc9S,UAAAA,EAAMnD,IAAI,EAEpDuN,GAAkC,SAAyCpK,CAAK,EAC5E,OAAO,GAAuB,IAAI,CAAEyJ,EAA8B,IAAKU,IAAsC8B,IAAI,CAAC,IAAI,CAAEjM,IAAU,GAAuB,IAAI,CAAEyJ,EAA8B,IAAKO,GAAyCiC,IAAI,CAAC,IAAI,CAAEjM,EAC1P,EACAqK,GAA4C,SAAmDrK,CAAK,EAChG,IAAI9C,EACJ8C,EAAMQ,cAAc,GACpBR,EAAMS,eAAe,GACjB,GAAuB,IAAI,CAAEgJ,EAA8B,IAAKoB,IAA2BoB,IAAI,CAAC,IAAI,EACpG,GAAuB,IAAI,CAAExC,EAA8B,IAAKmB,IAAyBqB,IAAI,CAAC,IAAI,GAGlG,GAAuB,IAAI,CAAExC,EAA8B,IAAKkB,IAAyBsB,IAAI,CAAC,IAAI,EAClG,OAAC/O,CAAAA,EAAK,GAAuB,IAAI,CAAEuM,EAA8B,IAAKuB,GAAgC,GAAe9N,KAAY,IAAZA,GAAyBA,EAAGkV,KAAK,GAE9J,EACA9H,GAA+C,SAAsDtK,CAAK,CAAE8iB,CAAM,EAC9G,IAAI,CAACnR,aAAa,CAAC,mBAAmBxE,KAAK,CAAC2S,OAAO,CAAG,OACtD,IAAMmE,EAAoB,IAAI9S,gBACxB,CAAEC,OAAAA,CAAM,CAAE,CAAG6S,EACbC,EAAoB,KACtBD,EAAkBvW,KAAK,GACvB,IAAI,CAACiE,aAAa,CAAC,mBAAmBxE,KAAK,CAAC2S,OAAO,CAAG,GAClD,GAAuB,IAAI,CAAErW,EAA8B,IAAKoB,IAA2BoB,IAAI,CAAC,IAAI,GACpG,GAAuB,IAAI,CAAExC,EAA8B,IAAKmB,IAAyBqB,IAAI,CAAC,IAAI,CAE1G,EACA6W,EAAOvkB,gBAAgB,CAAC,QAAS2lB,EAAmB,CAAE9S,OAAAA,CAAO,GAC7D0R,EAAOvkB,gBAAgB,CAAC,SAAU2lB,EAAmB,CAAE9S,OAAAA,CAAO,EAClE,EACA7G,GAAyC,SAAgD1O,CAAI,EAgBzF,GAT2B,aAAvB,IAAI,CAACimB,aAAa,EAClBzhB,WAAW,KACH,GAAuB,IAAI,CAAEoJ,EAA8B,IAAKoB,IAA2BoB,IAAI,CAAC,IAAI,GACpG,GAAuB,IAAI,CAAExC,EAA8B,IAAKmB,IAAyBqB,IAAI,CAAC,IAAI,CAE1G,GAIA,iBAAI,CAAC6V,aAAa,EAAmB,eAAI,CAACA,aAAa,CACvD,OACJ,IAAM4B,EAAc7nB,EAAKsF,YAAY,CAAC,gBAChCgjB,EAAUT,SAAAA,EAChB,GAAI,eAAI,CAAC5B,aAAa,CAAe,CAKjC,IAAK,IAAMsC,KAHPD,GACAtoB,EAAKoD,YAAY,CAAC,eAAgB,QAEZ,IAAI,CAAC2P,gBAAgB,CAAC,mBACxCwV,IAAgBvoB,GAChBuoB,EAAYnlB,YAAY,CAAC,eAAgB,SAGjD,GAAuB,IAAI,CAAEwK,EAA8B,IAAKqB,IAAoCmB,IAAI,CAAC,IAAI,CACjH,MAGIpQ,EAAKoD,YAAY,CAAC,eAAgB,CAAC,EAAEklB,EAAQ,CAAC,EAElD,GAAuB,IAAI,CAAE1a,EAA8B,IAAKsB,IAAgCkB,IAAI,CAAC,IAAI,EACzG,IAAI,CAACzM,aAAa,CAAC,IAAIC,YAAY,gBAAiB,CAChDG,OAAQ,CAAE/D,KAAMA,EAAKmG,aAAa,CAAEmiB,QAAS,IAAI,CAACZ,aAAa,CAAC1nB,EAAKmG,aAAa,CAAE,CACxF,GACJ,EACAwI,GAAkC,SAAyCxK,CAAK,CAAEnE,CAAI,EAClF,IAAMwoB,EAA6B,aAAkBvR,YAAc9S,UAAAA,EAAMnD,IAAI,EACxEmD,aAAiB4R,eACd5R,YAAAA,EAAMnD,IAAI,EACV,CAAEmD,CAAAA,EAAM6jB,OAAO,EAAI7jB,EAAM8jB,MAAM,EAAI9jB,EAAM+jB,OAAO,EAAI/jB,EAAMgkB,QAAQ,GAClEhkB,UAAAA,EAAMmL,GAAG,CAGbkZ,IAIJrkB,EAAMS,eAAe,GAErB6jB,EAAK/W,KAAK,GACd,EACA9C,GAAmD,WAC3C,GAAuB,IAAI,CAAEhB,EAA8B,IAAKuB,KAChE,GAAuB,IAAI,CAAEvB,EAA8B,IAAKuB,IAAkCoH,KAAK,GAC3G,GAAuB,IAAI,CAAE3I,EAA8B,IAAKK,GAAqCmC,IAAI,CAAC,IAAI,CAClH,EACAvB,GAAoC,WAChC,GAAuB,IAAI,CAAEjB,EAA8B,IAAKmB,IAAyBqB,IAAI,CAAC,IAAI,CACtG,EACAtB,GAA0B,WACtB,IAAIzN,CACJ,QAACA,CAAAA,EAAK,IAAI,CAACilB,cAAc,GAAcjlB,KAAY,IAAZA,GAAyBA,EAAGsF,WAAW,EAClF,EACAoI,GAA0B,WACtB,IAAI1N,CACJ,QAACA,CAAAA,EAAK,IAAI,CAACilB,cAAc,GAAcjlB,KAAY,IAAZA,GAAyBA,EAAG4e,WAAW,EAClF,EACAjR,GAA4B,WACxB,IAAI3N,EACJ,OAAO,OAACA,CAAAA,EAAK,IAAI,CAACilB,cAAc,GAAcjlB,KAAY,IAAZA,EAAgB,KAAK,EAAIA,EAAGmF,OAAO,CAAC,gBACtF,EACAyI,GAAqC,WACjC,GAAI,CAAC,IAAI,CAACoX,YAAY,CAClB,OACJ,IAAMG,EAAe,IAAI,CAACA,YAAY,CACtC,GAAI,CAACA,EACD,OACJ,GAAuB,IAAI,CAAE1Y,EAAkC,GAAuB,IAAI,CAAEA,EAAkC,MAAS0Y,EAAa3R,WAAW,EAAI,GAAK,KACxK,IAAM6T,EAAY,IAAI,CAAC5S,aAAa,CAAC,6CACrC,GAAI4S,GAAa,IAAI,CAACrC,YAAY,CAAE,CAChC,IAAMsC,EAAaliB,SAAS4W,aAAa,CAAC,QAC1CsL,EAAWxU,SAAS,CAACnD,GAAG,CAAC,kBACzB,IAAM4X,EAAcniB,SAAS4W,aAAa,CAAC,OAC3CsL,CAAAA,EAAW9T,WAAW,CAAG,IAAI,CAACsR,kBAAkB,CAChDyC,EAAY/T,WAAW,CAAG6T,EAAU7T,WAAW,EAAI,GACnD2R,EAAahB,eAAe,CAACmD,EAAYC,EAC7C,MAEIpC,EAAa3R,WAAW,CAAG,GAAuB,IAAI,CAAE/G,EAAkC,IAElG,EACAoB,GAAiC,WAC7B,GAAI,eAAI,CAAC+W,aAAa,CAAe,CACjC,IAAM7gB,EAAQ,IAAI,CAAC0Q,aAAa,CAAC,iCACjC,GAAI,CAAC1Q,EACD,OACJ,IAAMiV,EAAe,IAAI,CAACoM,aAAa,CAAC,EAAE,CACtCpM,GACAjV,EAAMjC,KAAK,CAAG,CAACkX,EAAalX,KAAK,EAAIkX,EAAaqD,KAAK,EAAI,EAAC,EAAG5I,IAAI,GACnE1P,EAAM/B,eAAe,CAAC,aAGtB+B,EAAMhC,YAAY,CAAC,WAAY,WAEvC,MACK,GAAI,aAAI,CAAC6iB,aAAa,CAAa,CAEpC,IAAM4C,EAAY,IAAI,CAAC/S,aAAa,CAAC,2BACrC,GAAI,CAAC+S,EACD,OACJ,IAAMC,EAASD,EAAU9V,gBAAgB,CAAC,SAI1C,IAAK,IAAMsH,KAHPyO,EAAOzmB,MAAM,CAAG,GAChB,GAAuB,IAAI,CAAE0L,EAA8B,GAAuB,IAAI,CAAEA,EAA8B,MAAQ+a,CAAM,CAAC,EAAE,CAACvpB,IAAI,CAAE,KAEvH,IAAI,CAACknB,aAAa,EAAE,CAC3C,IAAMsC,EAAWtiB,SAAS4W,aAAa,CAAC,SACxC0L,EAAS3lB,YAAY,CAAC,kBAAmB,QACzC2lB,EAAS/nB,IAAI,CAAG,SAChB+nB,EAASC,YAAY,CAAG,MACxBD,EAASxpB,IAAI,CAAG,GAAuB,IAAI,CAAEwO,EAA8B,KAC3Egb,EAAS5lB,KAAK,CAAG,CAACkX,EAAalX,KAAK,EAAIkX,EAAaqD,KAAK,EAAI,EAAC,EAAG5I,IAAI,GACtE+T,EAAUpM,MAAM,CAACsM,EACrB,CACA,IAAK,IAAM3jB,KAAS0jB,EAChB1jB,EAAM+T,MAAM,EAEpB,CACJ,EACAhK,GAAmC,WAC/B,OAAO,IAAI,CAAC2G,aAAa,CAACiQ,GAAkBpR,IAAI,CAAC,KACrD,EACA,GAAW,CACP,KAAM,CACT,CAAEqR,GAAkBhT,SAAS,CAAE,kBAAmB,KAAK,GACxDgT,GAAoB,GAAW,CAC3B,KAAU,CACb,CAAEA,IAEEzhB,OAAOgB,cAAc,CAACC,GAAG,CAAC,iBAC3BjB,OAAOyhB,iBAAiB,CAAGA,GAC3BzhB,OAAOgB,cAAc,CAACE,MAAM,CAAC,cAAeugB,I,aS1ahD,IAAMiD,EAAS,IAAI9W,QACnB,2BAAM+W,yBAAyB1mB,YAC3BC,mBAAoB,CAChB,IAAM2C,EAAQ,IAAI,CAACA,KAAK,CACxB,GAAI,CAACA,EACD,OACJ,IAAM+jB,EAAUC,SAVNC,CAAQ,CAAEC,EAAO,CAAC,CAAE,CAAE1jB,MAAAA,EAAQ,EAAK,CAAE2jB,OAAAA,EAAS,EAAK,CAAEC,KAAAA,EAAO,EAAK,CAAE,CAAG,CAAC,CAAC,EACtF,OAAOC,SAhCOJ,CAAQ,CAAEC,EAAO,CAAC,CAAE,CAAE1jB,MAAAA,EAAQ,EAAI,CAAE2jB,OAAAA,EAAS,EAAI,CAAEC,KAAAA,EAAO,EAAK,CAAE,CAAG,CAAC,CAAC,EACpF,IACIE,EADAC,EAAO,EAEPC,EAAY,GAChB,SAASC,EAAG,GAAGC,CAAI,EACf,GAAIF,EACA,OACJ,IAAM9R,EAAQiS,KAAKC,GAAG,GAAKL,EAC3BA,EAAOI,KAAKC,GAAG,GACXpkB,GACAA,EAAQ,GACRyjB,EAASY,KAAK,CAAC,IAAI,CAAEH,GACjBN,GACAK,EAAGK,MAAM,IAER,IAAWpS,EAAQwR,GAAS,CAACC,CAAK,IACvCjlB,aAAaolB,GACbA,EAAQllB,WAAW,KACfmlB,EAAOI,KAAKC,GAAG,GACfX,EAASY,KAAK,CAAC,IAAI,CAAEH,GACjBN,GACAK,EAAGK,MAAM,EACjB,EAAG,EAAiBZ,EAAOxR,EAAdwR,GAErB,CAKA,OAJAO,EAAGK,MAAM,CAAG,KACR5lB,aAAaolB,GACbE,EAAY,EAChB,EACOC,CACX,EAEoBR,EAAUC,EAAM,CAAE1jB,MAAAA,EAAO2jB,OAAAA,EAAQC,KAAAA,CAAK,EAC1D,EAQiCW,EAAMpC,IAAI,CAAC,KAAM,IAAI,EAAG,KAEjDkB,EAAO5Y,GAAG,CAAC,IAAI,CADD,CAAE8Z,MAAOhB,EAASiB,WAAY,IAAK,GAEjDhlB,EAAM1C,gBAAgB,CAAC,QAAS0b,GAChChZ,EAAM1C,gBAAgB,CAAC,QAASymB,GAChC/jB,EAAM4jB,YAAY,CAAG,MACrB5jB,EAAMilB,UAAU,CAAG,EACvB,CACArnB,sBAAuB,CACnB,IAAMoC,EAAQ,IAAI,CAACA,KAAK,CACxB,GAAI,CAACA,EACD,OACJ,IAAMhG,EAAQ6pB,EAAOzjB,GAAG,CAAC,IAAI,EACxBpG,IAEL6pB,EAAO1V,MAAM,CAAC,IAAI,EAClBnO,EAAMnC,mBAAmB,CAAC,QAASmb,GACnChZ,EAAMnC,mBAAmB,CAAC,QAAS7D,EAAM+qB,KAAK,EAC9C/kB,EAAMklB,iBAAiB,CAAC,IAC5B,CACAvW,yBAAyBxU,CAAI,CAAE,CAC3B,GAAIA,aAAAA,EAAqB,CACrB,IAAM6F,EAAQ,IAAI,CAACA,KAAK,CACnBA,GAELA,CAAAA,EAAMmlB,QAAQ,CAAG,IAAI,CAACA,QAAQ,CAClC,CACJ,CACA,WAAWhW,oBAAqB,CAC5B,MAAO,CAAC,WAAW,CAEvB,IAAInP,OAAQ,CACR,OAAO,IAAI,CAAC0Q,aAAa,CAAC,QAC9B,CACA,IAAI+D,KAAM,CACN,IAAMA,EAAM,IAAI,CAACvU,YAAY,CAAC,OAC9B,GAAI,CAACuU,EACD,MAAO,GACX,IAAMgE,EAAO,IAAI,CAACpK,aAAa,CAAC4J,aAAa,CAAC,KAE9C,OADAQ,EAAKve,IAAI,CAAGua,EACLgE,EAAKve,IAAI,CAEpB,IAAIua,IAAI1W,CAAK,CAAE,CACX,IAAI,CAACC,YAAY,CAAC,MAAOD,EAC7B,CACA,IAAI2a,MAAO,CACP,IAAMC,EAAc,IAAI,CAACjI,aAAa,CAAC,eACvC,OAAO,IAAI,CAACxQ,YAAY,CAAC,SAAYyY,aAAuB1Y,kBAAoB0Y,EAAY5a,KAAK,EAAK,EAC1G,CACA,IAAI2a,KAAK3a,CAAK,CAAE,CACZ,IAAI,CAACC,YAAY,CAAC,OAAQD,EAC9B,CACA,IAAIonB,UAAW,CACX,OAAO,IAAI,CAACrnB,YAAY,CAAC,WAC7B,CACA,IAAIqnB,SAASA,CAAQ,CAAE,CACfA,EACA,IAAI,CAACnnB,YAAY,CAAC,WAAY,IAG9B,IAAI,CAACC,eAAe,CAAC,WAE7B,CACA,IAAI2a,WAAY,CACZ,OAAO,IAAI,CAAC1Y,YAAY,CAAC,eAAiB,oBAC9C,CACA,IAAI0Y,UAAU7a,CAAK,CAAE,CACjB,IAAI,CAACC,YAAY,CAAC,aAAcD,EACpC,CACJ,EACA,SAASib,EAAgBja,CAAK,EAC1B,IAAMiB,EAAQjB,EAAME,aAAa,CACjC,GAAI,CAAEe,CAAAA,aAAiBC,gBAAe,EAClC,OACJ,IAAMmlB,EAAmBplB,EAAMsQ,OAAO,CAAC,cACvC,GAAI,CAAE8U,CAAAA,aAA4BtB,gBAAe,EAC7C,OACJ,IAAMrP,EAAM2Q,EAAiB3Q,GAAG,CAC1BiE,EAAO0M,EAAiB1M,IAAI,CAC5B1e,EAAQ6pB,EAAOzjB,GAAG,CAACglB,GACzB,GAAI,CAAC3Q,GAAO,CAACiE,GAAQ,CAAC1e,EAClB,OAEJ,IAAIqf,EAAU,kBAEdrZ,EAAMzB,aAAa,CAAC,IAAIC,YAAY,mBAAoB,CACpDC,QAAS,GACTE,OAAQ,CAAE0mB,YAHM,GAAWhM,EAAU5B,CAGf,CAC1B,IACI2N,EAAiBD,QAAQ,EACzBnlB,EAAMklB,iBAAiB,CAAC7L,EAEhC,CAWA,eAAeiM,EAAuBlX,CAAE,CAAEmX,CAAG,CAAEC,CAAO,EAClD,GAAI,CACA,IAAMlO,EAAW,MAAMC,MAAMgO,EAAKC,GAGlC,OAFApX,EAAG7P,aAAa,CAAC,IAAIC,YAAY,SACjC4P,EAAG7P,aAAa,CAAC,IAAIC,YAAY,YAC1B8Y,CACX,CACA,MAAO4B,EAAO,CAKV,KAJmB,eAAfA,EAAM/e,IAAI,GACViU,EAAG7P,aAAa,CAAC,IAAIC,YAAY,UACjC4P,EAAG7P,aAAa,CAAC,IAAIC,YAAY,aAE/B0a,CACV,CACJ,CACA,eAAe6L,EAAMK,CAAgB,EACjC,IAAMplB,EAAQolB,EAAiBplB,KAAK,CACpC,GAAI,CAACA,EACD,OAEJ,IAAM4Y,EAAYwM,EAAiBxM,SAAS,CACtCnE,EAAM2Q,EAAiB3Q,GAAG,CAC1BiE,EAAO0M,EAAiB1M,IAAI,CAC5B1e,EAAQ6pB,EAAOzjB,GAAG,CAACglB,GACzB,GAAI,CAAC3Q,GAAO,CAACiE,GAAQ,CAAC1e,GAMlB,CAACgG,EAAMjC,KAAK,CAAC2R,IAAI,GANQ,CACrB0V,EAAiBD,QAAQ,EACzBnlB,EAAMklB,iBAAiB,CAAC,IAE5B,MACJ,CAOA,IAAM5jB,EAAO,IAAI2Y,SACjB3Y,EAAK+V,MAAM,CAACuB,EAAWF,GACvBpX,EAAK+V,MAAM,CAAC,QAASrX,EAAMjC,KAAK,EAChCiC,EAAMzB,aAAa,CAAC,IAAIC,YAAY,kBAAmB,CACnDC,QAAS,GACTE,OAAQ,CAAE2C,KAAAA,CAAK,CACnB,IACItH,EAAMgrB,UAAU,CAChBhrB,EAAMgrB,UAAU,CAACvY,KAAK,GAGtB2Y,EAAiB7mB,aAAa,CAAC,IAAIC,YAAY,cAEnDxE,EAAMgrB,UAAU,CA1DhB,oBAAyB7lB,OACd,IAAI+Q,gBAER,CACHC,OAAQ,KACR1D,QACA,CACJ,EAoDA,GAAI,KAkCiC0Y,MACjC9L,EAlCA,IAAM/B,EAAW,MAAMgO,EAAuBF,EAAkB3Q,EAAK,CACjEyF,YAAa,cACb/J,OAAQnW,EAAMgrB,UAAU,CAAC7U,MAAM,CAC/BgK,OAAQ,OACR7Y,KAAAA,CACJ,EACIgW,CAAAA,EAASE,EAAE,EACqB4N,EAAiBD,QAAQ,EAiB7DnlB,EAAMklB,iBAAiB,CAAC,IAE5BllB,EAAMzB,aAAa,CAAC,IAAIC,YAAY,qBAAsB,CACtDC,QAAS,GACTE,OAAQ,CACJ2Y,SAAUA,EAASmO,KAAK,EAC5B,CACJ,MAEqCN,EAvBGC,EAAiBD,QAAQ,CAwB7D9L,EAAU,oBAEdrZ,EAAMzB,aAAa,CAAC,IAAIC,YAAY,mBAAoB,CACpDC,QAAS,GACTE,OAAQ,CACJ2Y,SAAUA,EAASmO,KAAK,GACxBJ,YALY,GAAWhM,EAAU5B,CAMrC,CACJ,IACI0N,GACAnlB,EAAMklB,iBAAiB,CAAC7L,IAhCxBrf,EAAMgrB,UAAU,CAAG,KACnBhlB,EAAMzB,aAAa,CAAC,IAAIC,YAAY,sBAAuB,CAAEC,QAAS,EAAK,GAC/E,CACA,MAAOya,EAAO,CACS,eAAfA,EAAM/e,IAAI,GACVH,EAAMgrB,UAAU,CAAG,KACnBhlB,EAAMzB,aAAa,CAAC,IAAIC,YAAY,sBAAuB,CAAEC,QAAS,EAAK,IAEnF,CACJ,CA0BKU,OAAOgB,cAAc,CAACC,GAAG,CAAC,gBAC3BjB,OAAO2kB,gBAAgB,CAAGA,iBAC1B3kB,OAAOgB,cAAc,CAACE,MAAM,CAAC,aAAcyjB,kB,sBCpL3C4B,E,+DChEJ,IAAMC,EAAc,IAAI3Y,QAgBlB4Y,EAAY,IAAI7Y,QAQf,SAAS8Y,EAAczX,EAAK/M,QAAQ,EACvC,GAAIukB,EAAU7a,GAAG,CAACqD,GACd,OAAOwX,EAAUxlB,GAAG,CAACgO,GACzB,IAAI0X,EAAS,GACPC,EAAW,IAAIC,iBAAiBC,IAClC,IAAK,IAAMC,KAAYD,EACnB,GAAIC,eAAAA,EAAStqB,IAAI,EAAqBsqB,EAASlnB,MAAM,YAAY8C,QAC7DqkB,EAAYD,EAASlnB,MAAM,OAE1B,GAAIknB,cAAAA,EAAStqB,IAAI,EAAoBsqB,EAASE,UAAU,CAACnpB,MAAM,CAChE,IAAK,IAAM4f,KAAQqJ,EAASE,UAAU,CAC9BvJ,aAAgB/a,SAChBukB,EAAaxJ,EAKjC,GACAkJ,EAAS9Z,OAAO,CAACmC,EAAI,CAAEkY,UAAW,GAAMC,QAAS,GAAMC,gBAAiB,CAAC,cAAc,GACvF,IAAMC,EAAe,CACjB,IAAIX,QAAS,CACT,OAAOA,CACX,EACAY,cACIZ,EAAS,GACTF,EAAUzX,MAAM,CAACC,GACjB2X,EAASY,UAAU,EACvB,CACJ,EAEA,OADAf,EAAU3a,GAAG,CAACmD,EAAIqY,GACXA,CACX,CACA,SAASJ,EAAaxI,CAAI,EACtB,IAAK,IAAMzP,KAAMyP,EAAKlQ,gBAAgB,CAAC,iBACnCwY,EAAY/X,GAGZyP,aAAgB/b,SAAW+b,EAAK/f,YAAY,CAAC,gBAC7CqoB,EAAYtI,EAEpB,CAEA,SAASzN,EAAYrR,CAAK,EACtB,IAAMqP,EAAKrP,EAAME,aAAa,CAC9B,IAAK,IAAM2nB,KAAWC,EAASzY,GAC3B,GAAIrP,EAAMnD,IAAI,GAAKgrB,EAAQhrB,IAAI,CAAE,CAC7B,IAAMopB,EAAa5W,EAAGkC,OAAO,CAACsW,EAAQvI,GAAG,EACrCsH,EAAY5a,GAAG,CAACia,IAAe,mBAAOA,CAAU,CAAC4B,EAAQzM,MAAM,CAAC,EAChE6K,CAAU,CAAC4B,EAAQzM,MAAM,CAAC,CAACpb,GAE/B,IAAM8e,EAAOzP,EAAG+E,WAAW,GAC3B,GAAI0K,aAAgBzK,YAAcuS,EAAY5a,GAAG,CAAC8S,EAAKxK,IAAI,GAAKwK,EAAKxK,IAAI,CAACjS,OAAO,CAACwlB,EAAQvI,GAAG,EAAG,CAC5F,IAAMyI,EAAmBjJ,EAAKxK,IAAI,CACc,YAA5C,OAAOyT,CAAgB,CAACF,EAAQzM,MAAM,CAAC,EACvC2M,CAAgB,CAACF,EAAQzM,MAAM,CAAC,CAACpb,EAEzC,CACJ,CAER,CACA,SAAU8nB,EAASzY,CAAE,EACjB,IAAK,IAAM/C,IAAU,CAAC+C,EAAGlO,YAAY,CAAC,gBAAkB,EAAC,EAAGwP,IAAI,GAAGsG,KAAK,CAAC,OAAQ,CAC7E,IAAM+Q,EAAW1b,EAAO2b,WAAW,CAAC,KAC9BC,EAAY9jB,KAAKC,GAAG,CAAC,EAAGiI,EAAO2b,WAAW,CAAC,OAAS3b,EAAOpO,MAAM,MACjE,CACFrB,KAAMyP,EAAO6b,KAAK,CAAC,EAAGH,GACtB1I,IAAKhT,EAAO6b,KAAK,CAACH,EAAW,EAAGE,GAChC9M,OAAQ9O,EAAO6b,KAAK,CAACD,EAAY,IAAM,aAC3C,CACJ,CACJ,CACA,SAASd,EAAY/X,CAAE,EACnB,IAAK,IAAMwY,KAAWC,EAASzY,GAC3BA,EAAG9Q,gBAAgB,CAACspB,EAAQhrB,IAAI,CAAEwU,EAE1C,CCvFO,SAAS+W,EAAWnC,CAAU,CAAE7qB,CAAI,EACvC,IAAMkkB,EAAM2G,EAAW7jB,OAAO,CAACwO,WAAW,GAC1C,GAAIqV,EAAW7Q,UAAU,CACrB,KAAK,IAAM/F,KAAM4W,EAAW7Q,UAAU,CAACxG,gBAAgB,CAAC,CAAC,eAAe,EAAE0Q,EAAI,CAAC,EAAElkB,EAAK,EAAE,CAAC,EACrF,GAAI,CAACiU,EAAGkC,OAAO,CAAC+N,GACZ,OAAOjQ,CACf,CAEJ,IAAK,IAAMA,KAAM4W,EAAWrX,gBAAgB,CAAC,CAAC,eAAe,EAAE0Q,EAAI,CAAC,EAAElkB,EAAK,EAAE,CAAC,EAC1E,GAAIiU,EAAGkC,OAAO,CAAC+N,KAAS2G,EACpB,OAAO5W,CAEnB,CCxBO,IAAMgZ,EAAY,GAASC,OAAO,iBAAOC,EAAmBA,EAAIC,WAAW,CAAGD,GAChFE,OAAO,CAAC,oBAAqB,OAC7BA,OAAO,CAAC,MAAO,KACfA,OAAO,CAAC,QAAS,IACjB7X,WAAW,GACH8X,EAAgB,CAACH,EAAK1rB,EAAO,UAAU,IAChD,IAAM8rB,EAASN,EAAUE,GACzB,GAAI,CAACI,EAAOxW,QAAQ,CAAC,KACjB,MAAM,IAAIuN,aAAa,CAAC,EAAE7iB,EAAK,EAAE,EAAEyrB,OAAOC,GAAK,gBAAgB,EAAE1rB,EAAK,KAAK,CAAC,CAAE,eAElF,OAAO8rB,CACX,ECTMC,EAAU,OAQT,SAASC,EAAKC,CAAK,CAAE3d,CAAG,EAC3B4d,EAAKD,EAAOF,GAAS/b,GAAG,CAAC1B,EAC7B,CAoBA,IAAM6d,EAAc,IAAI/a,QACjB,SAASgb,EAAgBC,CAAQ,CAAEC,CAAK,EAC3C,GAAIH,EAAYhd,GAAG,CAACkd,GAChB,OACJF,EAAYnc,GAAG,CAACqc,GAChB,IAAMJ,EAAQziB,OAAO+iB,cAAc,CAACF,GAC9BjH,EAAS6G,GAAOhuB,aAAauuB,YAAc,QAGjD,IAAK,IAAMle,KAFNge,GACDA,CAAAA,EAAQJ,EAAKD,EAAOF,EAAO,EACbO,GAAO,CACrB,IAAMnqB,EAAQkqB,CAAQ,CAAC/d,EAAI,CACrB/P,EAAOstB,EAAc,CAAC,EAAEzG,EAAO,EAAE9W,EAAI,CAAC,EACxCme,EAAa,CACbC,aAAc,GACdloB,MACI,OAAO,IAAI,CAACF,YAAY,CAAC/F,IAAS,EACtC,EACA8Q,IAAI4J,CAAQ,EACR,IAAI,CAAC7W,YAAY,CAAC7D,EAAM0a,GAAY,GACxC,CACJ,CACI,CAAiB,UAAjB,OAAO9W,EACPsqB,EAAa,CACTC,aAAc,GACdloB,MACI,OAAOsN,OAAO,IAAI,CAACxN,YAAY,CAAC/F,IAAS,EAC7C,EACA8Q,IAAI4J,CAAQ,EACR,IAAI,CAAC7W,YAAY,CAAC7D,EAAM0a,EAC5B,CACJ,EAEsB,WAAjB,OAAO9W,GACZsqB,CAAAA,EAAa,CACTC,aAAc,GACdloB,MACI,OAAO,IAAI,CAACtC,YAAY,CAAC3D,EAC7B,EACA8Q,IAAI4J,CAAQ,EACR,IAAI,CAACnG,eAAe,CAACvU,EAAM0a,EAC/B,CACJ,GAEJzP,OAAOwF,cAAc,CAACqd,EAAU/d,EAAKme,GACjCne,KAAO+d,GAAY,CAACA,EAASnqB,YAAY,CAAC3D,IAC1CkuB,EAAWpd,GAAG,CAACD,IAAI,CAACid,EAAUlqB,EAEtC,CACJ,CC5EA,IAAMwqB,EAASC,OAAOC,GAAG,CAAC,YACnB,2BAAMC,iBACT7uB,YAAY8uB,CAAW,CAAE,CAErB,IAAMC,EAAW,IAAI,CACfvrB,EAAoBsrB,EAAY/a,SAAS,CAACvQ,iBAAiB,CACjEsrB,EAAY/a,SAAS,CAACvQ,iBAAiB,CAAG,WACtCurB,EAASvrB,iBAAiB,CAAC,IAAI,CAAEA,EACrC,EACA,IAAMO,EAAuB+qB,EAAY/a,SAAS,CAAChQ,oBAAoB,CACvE+qB,EAAY/a,SAAS,CAAChQ,oBAAoB,CAAG,WACzCgrB,EAAShrB,oBAAoB,CAAC,IAAI,CAAEA,EACxC,EACA,IAAM+Q,EAA2Bga,EAAY/a,SAAS,CAACe,wBAAwB,CAC/Ega,EAAY/a,SAAS,CAACe,wBAAwB,CAAG,SAAUxU,CAAI,CAAEya,CAAQ,CAAEC,CAAQ,EAC/E+T,EAASja,wBAAwB,CAAC,IAAI,CAAExU,EAAMya,EAAUC,EAAUlG,EACtE,EACA,IAAIQ,EAAqBwZ,EAAYxZ,kBAAkB,EAAI,EAAE,CAC7D/J,OAAOwF,cAAc,CAAC+d,EAAa,qBAAsB,CACrDL,aAAc,GACdloB,MACI,OAAOwoB,EAASzZ,kBAAkB,CAAC,IAAI,CAAEA,EAC7C,EACAlE,IAAIjP,CAAU,EACVmT,EAAqBnT,CACzB,CACJ,GACA6sB,SDkDiCF,CAAW,EAChD,IAAIG,EAAWH,EAAYxZ,kBAAkB,EAAI,EAAE,CAC7C6R,EAAS2H,EAAYP,UAAU,EAAI,QACnCW,EAAsB,GAAUtB,EAAc,CAAC,EAAEzG,EAAO,EAAE7mB,EAAK,CAAC,EACtEiL,OAAOwF,cAAc,CAAC+d,EAAa,qBAAsB,CACrDL,aAAc,GACdloB,IAAAA,IACW,IAAI0nB,EAAKa,EAAY/a,SAAS,CAAE+Z,GAAS,CAAC5sB,GAAG,CAACguB,GAAqBC,MAAM,CAACF,GAErF7d,IAAIjP,CAAU,EACV8sB,EAAW9sB,CACf,CACJ,EACJ,EC/DiC2sB,GACzBM,SCxBiBN,CAAW,EAChC,IAAMxuB,EAAOitB,EAAUuB,EAAYxuB,IAAI,EAAEqtB,OAAO,CAAC,YAAa,IAC9D,GAAI,CACAroB,OAAOgB,cAAc,CAACE,MAAM,CAAClG,EAAMwuB,GAGnCxpB,MAAM,CAACwpB,EAAYxuB,IAAI,CAAC,CAAGgG,eAAeC,GAAG,CAACjG,EAClD,CACA,MAAOsb,EAAG,CAGN,GAAI,CAAEA,CAAAA,aAAagJ,cAAgBhJ,sBAAAA,EAAEtb,IAAI,EACrC,MAAMsb,CACd,CAEJ,EDSiBkT,EACb,CACAxZ,mBAAmB8Y,CAAQ,CAAE9Y,CAAkB,CAAE,CAC7C,OAAOA,CACX,CACA9R,kBAAkB4qB,CAAQ,CAAE5qB,CAAiB,CAAE,KJzBxBwgB,EAAAA,EI0BnBoK,EAASvZ,eAAe,CAAC,gBAAiB,IAC1CvO,eAAe+oB,OAAO,CAACjB,IACvBkB,SExCuBloB,CAAO,EAClC,IAAK,IAAM+W,KAAY/W,EAAQ0M,gBAAgB,CAAC,6BACxCqK,EAASjX,aAAa,GAAKE,GAC3BA,EACKmT,YAAY,CAAC,CACdC,KAAM2D,WAAAA,EAAS9X,YAAY,CAAC,mBAAkC,SAAW,MAC7E,GACKmX,MAAM,CAACW,EAASG,OAAO,CAACiR,SAAS,CAAC,IAGnD,EF8BuBnB,GACfD,EAAgBC,GJnCpBtC,EAAY/Z,GAAG,CIoCNqc,GJnCLjD,EAAW7Q,UAAU,GAMzBkS,EADuBxI,EAJRmH,EAAW7Q,UAAU,EAMpC0R,EAAchI,IALdwI,EIiCS4B,GJhCTpC,EAAcb,EAAW3W,aAAa,EIiClChR,GAAmB2N,KAAKid,GACpBA,EAAS9T,UAAU,GJ/B3BkS,EADuBxI,EIiCJoK,EAAS9T,UAAU,EJ/BtC0R,EAAchI,GIgCd,CACAjgB,qBAAqBqD,CAAO,CAAErD,CAAoB,CAAE,CAChDA,GAAsBoN,KAAK/J,EAC/B,CACA0N,yBAAyBsZ,CAAQ,CAAE9tB,CAAI,CAAEya,CAAQ,CAAEC,CAAQ,CAAElG,CAAwB,CAAE,CACnFqZ,EAAgBC,GACH,kBAAT9tB,GAA4BwU,GAC5BA,EAAyB3D,IAAI,CAACid,EAAU9tB,EAAMya,EAAUC,EAEhE,CACJ,EACO,SAASiT,EAAKD,CAAK,CAAE1tB,CAAI,EAC5B,GAAI,CAACiL,OAAOwI,SAAS,CAACyb,cAAc,CAACre,IAAI,CAAC6c,EAAOU,GAAS,CACtD,IAAMhS,EAASsR,CAAK,CAACU,EAAO,CACtBxtB,EAAO8sB,CAAK,CAACU,EAAO,CAAG,IAAIe,IACjC,GAAI/S,EACA,IAAK,GAAM,CAACrM,EAAKnM,EAAM,GAAIwY,EACvBxb,EAAIkQ,GAAG,CAACf,EAAK,IAAI6D,IAAIhQ,GAGjC,CACA,IAAMhD,EAAM8sB,CAAK,CAACU,EAAO,CAGzB,OAFKxtB,EAAIgQ,GAAG,CAAC5Q,IACTY,EAAIkQ,GAAG,CAAC9Q,EAAM,IAAI4T,KACfhT,EAAIqF,GAAG,CAACjG,EACnB,CG9DO,SAAS6E,EAAO6oB,CAAK,CAAE3d,CAAG,EAC7B4d,EAAKD,EAAO,UAAUjc,GAAG,CAAC1B,GAC1B9E,OAAOwF,cAAc,CAACid,EAAO3d,EAAK,CAC9Boe,aAAc,GACdloB,MACI,OAAO+mB,EAAW,IAAI,CAAEjd,EAC5B,CACJ,EACJ,CAQO,SAASqf,EAAQ1B,CAAK,CAAE3d,CAAG,EAC9B4d,EAAKD,EAAO,WAAWjc,GAAG,CAAC1B,GAC3B9E,OAAOwF,cAAc,CAACid,EAAO3d,EAAK,CAC9Boe,aAAc,GACdloB,MACI,OAAOopB,SNLSxE,CAAU,CAAE7qB,CAAI,EACxC,IAAMkkB,EAAM2G,EAAW7jB,OAAO,CAACwO,WAAW,GACpC4Z,EAAU,EAAE,CAClB,GAAIvE,EAAW7Q,UAAU,CACrB,IAAK,IAAM/F,KAAM4W,EAAW7Q,UAAU,CAACxG,gBAAgB,CAAC,CAAC,gBAAgB,EAAE0Q,EAAI,CAAC,EAAElkB,EAAK,EAAE,CAAC,EACjFiU,EAAGkC,OAAO,CAAC+N,IACZkL,EAAQ/tB,IAAI,CAAC4S,GAGzB,IAAK,IAAMA,KAAM4W,EAAWrX,gBAAgB,CAAC,CAAC,gBAAgB,EAAE0Q,EAAI,CAAC,EAAElkB,EAAK,EAAE,CAAC,EACvEiU,EAAGkC,OAAO,CAAC+N,KAAS2G,GACpBuE,EAAQ/tB,IAAI,CAAC4S,GAErB,OAAOmb,CACX,EMT+B,IAAI,CAAErf,EAC7B,CACJ,EACJ,CC1BO,SAAS8a,EAAW2D,CAAW,EAClC,IAAID,iBAAiBC,EACzB,CTTA,IAAMc,EAAkB,IAAIH,IACtBI,EAAQ,IAAIzuB,QAAQC,IAClBmG,YAAAA,SAASsoB,UAAU,CACnBzuB,IAGAmG,SAAS/D,gBAAgB,CAAC,mBAAoB,IAAMpC,IAAW,CAAEkpB,KAAM,EAAK,EAEpF,GACMwF,EAAmB,IAAI3uB,QAAQC,IACjC,IAAM8pB,EAAa,IAAI9U,gBACvB8U,EAAW7U,MAAM,CAAC7S,gBAAgB,CAAC,QAAS,IAAMpC,KAClD,IAAM2uB,EAAkB,CAAEzF,KAAM,GAAM7Q,QAAS,GAAMpD,OAAQ6U,EAAW7U,MAAM,EACxE2Z,EAAU,IAAM9E,EAAWvY,KAAK,GACtCpL,SAAS/D,gBAAgB,CAAC,YAAawsB,EAASD,GAEhDxoB,SAAS/D,gBAAgB,CAAC,aAAcwsB,EAASD,GACjDxoB,SAAS/D,gBAAgB,CAAC,UAAWwsB,EAASD,GAC9CxoB,SAAS/D,gBAAgB,CAAC,cAAewsB,EAASD,EACtD,GAsBME,EAAa,CACfL,MAAO,IAAMA,EACbE,iBAAkB,IAAMA,EACxBzuB,QAxBY,GAAa,IAAIF,QAAQC,IACrC,IAAM6qB,EAAW,IAAI3a,qBAAqB3O,IACtC,IAAK,IAAM9B,KAAS8B,EAChB,GAAI9B,EAAM2Q,cAAc,CAAE,CACtBpQ,IACA6qB,EAASY,UAAU,GACnB,MACJ,CAER,EAAG,CAKCqD,WAAY,oBACZC,UAAW,GACf,GACA,IAAK,IAAM7b,KAAM/M,SAASsM,gBAAgB,CAACxM,GACvC4kB,EAAS9Z,OAAO,CAACmC,EAEzB,EAKA,EACM8b,EAAS,IAAInd,QACnB,SAASod,EAAKtN,CAAI,EACdhO,qBAAqBqb,EAAO9pB,GAAG,CAACyc,IAAS,GACzCqN,EAAOjf,GAAG,CAAC4R,EAAM/N,sBAAsB,KACnC,IAAK,IAAM3N,KAAWsoB,EAAgB1T,IAAI,GAAI,CAC1C,IAAMqU,EAAQvN,EAAKzb,OAAO,CAACD,GAAW0b,EAAOA,EAAKnM,aAAa,CAACvP,GAChE,GAAIhB,eAAeC,GAAG,CAACe,IAAYipB,EAAO,CACtC,IAAMC,EAAgBD,GAAOlqB,aAAa,iBAAmB,QACvDoqB,EAAWD,KAAgBN,EAAaA,CAAU,CAACM,EAAa,CAAGN,EAAWL,KAAK,CAEzF,IAAK,IAAMa,KAAMd,EAAgBrpB,GAAG,CAACe,IAAY,EAAE,CAC/CmpB,EAASnpB,GAASqpB,IAAI,CAACD,GAC3Bd,EAAgBtb,MAAM,CAAChN,GACvB+oB,EAAO/b,MAAM,CAAC0O,EAClB,CACJ,CACJ,GACJ,CAEO,SAAS4N,EAAWtpB,CAAO,CAAE8iB,CAAQ,EACnCwF,EAAgB1e,GAAG,CAAC5J,IACrBsoB,EAAgBxe,GAAG,CAAC9J,EAAS,IAAI4M,KACrC0b,EAAgBrpB,GAAG,CAACe,GAASyK,GAAG,CAACqY,GACjCkG,EAAK9oB,SAASC,IAAI,EACbokB,GAWDA,CAVAA,EAAgB,IAAIM,iBAAiBC,IACjC,GAAKwD,EAAgBiB,IAAI,CAEzB,IAAK,IAAMxE,KAAYD,EACnB,IAAK,IAAMpJ,KAAQqJ,EAASE,UAAU,CAC9BvJ,aAAgB/a,SAChBqoB,EAAKtN,EAGrB,EAAC,EACa5Q,OAAO,CAAC5K,SAAU,CAAEklB,QAAS,GAAMD,UAAW,EAAK,EAEzE,C,aUnFA,6BAAMqE,2BAA2BvtB,YAC7B,IAAIwtB,SAAU,CACV,OAAO,IAAI,CAAC9sB,YAAY,CAAC,UAC7B,CACA,IAAI8sB,QAAQ7sB,CAAK,CAAE,CACXA,EACA,IAAI,CAACC,YAAY,CAAC,UAAW,IAG7B,IAAI,CAACC,eAAe,CAAC,UAE7B,CACA,IAAIwW,KAAM,CACN,OAAO,IAAI,CAACvU,YAAY,CAAC,QAAU,EACvC,CACA,IAAIuU,IAAI1W,CAAK,CAAE,CACX,IAAI,CAACC,YAAY,CAAC,MAAOD,EAC7B,CACAV,mBAAoB,KAmEhBwtB,EAlEK,IAAI,CAAC/sB,YAAY,CAAC,SACnB,IAAI,CAACE,YAAY,CAAC,OAAQ,QAC9B,IAAM8sB,EAAU,IAAI,CAAC/pB,aAAa,CAClC,GAAI,CAAC+pB,EACD,OACJ,IAAMC,EAAUD,EAAQpa,aAAa,CAAC,WAClCqa,IACAA,EAAQ/sB,YAAY,CAAC,gBAAiB,QACjC+sB,EAAQjtB,YAAY,CAAC,SACtBitB,EAAQ/sB,YAAY,CAAC,OAAQ,WAErC,IAAMgtB,EAAgB,CAClBC,EAAUH,EAAS,mBAAoBrV,GAAKyV,EAAiB,IAAI,CAAEzV,IACnEwV,EAAUH,EAAS,iBAAkBrV,GAAKyV,EAAiB,IAAI,CAAEzV,IACjEwV,EAAUH,EAAS,QAASrV,GAAK0V,EAAaL,EAASrV,IACvDwV,EAAUH,EAAS,SAAUrV,GAAK0V,EAAaL,EAASrV,IACxDwV,EAAUH,EAAS,UAAWrV,GAAKyI,CAgK/C,SAAiB4M,CAAO,CAAEM,CAAI,CAAErsB,CAAK,EACjC,GAAI,CAAEA,CAAAA,aAAiB4R,aAAY,GAE/Bma,EAAQpa,aAAa,CAAC,iBADtB,OAGJ,IAAM1W,EAAQ6pB,EAAOzjB,GAAG,CAACgrB,GACzB,GAAI,CAACpxB,GAASA,EAAMqxB,WAAW,CAC3B,OACJ,IAAMC,EAAmBvsB,EAAMC,MAAM,YAAY8C,SAAW/C,YAAAA,EAAMC,MAAM,CAACmC,OAAO,CAChF,OAAQpC,EAAMmL,GAAG,EACb,IAAK,SACG4gB,EAAQhtB,YAAY,CAAC,UACrBytB,EAAMT,GACN/rB,EAAMQ,cAAc,GACpBR,EAAMS,eAAe,IAEzB,KACJ,KAAK,YACD,CACQ8rB,GAAoB,CAACR,EAAQhtB,YAAY,CAAC,SAC1CgtB,EAAQ9sB,YAAY,CAAC,OAAQ,IAEjC,IAAMgB,EAASwsB,EAAQV,EAAS,IAC5B9rB,GACAA,EAAOmS,KAAK,GAChBpS,EAAMQ,cAAc,EACxB,CACA,KACJ,KAAK,UACD,CACQ+rB,GAAoB,CAACR,EAAQhtB,YAAY,CAAC,SAC1CgtB,EAAQ9sB,YAAY,CAAC,OAAQ,IAEjC,IAAMgB,EAASwsB,EAAQV,EAAS,IAC5B9rB,GACAA,EAAOmS,KAAK,GAChBpS,EAAMQ,cAAc,EACxB,CACA,KACJ,KAAK,IAEG,GAAIksB,GAAgB1sB,EAAM6jB,OAAO,CAAE,CAC/B,IAAM5jB,EAASwsB,EAAQV,EAAS,IAC5B9rB,GACAA,EAAOmS,KAAK,GAChBpS,EAAMQ,cAAc,EACxB,CAEJ,KACJ,KAAK,IAEG,GAAIksB,GAAgB1sB,EAAM6jB,OAAO,CAAE,CAC/B,IAAM5jB,EAASwsB,EAAQV,EAAS,IAC5B9rB,GACAA,EAAOmS,KAAK,GAChBpS,EAAMQ,cAAc,EACxB,CAEJ,KACJ,KAAK,IACL,IAAK,QACD,CACI,IAAMmsB,EAAWrqB,SAASqgB,aAAa,CACnCgK,aAAoBtuB,aAAeuuB,EAAWD,IAAaA,EAASpb,OAAO,CAAC,aAAewa,IAC3F/rB,EAAMQ,cAAc,GACpBR,EAAMS,eAAe,GACrBksB,EAASpf,KAAK,GAEtB,CAER,CACJ,GAvOuDwe,EAAS,IAAI,CAAErV,IAC1DwV,EAAUH,EAAS,SAAU,IAAMc,EAAad,EAAS,IAAI,EAAG,CAAE1G,KAAM,EAAK,GAC7E6G,EAAUH,EAAS,SAAU,IAAMe,CAiE/C,SAA0Bf,CAAO,EAC7B,GAAKA,EAAQhtB,YAAY,CAAC,QAE1B,IAAK,IAAMstB,KAAQ/pB,SAASsM,gBAAgB,CAAC,gCAAiC,CAC1E,IAAMme,EAASV,EAAK9a,OAAO,CAAC,WACxBwb,GAAUA,IAAWhB,GAAW,CAACgB,EAAOhW,QAAQ,CAACgV,IACjDgB,EAAO7tB,eAAe,CAAC,OAE/B,CACJ,GA1EgE6sB,IACpD,IAAI,CAACF,OAAO,CACNK,EAAUH,EAAS,YAAa,IAAMc,EAAad,EAAS,IAAI,EAAG,CAAE1G,KAAM,EAAK,GAChF2H,MA6CVlB,EAAU,GAWP,CACHI,EAxDmBH,EAwDA,YAXH,IAAOD,EAAU,IAYjCI,EAzDmBH,EAyDA,UAXL,IAAOD,EAAU,IAY/BI,EA1DmBH,EA0DA,SAXN,KACRA,EAAQhtB,YAAY,CAAC,UAEtBkuB,EAlDelB,IAoDdD,GACDoB,SA8BYnB,CAAO,EAC3B,IAAMY,EAAWrqB,SAASqgB,aAAa,CACvC,GAAIgK,GAAYC,EAAWD,IAAaZ,EAAQhV,QAAQ,CAAC4V,GACrD,OACJ,IAAM1sB,EAASwsB,EAAQV,EAAS,IAC5B9rB,GACAA,EAAOmS,KAAK,EACpB,EA1F2B2Z,GAsDvB,GAKC,EA1DI,CACDjH,EAAO5Y,GAAG,CAAC,IAAI,CAAE,CAAE+f,cAAAA,EAAexW,OAAQ,GAAO6W,YAAa,EAAM,EACxE,CACAztB,sBAAuB,CACnB,IAAM5D,EAAQ6pB,EAAOzjB,GAAG,CAAC,IAAI,EAC7B,GAAKpG,EAGL,IAAK,IAAMkyB,KADXrI,EAAO1V,MAAM,CAAC,IAAI,EACAnU,EAAMgxB,aAAa,EACjCkB,EAAIxF,WAAW,EAEvB,CACJ,EACA,IAAM7C,EAAS,IAAI9W,QACbgf,EAAmB,CACrBrF,cACA,CACJ,EACA,SAASuE,EAAUjsB,CAAM,CAAEmtB,CAAS,CAAEC,CAAM,CAAE5G,EAAU,EAAK,EAEzD,OADAxmB,EAAO1B,gBAAgB,CAAC6uB,EAAWC,EAAQ5G,GACpC,CACHkB,YAAa,KACT1nB,EAAOnB,mBAAmB,CAACsuB,EAAWC,EAAQ5G,EAClD,CACJ,CACJ,CACA,SAASoG,EAAad,CAAO,CAAEM,CAAI,EAC/B,IAAM3W,EAAM2W,EAAKlrB,YAAY,CAAC,OAC9B,GAAI,CAACuU,EACD,OACJ,IAAMza,EAAQ6pB,EAAOzjB,GAAG,CAACgrB,GACzB,GAAI,CAACpxB,GAEDA,EAAMwa,MAAM,CADZ,MAGJxa,CAAAA,EAAMwa,MAAM,CAAG,GACf,IAAM6X,EAASjB,EAAK1a,aAAa,CAAC,oBAC9B2b,GAAU,CAACA,EAAOvuB,YAAY,CAAC,SAC/BuuB,EAAO/uB,gBAAgB,CAAC,UAAW,IAAM0uB,EAAUlB,IACnDuB,EAAOruB,YAAY,CAAC,MAAOyW,GAEnC,CA6BA,SAASuX,EAAUlB,CAAO,EACtB,GAAI,CAACA,EAAQhtB,YAAY,CAAC,QACtB,MAAO,GACX,IAAMkC,EAAQ8qB,EAAQpa,aAAa,CAAC,kCACpC,EAAI1Q,IACAA,EAAMmR,KAAK,GACJ,GAKf,CASA,SAASqa,EAAQV,CAAO,CAAEwB,CAAI,EAC1B,IAAM9G,EAAUhrB,MAAMC,IAAI,CAACqwB,EAAQnd,gBAAgB,CAAC,qDAC9C+d,EAAWrqB,SAASqgB,aAAa,CACjClU,EAAQke,aAAoBtuB,YAAcooB,EAAQ7pB,OAAO,CAAC+vB,GAAY,GACtEa,EAAQD,EAAO9G,CAAO,CAAChY,EAAQ,EAAE,CAAGgY,CAAO,CAAChY,EAAQ,EAAE,CACtDgf,EAAMF,EAAO9G,CAAO,CAAC,EAAE,CAAGA,CAAO,CAACA,EAAQvoB,MAAM,CAAG,EAAE,CAC3D,OAAOsvB,GAASC,CACpB,CACA,IAAMf,EAAe3O,UAAU2P,SAAS,CAACC,KAAK,CAAC,aAC/C,SAASvB,EAAaL,CAAO,CAAE/rB,CAAK,EAChC,IAAMC,EAASD,EAAMC,MAAM,CAC3B,GAAMA,aAAkB8C,SAEpB9C,EAAOsR,OAAO,CAAC,aAAewa,GAElC,GAAI/rB,UAAAA,EAAMnD,IAAI,CAAc,CACxB,IAAM+wB,EAAW3tB,EAAOsR,OAAO,CAAC,6CAChC,GAAI,CAACqc,EACD,OACJ,IAAM3sB,EAAQ2sB,EAASjc,aAAa,CAAC,SACrC,GAAIic,UAAAA,EAASxrB,OAAO,EAAgBnC,IAAWgB,EAC3C,OACJ,IAAM4sB,EAA0BD,UAAAA,EAASxrB,OAAO,EAAgBnB,GAAS,CAACA,EAAMkjB,OAAO,CAClF0J,GACDC,EAAOF,EAAU7B,EAEzB,MACK,GAAI/rB,WAAAA,EAAMnD,IAAI,CAAe,CAC9B,IAAM+wB,EAAW3tB,EAAOsR,OAAO,CAAC,qDAC5Bqc,GACAE,EAAOF,EAAU7B,EACzB,EACJ,CAWA,SAAS+B,EAAOnB,CAAQ,CAAEZ,CAAO,EAC7B,GAAIY,EAAS5tB,YAAY,CAAC,aAAe4tB,SAAAA,EAASxrB,YAAY,CAAC,iBAC3D,OACJ,IAAMkrB,EAAOM,EAASpb,OAAO,CAAC,gBAC9B,GAAI,CAAC8a,EACD,OACJ,IAAM0B,EAAa1B,EAAK7sB,aAAa,CAAC,IAAIC,YAAY,sBAAuB,CACzEE,WAAY,GACZC,OAAQ,CAAEmd,cAAe4P,CAAS,CACtC,IACKoB,IAELC,SA6FiBnyB,CAAI,CAAEkwB,CAAO,EAC9B,IAAMpV,EAASoV,EAAQpa,aAAa,CAAC,sBACrC,GAAI,CAACgF,EACD,OACJ,IAAM+B,EAAOuV,SAUE5e,CAAE,EACjB,GAAI,CAACA,EACD,OAAO,KACX,IAAM6e,EAAS7e,EAAGtQ,YAAY,CAAC,yBAA2BsQ,EAAKA,EAAGsC,aAAa,CAAC,kCAChF,EAEOuc,EAAO/sB,YAAY,CAAC,0BAA4B+sB,EAAOxd,WAAW,CAD9D,IAEf,EAjB2B7U,GACvB,GAAI6c,EACA/B,EAAOjG,WAAW,CAAGgI,MAEpB,CACD,IAAMT,EAAOkW,SAaF9e,CAAE,EACjB,GAAI,CAACA,EACD,OAAO,KACX,IAAM+e,EAAa/e,EAAGtQ,YAAY,CAAC,6BAA+BsQ,EAAKA,EAAGsC,aAAa,CAAC,+BACxF,OAAOyc,EAAaA,EAAW7Y,SAAS,CAAG,IAC/C,EAlB+B1Z,GACnBoc,GACAtB,CAAAA,EAAOpB,SAAS,CAAG0C,CAAG,CAC9B,CACJ,EA1GgB0U,EAAUZ,GACtBsC,SAvBmB1B,CAAQ,CAAEZ,CAAO,EACpC,IAAK,IAAM1c,KAAM0c,EAAQnd,gBAAgB,CAAC,qDAAsD,CAC5F,IAAM3N,EAAQoO,EAAGsC,aAAa,CAAC,+CAC3B2c,EAAa,CAACjf,IAAOsd,CAAO,EAAGlqB,QAAQ,GACvCxB,aAAiBC,kBACjBotB,CAAAA,EAAartB,EAAMstB,aAAa,CAAG,QAAUttB,EAAMkjB,OAAO,CAAC1hB,QAAQ,EAAC,EAExE4M,EAAGpQ,YAAY,CAAC,eAAgBqvB,EACpC,CACJ,EAckB3B,EAAUZ,GACc,qBAAlCY,EAASxrB,YAAY,CAAC,SACtBqrB,EAAMT,GACVM,EAAK7sB,aAAa,CAAC,IAAIC,YAAY,wBAAyB,CACxDG,OAAQ,CAAEmd,cAAe4P,CAAS,CACtC,IACJ,CAyEA,SAASC,EAAWvd,CAAE,EAClB,IAAMmf,EAAOnf,EAAGlO,YAAY,CAAC,QAC7B,MAAOqtB,aAAAA,GAAuBA,qBAAAA,GAA+BA,kBAAAA,CACjE,CACA,SAAShC,EAAMT,CAAO,EAClB,IAAM0C,EAAU1C,EAAQhtB,YAAY,CAAC,QACrC,GAAI,CAAC0vB,EACD,OACJ1C,EAAQ7sB,eAAe,CAAC,QACxB,IAAM8sB,EAAUD,EAAQpa,aAAa,CAAC,WAClCqa,GACAA,EAAQ5Z,KAAK,EACrB,CA6BA,SAAS+Z,EAAiBE,CAAI,CAAErsB,CAAK,EACjC,IAAM/E,EAAQ6pB,EAAOzjB,GAAG,CAACgrB,GACpBpxB,GAELA,CAAAA,EAAMqxB,WAAW,CAAGtsB,qBAAAA,EAAMnD,IAAI,CAClC,CAEKuD,OAAOgB,cAAc,CAACC,GAAG,CAAC,kBAC3BjB,OAAOwrB,kBAAkB,CAAGA,mBAC5BxrB,OAAOgB,cAAc,CAACE,MAAM,CAAC,eAAgBsqB,oB,aCpTjD,IAAM8C,EAAY,IAAI1f,IAAI,CACtB,YACA,YACA,kBACA,SACA,YACA,YACA,YACA,eACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,eACA,YACA,YACA,SACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,eACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,8BACA,2BACA,2BACA,2BACA,2BACA,YACA,8BACA,2BACA,2BACA,2BACA,2BACA,YACA,YACA,YACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,8BACA,8BACA,2BACA,2BACA,2BACA,2BACA,8BACA,8BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,8BACA,8BACA,2BACA,2BACA,2BACA,2BACA,YACA,8BACA,8BACA,kBACA,oCACA,oCACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,YACA,YACA,8BACA,8BACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YACA,8BACA,8BACA,YA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","sources":["node_modules/@github/file-attachment-element/dist/index.js","node_modules/@primer/behaviors/dist/esm/anchored-position.js","node_modules/@primer/view-components/app/components/primer/alpha/action_bar_element.js","node_modules/@primer/view-components/app/components/primer/anchored_position.js","node_modules/@primer/view-components/app/components/primer/focus_group.js","node_modules/@primer/view-components/app/components/primer/beta/nav_list.js","node_modules/@primer/view-components/app/components/primer/beta/nav_list_group_element.js","node_modules/@primer/view-components/app/components/primer/alpha/segmented_control.js","node_modules/@primer/view-components/app/components/primer/alpha/tool_tip.js","node_modules/@primer/view-components/app/components/primer/alpha/x_banner.js","node_modules/@primer/view-components/lib/primer/forms/primer_text_field.js","node_modules/@primer/view-components/app/components/primer/alpha/action_menu/action_menu_element.js","node_modules/@github/image-crop-element/dist/index.js","node_modules/@primer/view-components/app/components/primer/alpha/toggle_switch.js","node_modules/@primer/view-components/node_modules/@github/clipboard-copy-element/dist/clipboard.js","node_modules/@primer/view-components/node_modules/@github/clipboard-copy-element/dist/clipboard-copy-element.js","node_modules/@primer/view-components/node_modules/@github/clipboard-copy-element/dist/clipboard-copy-element-define.js","node_modules/@primer/view-components/app/components/primer/beta/clipboard_copy.js","node_modules/@primer/view-components/lib/primer/forms/primer_multi_input.js","node_modules/@primer/view-components/lib/primer/forms/toggle_switch_input.js","node_modules/@github/auto-check-element/dist/index.js","node_modules/@github/catalyst/lib/lazy-define.js","node_modules/@github/catalyst/lib/bind.js","node_modules/@github/catalyst/lib/findtarget.js","node_modules/@github/catalyst/lib/dasherize.js","node_modules/@github/catalyst/lib/attr.js","node_modules/@github/catalyst/lib/core.js","node_modules/@github/catalyst/lib/register.js","node_modules/@github/catalyst/lib/auto-shadow-root.js","node_modules/@github/catalyst/lib/target.js","node_modules/@github/catalyst/lib/controller.js","node_modules/@github/details-menu-element/dist/index.js","node_modules/@github/g-emoji-element/dist/index.js","node_modules/@github/text-expander-element/dist/index.js","node_modules/@github/typing-effect-element/dist/index.js"],"sourcesContent":["class Attachment {\n    constructor(file, directory) {\n        this.file = file;\n        this.directory = directory;\n        this.state = 'pending';\n        this.id = null;\n        this.href = null;\n        this.name = null;\n        this.percent = 0;\n    }\n    static traverse(transfer, directory) {\n        return transferredFiles(transfer, directory);\n    }\n    static from(files) {\n        const result = [];\n        for (const file of files) {\n            if (file instanceof File) {\n                result.push(new Attachment(file));\n            }\n            else if (file instanceof Attachment) {\n                result.push(file);\n            }\n            else {\n                throw new Error('Unexpected type');\n            }\n        }\n        return result;\n    }\n    get fullPath() {\n        return this.directory ? `${this.directory}/${this.file.name}` : this.file.name;\n    }\n    isImage() {\n        return ['image/gif', 'image/png', 'image/jpg', 'image/jpeg', 'image/svg+xml'].indexOf(this.file.type) > -1;\n    }\n    isVideo() {\n        return ['video/mp4', 'video/quicktime'].indexOf(this.file.type) > -1;\n    }\n    saving(percent) {\n        if (this.state !== 'pending' && this.state !== 'saving') {\n            throw new Error(`Unexpected transition from ${this.state} to saving`);\n        }\n        this.state = 'saving';\n        this.percent = percent;\n    }\n    saved(attributes) {\n        var _a, _b, _c;\n        if (this.state !== 'pending' && this.state !== 'saving') {\n            throw new Error(`Unexpected transition from ${this.state} to saved`);\n        }\n        this.state = 'saved';\n        this.id = (_a = attributes === null || attributes === void 0 ? void 0 : attributes.id) !== null && _a !== void 0 ? _a : null;\n        this.href = (_b = attributes === null || attributes === void 0 ? void 0 : attributes.href) !== null && _b !== void 0 ? _b : null;\n        this.name = (_c = attributes === null || attributes === void 0 ? void 0 : attributes.name) !== null && _c !== void 0 ? _c : null;\n    }\n    isPending() {\n        return this.state === 'pending';\n    }\n    isSaving() {\n        return this.state === 'saving';\n    }\n    isSaved() {\n        return this.state === 'saved';\n    }\n}\nfunction transferredFiles(transfer, directory) {\n    if (directory && isDirectory(transfer)) {\n        return traverse('', roots(transfer));\n    }\n    return Promise.resolve(visible(Array.from(transfer.files || [])).map(f => new Attachment(f)));\n}\nfunction hidden(file) {\n    return file.name.startsWith('.');\n}\nfunction visible(files) {\n    return Array.from(files).filter(file => !hidden(file));\n}\nfunction getFile(entry) {\n    return new Promise(function (resolve, reject) {\n        entry.file(resolve, reject);\n    });\n}\nfunction getEntries(entry) {\n    return new Promise(function (resolve, reject) {\n        const result = [];\n        const reader = entry.createReader();\n        const read = () => {\n            reader.readEntries(entries => {\n                if (entries.length > 0) {\n                    result.push(...entries);\n                    read();\n                }\n                else {\n                    resolve(result);\n                }\n            }, reject);\n        };\n        read();\n    });\n}\nasync function traverse(path, entries) {\n    const results = [];\n    for (const entry of visible(entries)) {\n        if (entry.isDirectory) {\n            results.push(...(await traverse(entry.fullPath, await getEntries(entry))));\n        }\n        else {\n            const file = await getFile(entry);\n            results.push(new Attachment(file, path));\n        }\n    }\n    return results;\n}\nfunction isDirectory(transfer) {\n    return (transfer.items &&\n        Array.from(transfer.items).some((item) => {\n            const entry = item.webkitGetAsEntry && item.webkitGetAsEntry();\n            return entry && entry.isDirectory;\n        }));\n}\nfunction roots(transfer) {\n    return Array.from(transfer.items)\n        .map((item) => item.webkitGetAsEntry())\n        .filter(entry => entry != null);\n}\n\nclass FileAttachmentElement extends HTMLElement {\n    connectedCallback() {\n        this.addEventListener('dragenter', onDragenter);\n        this.addEventListener('dragover', onDragenter);\n        this.addEventListener('dragleave', onDragleave);\n        this.addEventListener('drop', onDrop);\n        this.addEventListener('paste', onPaste);\n        this.addEventListener('change', onChange);\n    }\n    disconnectedCallback() {\n        this.removeEventListener('dragenter', onDragenter);\n        this.removeEventListener('dragover', onDragenter);\n        this.removeEventListener('dragleave', onDragleave);\n        this.removeEventListener('drop', onDrop);\n        this.removeEventListener('paste', onPaste);\n        this.removeEventListener('change', onChange);\n    }\n    get directory() {\n        return this.hasAttribute('directory');\n    }\n    set directory(value) {\n        if (value) {\n            this.setAttribute('directory', '');\n        }\n        else {\n            this.removeAttribute('directory');\n        }\n    }\n    async attach(transferred) {\n        const attachments = transferred instanceof DataTransfer\n            ? await Attachment.traverse(transferred, this.directory)\n            : Attachment.from(transferred);\n        const accepted = this.dispatchEvent(new CustomEvent('file-attachment-accept', {\n            bubbles: true,\n            cancelable: true,\n            detail: { attachments }\n        }));\n        if (accepted && attachments.length) {\n            this.dispatchEvent(new CustomEvent('file-attachment-accepted', {\n                bubbles: true,\n                detail: { attachments }\n            }));\n        }\n    }\n}\nfunction hasFile(transfer) {\n    return Array.from(transfer.types).indexOf('Files') >= 0;\n}\nlet dragging = null;\nfunction onDragenter(event) {\n    const target = event.currentTarget;\n    if (dragging) {\n        clearTimeout(dragging);\n    }\n    dragging = window.setTimeout(() => target.removeAttribute('hover'), 200);\n    const transfer = event.dataTransfer;\n    if (!transfer || !hasFile(transfer))\n        return;\n    transfer.dropEffect = 'copy';\n    target.setAttribute('hover', '');\n    event.preventDefault();\n}\nfunction onDragleave(event) {\n    if (event.dataTransfer) {\n        event.dataTransfer.dropEffect = 'none';\n    }\n    const target = event.currentTarget;\n    target.removeAttribute('hover');\n    event.stopPropagation();\n    event.preventDefault();\n}\nfunction onDrop(event) {\n    const container = event.currentTarget;\n    if (!(container instanceof FileAttachmentElement))\n        return;\n    container.removeAttribute('hover');\n    const transfer = event.dataTransfer;\n    if (!transfer || !hasFile(transfer))\n        return;\n    container.attach(transfer);\n    event.stopPropagation();\n    event.preventDefault();\n}\nconst images = /^image\\/(gif|png|jpeg)$/;\nfunction pastedFile(items) {\n    for (const item of items) {\n        if (item.kind === 'file' && images.test(item.type)) {\n            return item.getAsFile();\n        }\n    }\n    return null;\n}\nfunction onPaste(event) {\n    if (!event.clipboardData)\n        return;\n    if (!event.clipboardData.items)\n        return;\n    const container = event.currentTarget;\n    if (!(container instanceof FileAttachmentElement))\n        return;\n    const file = pastedFile(event.clipboardData.items);\n    if (!file)\n        return;\n    const files = [file];\n    container.attach(files);\n    event.preventDefault();\n}\nfunction onChange(event) {\n    const container = event.currentTarget;\n    if (!(container instanceof FileAttachmentElement))\n        return;\n    const input = event.target;\n    if (!(input instanceof HTMLInputElement))\n        return;\n    const id = container.getAttribute('input');\n    if (id && input.id !== id)\n        return;\n    const files = input.files;\n    if (!files || files.length === 0)\n        return;\n    container.attach(files);\n    input.value = '';\n}\nif (!window.customElements.get('file-attachment')) {\n    window.FileAttachmentElement = FileAttachmentElement;\n    window.customElements.define('file-attachment', FileAttachmentElement);\n}\n\nexport default FileAttachmentElement;\nexport { Attachment };\n","const alternateOrders = {\n    'outside-top': ['outside-bottom', 'outside-right', 'outside-left', 'outside-bottom'],\n    'outside-bottom': ['outside-top', 'outside-right', 'outside-left', 'outside-bottom'],\n    'outside-left': ['outside-right', 'outside-bottom', 'outside-top', 'outside-bottom'],\n    'outside-right': ['outside-left', 'outside-bottom', 'outside-top', 'outside-bottom'],\n};\nconst alternateAlignments = {\n    start: ['end', 'center'],\n    end: ['start', 'center'],\n    center: ['end', 'start'],\n};\nexport function getAnchoredPosition(floatingElement, anchorElement, settings = {}) {\n    const parentElement = getPositionedParent(floatingElement);\n    const clippingRect = getClippingRect(parentElement);\n    const parentElementStyle = getComputedStyle(parentElement);\n    const parentElementRect = parentElement.getBoundingClientRect();\n    const [borderTop, borderLeft] = [parentElementStyle.borderTopWidth, parentElementStyle.borderLeftWidth].map(v => parseInt(v, 10) || 0);\n    const relativeRect = {\n        top: parentElementRect.top + borderTop,\n        left: parentElementRect.left + borderLeft,\n    };\n    return pureCalculateAnchoredPosition(clippingRect, relativeRect, floatingElement.getBoundingClientRect(), anchorElement instanceof Element ? anchorElement.getBoundingClientRect() : anchorElement, getDefaultSettings(settings));\n}\nfunction getPositionedParent(element) {\n    if (isOnTopLayer(element))\n        return document.body;\n    let parentNode = element.parentNode;\n    while (parentNode !== null) {\n        if (parentNode instanceof HTMLElement && getComputedStyle(parentNode).position !== 'static') {\n            return parentNode;\n        }\n        parentNode = parentNode.parentNode;\n    }\n    return document.body;\n}\nfunction isOnTopLayer(element) {\n    var _a;\n    if (element.tagName === 'DIALOG') {\n        return true;\n    }\n    try {\n        if (element.matches(':popover-open') && /native code/.test((_a = document.body.showPopover) === null || _a === void 0 ? void 0 : _a.toString())) {\n            return true;\n        }\n    }\n    catch (_b) {\n        return false;\n    }\n    return false;\n}\nfunction getClippingRect(element) {\n    let parentNode = element;\n    while (parentNode !== null) {\n        if (!(parentNode instanceof Element)) {\n            break;\n        }\n        const parentNodeStyle = getComputedStyle(parentNode);\n        if (parentNodeStyle.overflow !== 'visible') {\n            break;\n        }\n        parentNode = parentNode.parentNode;\n    }\n    const clippingNode = parentNode === document.body || !(parentNode instanceof HTMLElement) ? document.body : parentNode;\n    const elemRect = clippingNode.getBoundingClientRect();\n    const elemStyle = getComputedStyle(clippingNode);\n    const [borderTop, borderLeft, borderRight, borderBottom] = [\n        elemStyle.borderTopWidth,\n        elemStyle.borderLeftWidth,\n        elemStyle.borderRightWidth,\n        elemStyle.borderBottomWidth,\n    ].map(v => parseInt(v, 10) || 0);\n    return {\n        top: elemRect.top + borderTop,\n        left: elemRect.left + borderLeft,\n        width: elemRect.width - borderRight - borderLeft,\n        height: Math.max(elemRect.height - borderTop - borderBottom, clippingNode === document.body ? window.innerHeight : -Infinity),\n    };\n}\nconst positionDefaults = {\n    side: 'outside-bottom',\n    align: 'start',\n    anchorOffset: 4,\n    alignmentOffset: 4,\n    allowOutOfBounds: false,\n};\nfunction getDefaultSettings(settings = {}) {\n    var _a, _b, _c, _d, _e;\n    const side = (_a = settings.side) !== null && _a !== void 0 ? _a : positionDefaults.side;\n    const align = (_b = settings.align) !== null && _b !== void 0 ? _b : positionDefaults.align;\n    return {\n        side,\n        align,\n        anchorOffset: (_c = settings.anchorOffset) !== null && _c !== void 0 ? _c : (side === 'inside-center' ? 0 : positionDefaults.anchorOffset),\n        alignmentOffset: (_d = settings.alignmentOffset) !== null && _d !== void 0 ? _d : (align !== 'center' && side.startsWith('inside') ? positionDefaults.alignmentOffset : 0),\n        allowOutOfBounds: (_e = settings.allowOutOfBounds) !== null && _e !== void 0 ? _e : positionDefaults.allowOutOfBounds,\n    };\n}\nfunction pureCalculateAnchoredPosition(viewportRect, relativePosition, floatingRect, anchorRect, { side, align, allowOutOfBounds, anchorOffset, alignmentOffset }) {\n    const relativeViewportRect = {\n        top: viewportRect.top - relativePosition.top,\n        left: viewportRect.left - relativePosition.left,\n        width: viewportRect.width,\n        height: viewportRect.height,\n    };\n    let pos = calculatePosition(floatingRect, anchorRect, side, align, anchorOffset, alignmentOffset);\n    let anchorSide = side;\n    let anchorAlign = align;\n    pos.top -= relativePosition.top;\n    pos.left -= relativePosition.left;\n    if (!allowOutOfBounds) {\n        const alternateOrder = alternateOrders[side];\n        let positionAttempt = 0;\n        if (alternateOrder) {\n            let prevSide = side;\n            while (positionAttempt < alternateOrder.length &&\n                shouldRecalculatePosition(prevSide, pos, relativeViewportRect, floatingRect)) {\n                const nextSide = alternateOrder[positionAttempt++];\n                prevSide = nextSide;\n                pos = calculatePosition(floatingRect, anchorRect, nextSide, align, anchorOffset, alignmentOffset);\n                pos.top -= relativePosition.top;\n                pos.left -= relativePosition.left;\n                anchorSide = nextSide;\n            }\n        }\n        const alternateAlignment = alternateAlignments[align];\n        let alignmentAttempt = 0;\n        if (alternateAlignment) {\n            let prevAlign = align;\n            while (alignmentAttempt < alternateAlignment.length &&\n                shouldRecalculateAlignment(prevAlign, pos, relativeViewportRect, floatingRect)) {\n                const nextAlign = alternateAlignment[alignmentAttempt++];\n                prevAlign = nextAlign;\n                pos = calculatePosition(floatingRect, anchorRect, anchorSide, nextAlign, anchorOffset, alignmentOffset);\n                pos.top -= relativePosition.top;\n                pos.left -= relativePosition.left;\n                anchorAlign = nextAlign;\n            }\n        }\n        if (pos.top < relativeViewportRect.top) {\n            pos.top = relativeViewportRect.top;\n        }\n        if (pos.left < relativeViewportRect.left) {\n            pos.left = relativeViewportRect.left;\n        }\n        if (pos.left + floatingRect.width > viewportRect.width + relativeViewportRect.left) {\n            pos.left = viewportRect.width + relativeViewportRect.left - floatingRect.width;\n        }\n        if (alternateOrder && positionAttempt < alternateOrder.length) {\n            if (pos.top + floatingRect.height > viewportRect.height + relativeViewportRect.top) {\n                pos.top = Math.max(viewportRect.height + relativeViewportRect.top - floatingRect.height, 0);\n            }\n        }\n    }\n    return Object.assign(Object.assign({}, pos), { anchorSide, anchorAlign });\n}\nfunction calculatePosition(elementDimensions, anchorPosition, side, align, anchorOffset, alignmentOffset) {\n    const anchorRight = anchorPosition.left + anchorPosition.width;\n    const anchorBottom = anchorPosition.top + anchorPosition.height;\n    let top = -1;\n    let left = -1;\n    if (side === 'outside-top') {\n        top = anchorPosition.top - anchorOffset - elementDimensions.height;\n    }\n    else if (side === 'outside-bottom') {\n        top = anchorBottom + anchorOffset;\n    }\n    else if (side === 'outside-left') {\n        left = anchorPosition.left - anchorOffset - elementDimensions.width;\n    }\n    else if (side === 'outside-right') {\n        left = anchorRight + anchorOffset;\n    }\n    if (side === 'outside-top' || side === 'outside-bottom') {\n        if (align === 'start') {\n            left = anchorPosition.left + alignmentOffset;\n        }\n        else if (align === 'center') {\n            left = anchorPosition.left - (elementDimensions.width - anchorPosition.width) / 2 + alignmentOffset;\n        }\n        else {\n            left = anchorRight - elementDimensions.width - alignmentOffset;\n        }\n    }\n    if (side === 'outside-left' || side === 'outside-right') {\n        if (align === 'start') {\n            top = anchorPosition.top + alignmentOffset;\n        }\n        else if (align === 'center') {\n            top = anchorPosition.top - (elementDimensions.height - anchorPosition.height) / 2 + alignmentOffset;\n        }\n        else {\n            top = anchorBottom - elementDimensions.height - alignmentOffset;\n        }\n    }\n    if (side === 'inside-top') {\n        top = anchorPosition.top + anchorOffset;\n    }\n    else if (side === 'inside-bottom') {\n        top = anchorBottom - anchorOffset - elementDimensions.height;\n    }\n    else if (side === 'inside-left') {\n        left = anchorPosition.left + anchorOffset;\n    }\n    else if (side === 'inside-right') {\n        left = anchorRight - anchorOffset - elementDimensions.width;\n    }\n    else if (side === 'inside-center') {\n        left = (anchorRight + anchorPosition.left) / 2 - elementDimensions.width / 2 + anchorOffset;\n    }\n    if (side === 'inside-top' || side === 'inside-bottom') {\n        if (align === 'start') {\n            left = anchorPosition.left + alignmentOffset;\n        }\n        else if (align === 'center') {\n            left = anchorPosition.left - (elementDimensions.width - anchorPosition.width) / 2 + alignmentOffset;\n        }\n        else {\n            left = anchorRight - elementDimensions.width - alignmentOffset;\n        }\n    }\n    else if (side === 'inside-left' || side === 'inside-right' || side === 'inside-center') {\n        if (align === 'start') {\n            top = anchorPosition.top + alignmentOffset;\n        }\n        else if (align === 'center') {\n            top = anchorPosition.top - (elementDimensions.height - anchorPosition.height) / 2 + alignmentOffset;\n        }\n        else {\n            top = anchorBottom - elementDimensions.height - alignmentOffset;\n        }\n    }\n    return { top, left };\n}\nfunction shouldRecalculatePosition(side, currentPos, containerDimensions, elementDimensions) {\n    if (side === 'outside-top' || side === 'outside-bottom') {\n        return (currentPos.top < containerDimensions.top ||\n            currentPos.top + elementDimensions.height > containerDimensions.height + containerDimensions.top);\n    }\n    else {\n        return (currentPos.left < containerDimensions.left ||\n            currentPos.left + elementDimensions.width > containerDimensions.width + containerDimensions.left);\n    }\n}\nfunction shouldRecalculateAlignment(align, currentPos, containerDimensions, elementDimensions) {\n    if (align === 'end') {\n        return currentPos.left < containerDimensions.left;\n    }\n    else if (align === 'start' || align === 'center') {\n        return (currentPos.left + elementDimensions.width > containerDimensions.left + containerDimensions.width ||\n            currentPos.left < containerDimensions.left);\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ActionBarElement_instances, _ActionBarElement_initialBarWidth, _ActionBarElement_previousBarWidth, _ActionBarElement_focusZoneAbortController, _ActionBarElement_isVisible, _ActionBarElement_itemGap, _ActionBarElement_availableSpace, _ActionBarElement_menuSpace, _ActionBarElement_shrink, _ActionBarElement_grow, _ActionBarElement_showItem, _ActionBarElement_hideItem, _ActionBarElement_menuItems_get;\nimport { controller, targets, target } from '@github/catalyst';\nimport { focusZone, FocusKeys } from '@primer/behaviors';\nconst instersectionObserver = new IntersectionObserver(entries => {\n    for (const entry of entries) {\n        const action = entry.target;\n        if (entry.isIntersecting && action instanceof ActionBarElement) {\n            action.update();\n        }\n    }\n});\nconst resizeObserver = new ResizeObserver(entries => {\n    for (const entry of entries) {\n        const action = entry.target;\n        if (action instanceof ActionBarElement) {\n            action.update(entry.contentRect);\n        }\n    }\n});\nlet ActionBarElement = class ActionBarElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        _ActionBarElement_instances.add(this);\n        _ActionBarElement_initialBarWidth.set(this, void 0);\n        _ActionBarElement_previousBarWidth.set(this, void 0);\n        _ActionBarElement_focusZoneAbortController.set(this, null);\n    }\n    connectedCallback() {\n        var _a, _b, _c, _d;\n        __classPrivateFieldSet(this, _ActionBarElement_previousBarWidth, (_a = this.offsetWidth) !== null && _a !== void 0 ? _a : Infinity, \"f\");\n        __classPrivateFieldSet(this, _ActionBarElement_initialBarWidth, (_b = this.itemContainer.offsetWidth) !== null && _b !== void 0 ? _b : Infinity, \"f\");\n        // Calculate the width of all the items before hiding anything\n        for (const item of this.items) {\n            const width = item.getBoundingClientRect().width;\n            const marginLeft = parseInt((_c = window.getComputedStyle(item)) === null || _c === void 0 ? void 0 : _c.marginLeft, 10);\n            const marginRight = parseInt((_d = window.getComputedStyle(item)) === null || _d === void 0 ? void 0 : _d.marginRight, 10);\n            item.setAttribute('data-offset-width', `${width + marginLeft + marginRight}`);\n        }\n        resizeObserver.observe(this);\n        instersectionObserver.observe(this);\n        setTimeout(() => {\n            this.style.overflow = 'visible';\n            this.update();\n        }, 20); // Wait for the items to be rendered, making this really short to avoid a flash of unstyled content\n    }\n    disconnectedCallback() {\n        resizeObserver.unobserve(this);\n        instersectionObserver.unobserve(this);\n    }\n    menuItemClick(event) {\n        var _a;\n        const currentTarget = event.currentTarget;\n        const id = currentTarget === null || currentTarget === void 0 ? void 0 : currentTarget.getAttribute('data-for');\n        if (id) {\n            (_a = document.getElementById(id)) === null || _a === void 0 ? void 0 : _a.click();\n        }\n    }\n    update(rect = this.getBoundingClientRect()) {\n        // Only recalculate if the bar width changed\n        if (rect.width <= __classPrivateFieldGet(this, _ActionBarElement_previousBarWidth, \"f\") || __classPrivateFieldGet(this, _ActionBarElement_previousBarWidth, \"f\") === 0) {\n            __classPrivateFieldGet(this, _ActionBarElement_instances, \"m\", _ActionBarElement_shrink).call(this);\n        }\n        else if (rect.width > __classPrivateFieldGet(this, _ActionBarElement_previousBarWidth, \"f\")) {\n            __classPrivateFieldGet(this, _ActionBarElement_instances, \"m\", _ActionBarElement_grow).call(this);\n        }\n        __classPrivateFieldSet(this, _ActionBarElement_previousBarWidth, rect.width, \"f\");\n        if (rect.width <= __classPrivateFieldGet(this, _ActionBarElement_initialBarWidth, \"f\")) {\n            this.style.justifyContent = 'space-between';\n        }\n        else {\n            this.style.justifyContent = 'flex-end';\n        }\n        if (__classPrivateFieldGet(this, _ActionBarElement_focusZoneAbortController, \"f\")) {\n            __classPrivateFieldGet(this, _ActionBarElement_focusZoneAbortController, \"f\").abort();\n        }\n        __classPrivateFieldSet(this, _ActionBarElement_focusZoneAbortController, focusZone(this, {\n            bindKeys: FocusKeys.ArrowHorizontal | FocusKeys.HomeAndEnd,\n            focusOutBehavior: 'wrap',\n            focusableElementFilter: element => {\n                return __classPrivateFieldGet(this, _ActionBarElement_instances, \"m\", _ActionBarElement_isVisible).call(this, element);\n            }\n        }), \"f\");\n    }\n};\n_ActionBarElement_initialBarWidth = new WeakMap();\n_ActionBarElement_previousBarWidth = new WeakMap();\n_ActionBarElement_focusZoneAbortController = new WeakMap();\n_ActionBarElement_instances = new WeakSet();\n_ActionBarElement_isVisible = function _ActionBarElement_isVisible(element) {\n    // Safari doesn't support `checkVisibility` yet.\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    if (typeof element.checkVisibility === 'function')\n        return element.checkVisibility();\n    return Boolean(element.offsetParent || element.offsetWidth || element.offsetHeight);\n};\n_ActionBarElement_itemGap = function _ActionBarElement_itemGap() {\n    var _a;\n    return parseInt((_a = window.getComputedStyle(this.itemContainer)) === null || _a === void 0 ? void 0 : _a.columnGap, 10) || 0;\n};\n_ActionBarElement_availableSpace = function _ActionBarElement_availableSpace() {\n    // Get the offset of the item container from the container edge\n    return this.offsetWidth - this.itemContainer.offsetWidth;\n};\n_ActionBarElement_menuSpace = function _ActionBarElement_menuSpace() {\n    if (this.moreMenu.hidden) {\n        return 0;\n    }\n    return this.moreMenu.offsetWidth + __classPrivateFieldGet(this, _ActionBarElement_instances, \"m\", _ActionBarElement_itemGap).call(this);\n};\n_ActionBarElement_shrink = function _ActionBarElement_shrink() {\n    if (this.items[0].hidden) {\n        return;\n    }\n    let index = this.items.length - 1;\n    for (const item of this.items.reverse()) {\n        if (!item.hidden && __classPrivateFieldGet(this, _ActionBarElement_instances, \"m\", _ActionBarElement_availableSpace).call(this) < __classPrivateFieldGet(this, _ActionBarElement_instances, \"m\", _ActionBarElement_menuSpace).call(this)) {\n            __classPrivateFieldGet(this, _ActionBarElement_instances, \"m\", _ActionBarElement_hideItem).call(this, index);\n        }\n        else if (__classPrivateFieldGet(this, _ActionBarElement_instances, \"m\", _ActionBarElement_availableSpace).call(this) >= __classPrivateFieldGet(this, _ActionBarElement_instances, \"m\", _ActionBarElement_menuSpace).call(this)) {\n            return;\n        }\n        index--;\n    }\n};\n_ActionBarElement_grow = function _ActionBarElement_grow() {\n    // If last item is visible, there is no need to grow\n    if (!this.items[this.items.length - 1].hidden) {\n        return;\n    }\n    let index = 0;\n    for (const item of this.items) {\n        if (item.hidden) {\n            const offsetWidth = Number(item.getAttribute('data-offset-width'));\n            if (__classPrivateFieldGet(this, _ActionBarElement_instances, \"m\", _ActionBarElement_availableSpace).call(this) >= __classPrivateFieldGet(this, _ActionBarElement_instances, \"m\", _ActionBarElement_menuSpace).call(this) + offsetWidth || index === this.items.length - 1) {\n                __classPrivateFieldGet(this, _ActionBarElement_instances, \"m\", _ActionBarElement_showItem).call(this, index);\n            }\n            else {\n                return;\n            }\n        }\n        index++;\n    }\n    if (!this.items[this.items.length - 1].hidden) {\n        this.moreMenu.hidden = true;\n    }\n};\n_ActionBarElement_showItem = function _ActionBarElement_showItem(index) {\n    this.items[index].hidden = false;\n    __classPrivateFieldGet(this, _ActionBarElement_instances, \"a\", _ActionBarElement_menuItems_get)[index].hidden = true;\n};\n_ActionBarElement_hideItem = function _ActionBarElement_hideItem(index) {\n    this.items[index].hidden = true;\n    __classPrivateFieldGet(this, _ActionBarElement_instances, \"a\", _ActionBarElement_menuItems_get)[index].hidden = false;\n    if (this.moreMenu.hidden) {\n        this.moreMenu.hidden = false;\n    }\n};\n_ActionBarElement_menuItems_get = function _ActionBarElement_menuItems_get() {\n    return this.moreMenu.querySelectorAll('[role=\"menu\"] > li');\n};\n__decorate([\n    targets\n], ActionBarElement.prototype, \"items\", void 0);\n__decorate([\n    target\n], ActionBarElement.prototype, \"itemContainer\", void 0);\n__decorate([\n    target\n], ActionBarElement.prototype, \"moreMenu\", void 0);\nActionBarElement = __decorate([\n    controller\n], ActionBarElement);\nwindow.ActionBarElement = ActionBarElement;\n","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _AnchoredPositionElement_anchorElement, _AnchoredPositionElement_animationFrame;\nimport { getAnchoredPosition } from '@primer/behaviors';\nconst updateWhenVisible = (() => {\n    const anchors = new Set();\n    let intersectionObserver = null;\n    let resizeObserver = null;\n    function updateVisibleAnchors() {\n        for (const anchor of anchors) {\n            anchor.update();\n        }\n    }\n    return (el) => {\n        // eslint-disable-next-line github/prefer-observers\n        window.addEventListener('resize', updateVisibleAnchors);\n        intersectionObserver || (intersectionObserver = new IntersectionObserver(entries => {\n            for (const entry of entries) {\n                const target = entry.target;\n                if (entry.isIntersecting) {\n                    target.update();\n                    anchors.add(target);\n                }\n                else {\n                    anchors.delete(target);\n                }\n            }\n        }));\n        resizeObserver || (resizeObserver = new ResizeObserver(() => {\n            for (const anchor of anchors) {\n                anchor.update();\n            }\n        }));\n        resizeObserver.observe(el.ownerDocument.documentElement);\n        intersectionObserver.observe(el);\n    };\n})();\nclass AnchoredPositionElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        _AnchoredPositionElement_anchorElement.set(this, null);\n        _AnchoredPositionElement_animationFrame.set(this, void 0);\n    }\n    get align() {\n        const value = this.getAttribute('align');\n        if (value === 'center' || value === 'end')\n            return value;\n        return 'start';\n    }\n    set align(value) {\n        this.setAttribute('align', `${value}`);\n    }\n    get side() {\n        const value = this.getAttribute('side');\n        if (value === 'inside-top' ||\n            value === 'inside-bottom' ||\n            value === 'inside-left' ||\n            value === 'inside-right' ||\n            value === 'inside-center' ||\n            value === 'outside-top' ||\n            value === 'outside-left' ||\n            value === 'outside-right') {\n            return value;\n        }\n        return 'outside-bottom';\n    }\n    set side(value) {\n        this.setAttribute('side', `${value}`);\n    }\n    get anchorOffset() {\n        const alias = this.getAttribute('anchor-offset');\n        if (alias === 'spacious' || alias === '8')\n            return 8;\n        return 4;\n    }\n    set anchorOffset(value) {\n        this.setAttribute('anchor-offset', `${value}`);\n    }\n    get anchor() {\n        return this.getAttribute('anchor') || '';\n    }\n    set anchor(value) {\n        this.setAttribute('anchor', `${value}`);\n    }\n    get anchorElement() {\n        if (__classPrivateFieldGet(this, _AnchoredPositionElement_anchorElement, \"f\"))\n            return __classPrivateFieldGet(this, _AnchoredPositionElement_anchorElement, \"f\");\n        const idRef = this.anchor;\n        if (!idRef)\n            return null;\n        return this.ownerDocument.getElementById(idRef);\n    }\n    set anchorElement(value) {\n        __classPrivateFieldSet(this, _AnchoredPositionElement_anchorElement, value, \"f\");\n        if (!__classPrivateFieldGet(this, _AnchoredPositionElement_anchorElement, \"f\")) {\n            this.removeAttribute('anchor');\n        }\n    }\n    get alignmentOffset() {\n        return Number(this.getAttribute('alignment-offset'));\n    }\n    set alignmentOffset(value) {\n        this.setAttribute('alignment-offset', `${value}`);\n    }\n    get allowOutOfBounds() {\n        return this.hasAttribute('allow-out-of-bounds');\n    }\n    set allowOutOfBounds(value) {\n        this.toggleAttribute('allow-out-of-bounds', value);\n    }\n    connectedCallback() {\n        this.update();\n        this.addEventListener('beforetoggle', () => this.update());\n        updateWhenVisible(this);\n    }\n    attributeChangedCallback() {\n        this.update();\n    }\n    update() {\n        if (!this.isConnected)\n            return;\n        cancelAnimationFrame(__classPrivateFieldGet(this, _AnchoredPositionElement_animationFrame, \"f\"));\n        __classPrivateFieldSet(this, _AnchoredPositionElement_animationFrame, requestAnimationFrame(() => {\n            const anchor = this.anchorElement;\n            this.classList.toggle('not-anchored', !anchor);\n            if (anchor) {\n                const { left, top } = getAnchoredPosition(this, anchor, this);\n                this.style.top = `${top}px`;\n                this.style.left = `${left}px`;\n                this.style.bottom = 'auto';\n                this.style.right = 'auto';\n            }\n            else {\n                this.style.top = '0';\n                this.style.left = '0';\n                this.style.bottom = '0';\n                this.style.right = '0';\n            }\n        }), \"f\");\n    }\n}\n_AnchoredPositionElement_anchorElement = new WeakMap(), _AnchoredPositionElement_animationFrame = new WeakMap();\nAnchoredPositionElement.observedAttributes = ['align', 'side', 'anchor', 'alignment-offset', 'allow-out-of-bounds'];\nexport default AnchoredPositionElement;\nif (!customElements.get('anchored-position')) {\n    window.AnchoredPositionElement = AnchoredPositionElement;\n    customElements.define('anchored-position', AnchoredPositionElement);\n}\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _FocusGroupElement_instances, _FocusGroupElement_retainSignal, _FocusGroupElement_abortController, _FocusGroupElement_items_get;\nimport '@oddbird/popover-polyfill';\nconst validSelectors = ['[role=\"menuitem\"]', '[role=\"menuitemcheckbox\"]', '[role=\"menuitemradio\"]'];\nconst menuItemSelector = validSelectors.map(selector => `:not([hidden]) > ${selector}`).join(', ');\nconst getMnemonicFor = (item) => { var _a; return (_a = item.textContent) === null || _a === void 0 ? void 0 : _a.trim()[0].toLowerCase(); };\nconst printable = /^\\S$/;\nclass FocusGroupElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        _FocusGroupElement_instances.add(this);\n        _FocusGroupElement_retainSignal.set(this, null);\n        _FocusGroupElement_abortController.set(this, null);\n    }\n    get nowrap() {\n        return this.hasAttribute('nowrap');\n    }\n    set nowrap(value) {\n        this.toggleAttribute('nowrap', value);\n    }\n    get direction() {\n        if (this.getAttribute('direction') === 'horizontal')\n            return 'horizontal';\n        return 'vertical';\n    }\n    set direction(value) {\n        this.setAttribute('direction', `${value}`);\n    }\n    get retain() {\n        return this.hasAttribute('retain');\n    }\n    set retain(value) {\n        this.toggleAttribute('retain', value);\n    }\n    get mnemonics() {\n        return this.hasAttribute('mnemonics');\n    }\n    connectedCallback() {\n        __classPrivateFieldSet(this, _FocusGroupElement_abortController, new AbortController(), \"f\");\n        const { signal } = __classPrivateFieldGet(this, _FocusGroupElement_abortController, \"f\");\n        this.addEventListener('keydown', this, { signal });\n        this.addEventListener('click', this, { signal });\n        this.addEventListener('mouseover', this, { signal });\n        this.addEventListener('focusin', this, { signal });\n    }\n    disconnectedCallback() {\n        var _a;\n        (_a = __classPrivateFieldGet(this, _FocusGroupElement_abortController, \"f\")) === null || _a === void 0 ? void 0 : _a.abort();\n    }\n    handleEvent(event) {\n        var _a;\n        const { direction, nowrap } = this;\n        if (event.type === 'focusin') {\n            if (this.retain && event.target instanceof Element && event.target.matches(menuItemSelector)) {\n                (_a = __classPrivateFieldGet(this, _FocusGroupElement_retainSignal, \"f\")) === null || _a === void 0 ? void 0 : _a.abort();\n                const { signal } = (__classPrivateFieldSet(this, _FocusGroupElement_retainSignal, new AbortController(), \"f\"));\n                for (const item of __classPrivateFieldGet(this, _FocusGroupElement_instances, \"a\", _FocusGroupElement_items_get)) {\n                    item.setAttribute('tabindex', item === event.target ? '0' : '-1');\n                    const popover = event.target.closest('[popover]');\n                    if (item === event.target && (popover === null || popover === void 0 ? void 0 : popover.popover) === 'auto' && popover.closest('focus-group') === this) {\n                        popover.addEventListener('toggle', (toggleEvent) => {\n                            var _a, _b;\n                            if (!(toggleEvent.target instanceof Element))\n                                return;\n                            if (toggleEvent.newState === 'closed') {\n                                (_a = __classPrivateFieldGet(this, _FocusGroupElement_retainSignal, \"f\")) === null || _a === void 0 ? void 0 : _a.abort();\n                                item.setAttribute('tabindex', '-1');\n                                if (popover.id) {\n                                    const invoker = this.querySelector(`[popovertarget=\"${popover.id}\"]`);\n                                    if (invoker) {\n                                        invoker.setAttribute('tabindex', '0');\n                                    }\n                                    else {\n                                        (_b = __classPrivateFieldGet(this, _FocusGroupElement_instances, \"a\", _FocusGroupElement_items_get)[0]) === null || _b === void 0 ? void 0 : _b.setAttribute('tabindex', '0');\n                                    }\n                                }\n                            }\n                        }, { signal });\n                    }\n                }\n            }\n        }\n        else if (event instanceof KeyboardEvent) {\n            const items = Array.from(__classPrivateFieldGet(this, _FocusGroupElement_instances, \"a\", _FocusGroupElement_items_get));\n            let index = items.indexOf(event.target);\n            const key = event.key;\n            if (key === 'Up' || key === 'ArrowUp') {\n                if (direction === 'vertical' || direction === 'both') {\n                    index -= index < 0 ? 0 : 1;\n                    event.preventDefault();\n                }\n            }\n            else if (key === 'Down' || key === 'ArrowDown') {\n                if (direction === 'vertical' || direction === 'both') {\n                    index += 1;\n                    event.preventDefault();\n                }\n            }\n            else if (event.key === 'Left' || event.key === 'ArrowLeft') {\n                if (direction === 'horizontal' || direction === 'both') {\n                    index -= 1;\n                    event.preventDefault();\n                }\n            }\n            else if (event.key === 'Right' || event.key === 'ArrowRight') {\n                if (direction === 'horizontal' || direction === 'both') {\n                    index += 1;\n                    event.preventDefault();\n                }\n            }\n            else if (event.key === 'Home' || event.key === 'PageUp') {\n                index = 0;\n                event.preventDefault();\n            }\n            else if (event.key === 'End' || event.key === 'PageDown') {\n                index = items.length - 1;\n                event.preventDefault();\n            }\n            else if (this.mnemonics && printable.test(key)) {\n                const mnemonic = key.toLowerCase();\n                const offset = index > 0 && getMnemonicFor(event.target) === mnemonic ? index : 0;\n                index = items.findIndex((item, i) => i > offset && getMnemonicFor(item) === mnemonic);\n                if (index < 0 && !nowrap) {\n                    index = items.findIndex(item => getMnemonicFor(item) === mnemonic);\n                }\n            }\n            else {\n                return;\n            }\n            if (nowrap && index < 0)\n                index = 0;\n            if (!nowrap && index >= items.length)\n                index = 0;\n            const focusEl = items.at(Math.min(index, items.length - 1));\n            {\n                let el = focusEl;\n                do {\n                    el = el.closest(`[popover]:not(:popover-open)`);\n                    if ((el === null || el === void 0 ? void 0 : el.popover) === 'auto' && !['ArrowRight', 'ArrowLeft'].includes(event.key)) {\n                        el.showPopover();\n                    }\n                    el = (el === null || el === void 0 ? void 0 : el.parentElement) || null;\n                } while (el);\n            }\n            focusEl === null || focusEl === void 0 ? void 0 : focusEl.focus();\n        }\n    }\n}\n_FocusGroupElement_retainSignal = new WeakMap(), _FocusGroupElement_abortController = new WeakMap(), _FocusGroupElement_instances = new WeakSet(), _FocusGroupElement_items_get = function _FocusGroupElement_items_get() {\n    return this.querySelectorAll(menuItemSelector);\n};\nexport default FocusGroupElement;\nif (!customElements.get('focus-group')) {\n    window.FocusGroupElement = FocusGroupElement;\n    customElements.define('focus-group', FocusGroupElement);\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _NavListElement_instances, _NavListElement_findSelectedNavItemById, _NavListElement_findSelectedNavItemByHref, _NavListElement_findSelectedNavItemByCurrentLocation, _NavListElement_select, _NavListElement_deselect, _NavListElement_findParentMenu;\n/* eslint-disable custom-elements/expose-class-on-global */\nimport { controller, targets } from '@github/catalyst';\nlet NavListElement = class NavListElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        _NavListElement_instances.add(this);\n    }\n    selectItemById(itemId) {\n        if (!itemId)\n            return false;\n        const selectedItem = __classPrivateFieldGet(this, _NavListElement_instances, \"m\", _NavListElement_findSelectedNavItemById).call(this, itemId);\n        if (selectedItem) {\n            __classPrivateFieldGet(this, _NavListElement_instances, \"m\", _NavListElement_select).call(this, selectedItem);\n            return true;\n        }\n        return false;\n    }\n    selectItemByHref(href) {\n        if (!href)\n            return false;\n        const selectedItem = __classPrivateFieldGet(this, _NavListElement_instances, \"m\", _NavListElement_findSelectedNavItemByHref).call(this, href);\n        if (selectedItem) {\n            __classPrivateFieldGet(this, _NavListElement_instances, \"m\", _NavListElement_select).call(this, selectedItem);\n            return true;\n        }\n        return false;\n    }\n    selectItemByCurrentLocation() {\n        const selectedItem = __classPrivateFieldGet(this, _NavListElement_instances, \"m\", _NavListElement_findSelectedNavItemByCurrentLocation).call(this);\n        if (selectedItem) {\n            __classPrivateFieldGet(this, _NavListElement_instances, \"m\", _NavListElement_select).call(this, selectedItem);\n            return true;\n        }\n        return false;\n    }\n    // expand collapsible item onClick\n    expandItem(item) {\n        var _a;\n        (_a = item.nextElementSibling) === null || _a === void 0 ? void 0 : _a.removeAttribute('data-hidden');\n        item.setAttribute('aria-expanded', 'true');\n    }\n    collapseItem(item) {\n        var _a;\n        (_a = item.nextElementSibling) === null || _a === void 0 ? void 0 : _a.setAttribute('data-hidden', '');\n        item.setAttribute('aria-expanded', 'false');\n        item.focus();\n    }\n    itemIsExpanded(item) {\n        if ((item === null || item === void 0 ? void 0 : item.tagName) === 'A') {\n            return true;\n        }\n        return (item === null || item === void 0 ? void 0 : item.getAttribute('aria-expanded')) === 'true';\n    }\n    // expand/collapse item\n    handleItemWithSubItemClick(e) {\n        const el = e.target;\n        if (!(el instanceof HTMLElement))\n            return;\n        const button = el.closest('button');\n        if (!button)\n            return;\n        if (this.itemIsExpanded(button)) {\n            this.collapseItem(button);\n        }\n        else {\n            this.expandItem(button);\n        }\n        e.stopPropagation();\n    }\n    // collapse item\n    handleItemWithSubItemKeydown(e) {\n        const el = e.currentTarget;\n        if (!(el instanceof HTMLElement))\n            return;\n        let button = el.closest('button');\n        if (!button) {\n            const button_id = el.getAttribute('aria-labelledby');\n            if (button_id) {\n                button = document.getElementById(button_id);\n            }\n            else {\n                return;\n            }\n        }\n        if (this.itemIsExpanded(button) && e.key === 'Escape') {\n            this.collapseItem(button);\n        }\n        e.stopPropagation();\n    }\n};\n_NavListElement_instances = new WeakSet();\n_NavListElement_findSelectedNavItemById = function _NavListElement_findSelectedNavItemById(itemId) {\n    var _a;\n    // First we compare the selected link to data-item-id for each nav item\n    for (const navItem of this.items) {\n        if (navItem.classList.contains('ActionListItem--hasSubItem')) {\n            continue;\n        }\n        const keys = ((_a = navItem.getAttribute('data-item-id')) === null || _a === void 0 ? void 0 : _a.split(' ')) || [];\n        if (keys.includes(itemId)) {\n            return navItem;\n        }\n    }\n    return null;\n};\n_NavListElement_findSelectedNavItemByHref = function _NavListElement_findSelectedNavItemByHref(href) {\n    // If we didn't find a match, we compare the selected link to the href of each nav item\n    const selectedNavItem = this.querySelector(`.ActionListContent[href=\"${href}\"]`);\n    if (selectedNavItem) {\n        return selectedNavItem.closest('.ActionListItem');\n    }\n    return null;\n};\n_NavListElement_findSelectedNavItemByCurrentLocation = function _NavListElement_findSelectedNavItemByCurrentLocation() {\n    return __classPrivateFieldGet(this, _NavListElement_instances, \"m\", _NavListElement_findSelectedNavItemByHref).call(this, window.location.pathname);\n};\n_NavListElement_select = function _NavListElement_select(navItem) {\n    const currentlySelectedItem = this.querySelector('.ActionListItem--navActive');\n    if (currentlySelectedItem)\n        __classPrivateFieldGet(this, _NavListElement_instances, \"m\", _NavListElement_deselect).call(this, currentlySelectedItem);\n    navItem.classList.add('ActionListItem--navActive');\n    if (navItem.children.length > 0) {\n        navItem.children[0].setAttribute('aria-current', 'page');\n    }\n    const parentMenu = __classPrivateFieldGet(this, _NavListElement_instances, \"m\", _NavListElement_findParentMenu).call(this, navItem);\n    if (parentMenu) {\n        this.expandItem(parentMenu);\n        parentMenu.classList.add('ActionListContent--hasActiveSubItem');\n    }\n};\n_NavListElement_deselect = function _NavListElement_deselect(navItem) {\n    navItem.classList.remove('ActionListItem--navActive');\n    if (navItem.children.length > 0) {\n        navItem.children[0].removeAttribute('aria-current');\n    }\n    const parentMenu = __classPrivateFieldGet(this, _NavListElement_instances, \"m\", _NavListElement_findParentMenu).call(this, navItem);\n    if (parentMenu) {\n        this.collapseItem(parentMenu);\n        parentMenu.classList.remove('ActionListContent--hasActiveSubItem');\n    }\n};\n_NavListElement_findParentMenu = function _NavListElement_findParentMenu(navItem) {\n    var _a;\n    if (!navItem.classList.contains('ActionListItem--subItem'))\n        return null;\n    const parent = (_a = navItem.closest('li.ActionListItem--hasSubItem')) === null || _a === void 0 ? void 0 : _a.querySelector('button.ActionListContent');\n    if (parent) {\n        return parent;\n    }\n    else {\n        return null;\n    }\n};\n__decorate([\n    targets\n], NavListElement.prototype, \"items\", void 0);\nNavListElement = __decorate([\n    controller\n], NavListElement);\nexport { NavListElement };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _NavListGroupElement_instances, _NavListGroupElement_parseHTML;\nimport { controller, target, targets } from '@github/catalyst';\nlet NavListGroupElement = class NavListGroupElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        _NavListGroupElement_instances.add(this);\n    }\n    connectedCallback() {\n        this.setShowMoreItemState();\n    }\n    get showMoreDisabled() {\n        return this.showMoreItem.hasAttribute('aria-disabled');\n    }\n    set showMoreDisabled(value) {\n        if (value) {\n            this.showMoreItem.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            this.showMoreItem.removeAttribute('aria-disabled');\n        }\n        this.showMoreItem.classList.toggle('disabled', value);\n    }\n    set currentPage(value) {\n        this.showMoreItem.setAttribute('data-current-page', value.toString());\n    }\n    get currentPage() {\n        return parseInt(this.showMoreItem.getAttribute('data-current-page')) || 1;\n    }\n    get totalPages() {\n        return parseInt(this.showMoreItem.getAttribute('data-total-pages')) || 1;\n    }\n    get paginationSrc() {\n        return this.showMoreItem.getAttribute('src') || '';\n    }\n    async showMore(e) {\n        var _a, _b;\n        e.preventDefault();\n        if (this.showMoreDisabled)\n            return;\n        this.showMoreDisabled = true;\n        let html;\n        try {\n            const paginationURL = new URL(this.paginationSrc, window.location.origin);\n            this.currentPage++;\n            paginationURL.searchParams.append('page', this.currentPage.toString());\n            const response = await fetch(paginationURL);\n            if (!response.ok)\n                return;\n            html = await response.text();\n            if (this.currentPage === this.totalPages) {\n                this.showMoreItem.hidden = true;\n            }\n        }\n        catch (err) {\n            // Ignore network errors\n            this.showMoreDisabled = false;\n            this.currentPage--;\n            return;\n        }\n        const fragment = __classPrivateFieldGet(this, _NavListGroupElement_instances, \"m\", _NavListGroupElement_parseHTML).call(this, document, html);\n        (_a = fragment === null || fragment === void 0 ? void 0 : fragment.querySelector('li > a')) === null || _a === void 0 ? void 0 : _a.setAttribute('data-targets', 'nav-list-group.focusMarkers');\n        const listId = e.target.closest('button').getAttribute('data-list-id');\n        const list = document.getElementById(listId);\n        list.append(fragment);\n        (_b = this.focusMarkers.pop()) === null || _b === void 0 ? void 0 : _b.focus();\n        this.showMoreDisabled = false;\n    }\n    setShowMoreItemState() {\n        if (!this.showMoreItem) {\n            return;\n        }\n        if (this.currentPage < this.totalPages) {\n            this.showMoreItem.hidden = false;\n        }\n        else {\n            this.showMoreItem.hidden = true;\n        }\n    }\n};\n_NavListGroupElement_instances = new WeakSet();\n_NavListGroupElement_parseHTML = function _NavListGroupElement_parseHTML(document, html) {\n    const template = document.createElement('template');\n    // eslint-disable-next-line github/no-inner-html\n    template.innerHTML = html;\n    return document.importNode(template.content, true);\n};\n__decorate([\n    target\n], NavListGroupElement.prototype, \"showMoreItem\", void 0);\n__decorate([\n    targets\n], NavListGroupElement.prototype, \"focusMarkers\", void 0);\nNavListGroupElement = __decorate([\n    controller\n], NavListGroupElement);\nexport { NavListGroupElement };\nwindow.NavListGroupElement = NavListGroupElement;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _SegmentedControlElement_instances, _SegmentedControlElement_updateButtonLabels;\nimport { controller, targets } from '@github/catalyst';\nlet SegmentedControlElement = class SegmentedControlElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        _SegmentedControlElement_instances.add(this);\n    }\n    connectedCallback() {\n        __classPrivateFieldGet(this, _SegmentedControlElement_instances, \"m\", _SegmentedControlElement_updateButtonLabels).call(this);\n    }\n    select(event) {\n        var _a, _b;\n        const button = event.currentTarget;\n        for (const item of this.items) {\n            item.classList.remove('SegmentedControl-item--selected');\n            (_a = item.querySelector('[aria-current]')) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-current', 'false');\n        }\n        (_b = button.closest('li.SegmentedControl-item')) === null || _b === void 0 ? void 0 : _b.classList.add('SegmentedControl-item--selected');\n        button.setAttribute('aria-current', 'true');\n    }\n};\n_SegmentedControlElement_instances = new WeakSet();\n_SegmentedControlElement_updateButtonLabels = function _SegmentedControlElement_updateButtonLabels() {\n    for (const label of this.querySelectorAll('.Button-label')) {\n        label.setAttribute('data-content', label.textContent || '');\n    }\n};\n__decorate([\n    targets\n], SegmentedControlElement.prototype, \"items\", void 0);\nSegmentedControlElement = __decorate([\n    controller\n], SegmentedControlElement);\nif (!window.customElements.get('segmented-control')) {\n    window.SegmentedControlElement = SegmentedControlElement;\n    window.customElements.define('segmented-control', SegmentedControlElement);\n}\n","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _ToolTipElement_instances, _ToolTipElement_abortController, _ToolTipElement_align, _ToolTipElement_side, _ToolTipElement_allowUpdatePosition, _ToolTipElement_showReason, _ToolTipElement_update, _ToolTipElement_updateControlReference, _ToolTipElement_updateDirection, _ToolTipElement_updatePosition;\nimport '@oddbird/popover-polyfill';\nimport { getAnchoredPosition } from '@primer/behaviors';\nconst isPopoverOpen = (() => {\n    let selector;\n    function setSelector(el) {\n        try {\n            selector = ':popover-open';\n            return el.matches(selector);\n        }\n        catch (_a) {\n            try {\n                selector = ':open';\n                return el.matches(':open');\n            }\n            catch (_b) {\n                selector = '.\\\\:popover-open';\n                return el.matches('.\\\\:popover-open');\n            }\n        }\n    }\n    return (el) => (selector ? el.matches(selector) : setSelector(el));\n})();\nconst TOOLTIP_ARROW_EDGE_OFFSET = 6;\nconst TOOLTIP_SR_ONLY_CLASS = 'sr-only';\nconst TOOLTIP_OFFSET = 10;\nconst DIRECTION_CLASSES = [\n    'tooltip-n',\n    'tooltip-s',\n    'tooltip-e',\n    'tooltip-w',\n    'tooltip-ne',\n    'tooltip-se',\n    'tooltip-nw',\n    'tooltip-sw',\n];\nfunction closeOpenTooltips(except) {\n    for (const tooltip of openTooltips) {\n        if (tooltip === except)\n            continue;\n        if (isPopoverOpen(tooltip)) {\n            tooltip.hidePopover();\n        }\n        else {\n            openTooltips.delete(tooltip);\n        }\n    }\n}\nfunction focusOutListener() {\n    closeOpenTooltips();\n}\nfunction focusInListener(event) {\n    setTimeout(() => {\n        for (const tooltip of openTooltips) {\n            if (isPopoverOpen(tooltip) && tooltip.showReason === 'focus' && tooltip.control !== event.target) {\n                tooltip.hidePopover();\n            }\n        }\n    }, 0);\n}\nconst tooltips = new Set();\nconst openTooltips = new Set();\nclass ToolTipElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        _ToolTipElement_instances.add(this);\n        _ToolTipElement_abortController.set(this, void 0);\n        _ToolTipElement_align.set(this, 'center');\n        _ToolTipElement_side.set(this, 'outside-bottom');\n        _ToolTipElement_allowUpdatePosition.set(this, false);\n        _ToolTipElement_showReason.set(this, 'mouse');\n    }\n    styles() {\n        return `\n      :host {\n        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;\n        font: var(--text-body-shorthand-small);\n        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;\n        text-align: center;\n        text-decoration: none;\n        text-shadow: none;\n        text-transform: none;\n        letter-spacing: normal;\n        word-wrap: break-word;\n        white-space: pre;\n        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;\n        border-radius: var(--borderRadius-medium);\n        border: 0 !important;\n        opacity: 0;\n        max-width: var(--overlay-width-small);\n        word-wrap: break-word;\n        white-space: normal;\n        width: max-content !important;\n        inset: var(--tool-tip-position-top, 0) auto auto var(--tool-tip-position-left, 0) !important;\n        overflow: visible !important;\n        text-wrap: balance;\n      }\n\n      :host:before{\n        position: absolute;\n        z-index: 1000001;\n        color: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus));\n        content: \"\";\n        border: 6px solid transparent;\n        opacity: 0;\n      }\n\n      @keyframes tooltip-appear {\n        from {\n          opacity: 0;\n        }\n        to {\n          opacity: 1;\n        }\n      }\n\n      :host:after{\n        position: absolute;\n        display: block;\n        right: 0;\n        left: 0;\n        height: 12px;\n        content: \"\";\n      }\n\n      :host(:popover-open),\n      :host(:popover-open):before {\n        animation-name: tooltip-appear;\n        animation-duration: .1s;\n        animation-fill-mode: forwards;\n        animation-timing-function: ease-in;\n      }\n\n      :host(.\\\\:popover-open),\n      :host(.\\\\:popover-open):before {\n        animation-name: tooltip-appear;\n        animation-duration: .1s;\n        animation-fill-mode: forwards;\n        animation-timing-function: ease-in;\n        animation-delay: .4s;\n      }\n\n      :host(.tooltip-s):before,\n      :host(.tooltip-n):before {\n        right: 50%;\n        margin-right: -${TOOLTIP_ARROW_EDGE_OFFSET}px;\n      }\n      :host(.tooltip-s):before,\n      :host(.tooltip-se):before,\n      :host(.tooltip-sw):before {\n        bottom: 100%;\n        border-bottom-color: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus));\n      }\n      :host(.tooltip-s):after,\n      :host(.tooltip-se):after,\n      :host(.tooltip-sw):after {\n        bottom: 100%\n      }\n      :host(.tooltip-n):before,\n      :host(.tooltip-ne):before,\n      :host(.tooltip-nw):before {\n        top: 100%;\n        border-top-color: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus));\n      }\n      :host(.tooltip-n):after,\n      :host(.tooltip-ne):after,\n      :host(.tooltip-nw):after {\n        top: 100%;\n      }\n      :host(.tooltip-se):before,\n      :host(.tooltip-ne):before {\n        left: 0;\n        margin-left: ${TOOLTIP_ARROW_EDGE_OFFSET}px;\n      }\n      :host(.tooltip-sw):before,\n      :host(.tooltip-nw):before {\n        right: 0;\n        margin-right: ${TOOLTIP_ARROW_EDGE_OFFSET}px;\n      }\n      :host(.tooltip-w):before {\n        top: 50%;\n        bottom: 50%;\n        left: 100%;\n        margin-top: -6px;\n        border-left-color: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus));\n      }\n      :host(.tooltip-e):before {\n        top: 50%;\n        right: 100%;\n        bottom: 50%;\n        margin-top: -6px;\n        border-right-color: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus));\n      }\n    `;\n    }\n    get showReason() {\n        return __classPrivateFieldGet(this, _ToolTipElement_showReason, \"f\");\n    }\n    get htmlFor() {\n        return this.getAttribute('for') || '';\n    }\n    set htmlFor(value) {\n        this.setAttribute('for', value);\n    }\n    get type() {\n        const type = this.getAttribute('data-type');\n        return type === 'label' ? 'label' : 'description';\n    }\n    set type(value) {\n        this.setAttribute('data-type', value);\n    }\n    get direction() {\n        return (this.getAttribute('data-direction') || 's');\n    }\n    set direction(value) {\n        this.setAttribute('data-direction', value);\n    }\n    get control() {\n        return this.ownerDocument.getElementById(this.htmlFor);\n    }\n    /* @deprecated */\n    set hiddenFromView(value) {\n        if (value && isPopoverOpen(this)) {\n            this.hidePopover();\n        }\n        else if (!value && !isPopoverOpen(this)) {\n            this.showPopover();\n        }\n    }\n    /* @deprecated */\n    get hiddenFromView() {\n        return !isPopoverOpen(this);\n    }\n    connectedCallback() {\n        var _a, _b;\n        tooltips.add(this);\n        __classPrivateFieldGet(this, _ToolTipElement_instances, \"m\", _ToolTipElement_updateControlReference).call(this);\n        __classPrivateFieldGet(this, _ToolTipElement_instances, \"m\", _ToolTipElement_updateDirection).call(this);\n        if (!this.shadowRoot) {\n            const shadow = this.attachShadow({ mode: 'open' });\n            const style = shadow.appendChild(document.createElement('style'));\n            style.textContent = this.styles();\n            shadow.appendChild(document.createElement('slot'));\n        }\n        __classPrivateFieldGet(this, _ToolTipElement_instances, \"m\", _ToolTipElement_update).call(this, false);\n        __classPrivateFieldSet(this, _ToolTipElement_allowUpdatePosition, true, \"f\");\n        if (!this.control)\n            return;\n        this.setAttribute('role', 'tooltip');\n        (_a = __classPrivateFieldGet(this, _ToolTipElement_abortController, \"f\")) === null || _a === void 0 ? void 0 : _a.abort();\n        __classPrivateFieldSet(this, _ToolTipElement_abortController, new AbortController(), \"f\");\n        const { signal } = __classPrivateFieldGet(this, _ToolTipElement_abortController, \"f\");\n        this.addEventListener('mouseleave', this, { signal });\n        this.addEventListener('toggle', this, { signal });\n        this.control.addEventListener('mouseenter', this, { signal });\n        this.control.addEventListener('mouseleave', this, { signal });\n        this.control.addEventListener('focus', this, { signal });\n        this.control.addEventListener('mousedown', this, { signal });\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore popoverTargetElement is not in the type definition\n        (_b = this.control.popoverTargetElement) === null || _b === void 0 ? void 0 : _b.addEventListener('beforetoggle', this, {\n            signal,\n        });\n        this.ownerDocument.addEventListener('focusout', focusOutListener);\n        this.ownerDocument.addEventListener('focusin', focusInListener);\n        this.ownerDocument.addEventListener('keydown', this, { signal, capture: true });\n    }\n    disconnectedCallback() {\n        var _a;\n        tooltips.delete(this);\n        openTooltips.delete(this);\n        (_a = __classPrivateFieldGet(this, _ToolTipElement_abortController, \"f\")) === null || _a === void 0 ? void 0 : _a.abort();\n    }\n    async handleEvent(event) {\n        if (!this.control)\n            return;\n        const showing = isPopoverOpen(this);\n        // Ensures that tooltip stays open when hovering between tooltip and element\n        // WCAG Success Criterion 1.4.13 Hoverable\n        const shouldShow = event.type === 'mouseenter' || event.type === 'focus';\n        const isMouseLeaveFromButton = event.type === 'mouseleave' &&\n            event.relatedTarget !== this.control &&\n            event.relatedTarget !== this;\n        const isEscapeKeydown = event.type === 'keydown' && event.key === 'Escape';\n        const isMouseDownOnButton = event.type === 'mousedown' && event.currentTarget === this.control;\n        const isOpeningOtherPopover = event.type === 'beforetoggle' && event.currentTarget !== this;\n        const shouldHide = isMouseLeaveFromButton || isEscapeKeydown || isMouseDownOnButton || isOpeningOtherPopover;\n        if (showing && isEscapeKeydown) {\n            event.stopImmediatePropagation();\n            event.preventDefault();\n        }\n        await Promise.resolve();\n        if (!showing && shouldShow && !isPopoverOpen(this)) {\n            __classPrivateFieldSet(this, _ToolTipElement_showReason, event.type === 'mouseenter' ? 'mouse' : 'focus', \"f\");\n            this.showPopover();\n        }\n        else if (showing && shouldHide && isPopoverOpen(this)) {\n            this.hidePopover();\n        }\n        if (event.type === 'toggle') {\n            __classPrivateFieldGet(this, _ToolTipElement_instances, \"m\", _ToolTipElement_update).call(this, event.newState === 'open');\n        }\n    }\n    attributeChangedCallback(name) {\n        if (!this.isConnected)\n            return;\n        if (name === 'id' || name === 'data-type') {\n            __classPrivateFieldGet(this, _ToolTipElement_instances, \"m\", _ToolTipElement_updateControlReference).call(this);\n        }\n        else if (name === 'data-direction') {\n            __classPrivateFieldGet(this, _ToolTipElement_instances, \"m\", _ToolTipElement_updateDirection).call(this);\n        }\n    }\n}\n_ToolTipElement_abortController = new WeakMap(), _ToolTipElement_align = new WeakMap(), _ToolTipElement_side = new WeakMap(), _ToolTipElement_allowUpdatePosition = new WeakMap(), _ToolTipElement_showReason = new WeakMap(), _ToolTipElement_instances = new WeakSet(), _ToolTipElement_update = function _ToolTipElement_update(isOpen) {\n    if (isOpen) {\n        openTooltips.add(this);\n        this.classList.remove(TOOLTIP_SR_ONLY_CLASS);\n        closeOpenTooltips(this);\n        __classPrivateFieldGet(this, _ToolTipElement_instances, \"m\", _ToolTipElement_updatePosition).call(this);\n    }\n    else {\n        openTooltips.delete(this);\n        this.classList.remove(...DIRECTION_CLASSES);\n        this.classList.add(TOOLTIP_SR_ONLY_CLASS);\n    }\n}, _ToolTipElement_updateControlReference = function _ToolTipElement_updateControlReference() {\n    if (!this.id || !this.control)\n        return;\n    if (this.type === 'label') {\n        let labelledBy = this.control.getAttribute('aria-labelledby');\n        if (labelledBy) {\n            if (!labelledBy.split(' ').includes(this.id)) {\n                labelledBy = `${labelledBy} ${this.id}`;\n            }\n            else {\n                labelledBy = `${labelledBy}`;\n            }\n        }\n        else {\n            labelledBy = this.id;\n        }\n        this.control.setAttribute('aria-labelledby', labelledBy);\n        // Prevent duplicate accessible name announcements.\n        this.setAttribute('aria-hidden', 'true');\n    }\n    else {\n        let describedBy = this.control.getAttribute('aria-describedby');\n        if (describedBy) {\n            if (!describedBy.split(' ').includes(this.id)) {\n                describedBy = `${describedBy} ${this.id}`;\n            }\n            else {\n                describedBy = `${describedBy}`;\n            }\n        }\n        else {\n            describedBy = this.id;\n        }\n        this.control.setAttribute('aria-describedby', describedBy);\n    }\n}, _ToolTipElement_updateDirection = function _ToolTipElement_updateDirection() {\n    this.classList.remove(...DIRECTION_CLASSES);\n    const direction = this.direction;\n    if (direction === 'n') {\n        __classPrivateFieldSet(this, _ToolTipElement_align, 'center', \"f\");\n        __classPrivateFieldSet(this, _ToolTipElement_side, 'outside-top', \"f\");\n    }\n    else if (direction === 'ne') {\n        __classPrivateFieldSet(this, _ToolTipElement_align, 'start', \"f\");\n        __classPrivateFieldSet(this, _ToolTipElement_side, 'outside-top', \"f\");\n    }\n    else if (direction === 'e') {\n        __classPrivateFieldSet(this, _ToolTipElement_align, 'center', \"f\");\n        __classPrivateFieldSet(this, _ToolTipElement_side, 'outside-right', \"f\");\n    }\n    else if (direction === 'se') {\n        __classPrivateFieldSet(this, _ToolTipElement_align, 'start', \"f\");\n        __classPrivateFieldSet(this, _ToolTipElement_side, 'outside-bottom', \"f\");\n    }\n    else if (direction === 's') {\n        __classPrivateFieldSet(this, _ToolTipElement_align, 'center', \"f\");\n        __classPrivateFieldSet(this, _ToolTipElement_side, 'outside-bottom', \"f\");\n    }\n    else if (direction === 'sw') {\n        __classPrivateFieldSet(this, _ToolTipElement_align, 'end', \"f\");\n        __classPrivateFieldSet(this, _ToolTipElement_side, 'outside-bottom', \"f\");\n    }\n    else if (direction === 'w') {\n        __classPrivateFieldSet(this, _ToolTipElement_align, 'center', \"f\");\n        __classPrivateFieldSet(this, _ToolTipElement_side, 'outside-left', \"f\");\n    }\n    else if (direction === 'nw') {\n        __classPrivateFieldSet(this, _ToolTipElement_align, 'end', \"f\");\n        __classPrivateFieldSet(this, _ToolTipElement_side, 'outside-top', \"f\");\n    }\n}, _ToolTipElement_updatePosition = function _ToolTipElement_updatePosition() {\n    if (!this.control)\n        return;\n    if (!__classPrivateFieldGet(this, _ToolTipElement_allowUpdatePosition, \"f\") || !isPopoverOpen(this))\n        return;\n    const position = getAnchoredPosition(this, this.control, {\n        side: __classPrivateFieldGet(this, _ToolTipElement_side, \"f\"),\n        align: __classPrivateFieldGet(this, _ToolTipElement_align, \"f\"),\n        anchorOffset: TOOLTIP_OFFSET,\n    });\n    const anchorSide = position.anchorSide;\n    const align = position.anchorAlign;\n    this.style.setProperty('--tool-tip-position-top', `${position.top}px`);\n    this.style.setProperty('--tool-tip-position-left', `${position.left}px`);\n    let direction = 's';\n    if (anchorSide === 'outside-left') {\n        direction = 'w';\n    }\n    else if (anchorSide === 'outside-right') {\n        direction = 'e';\n    }\n    else if (anchorSide === 'outside-top') {\n        if (align === 'center') {\n            direction = 'n';\n        }\n        else if (align === 'start') {\n            direction = 'ne';\n        }\n        else {\n            direction = 'nw';\n        }\n    }\n    else {\n        if (align === 'center') {\n            direction = 's';\n        }\n        else if (align === 'start') {\n            direction = 'se';\n        }\n        else {\n            direction = 'sw';\n        }\n    }\n    this.classList.add(`tooltip-${direction}`);\n};\nToolTipElement.observedAttributes = ['data-type', 'data-direction', 'id'];\nif (!window.customElements.get('tool-tip')) {\n    window.ToolTipElement = ToolTipElement;\n    window.customElements.define('tool-tip', ToolTipElement);\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _XBannerElement_instances, _XBannerElement_dismissScheme_get;\nimport { controller, target } from '@github/catalyst';\nlet XBannerElement = class XBannerElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        _XBannerElement_instances.add(this);\n    }\n    dismiss() {\n        const parentElement = this.parentElement;\n        if (!parentElement)\n            return;\n        if (__classPrivateFieldGet(this, _XBannerElement_instances, \"a\", _XBannerElement_dismissScheme_get) === 'remove') {\n            parentElement.removeChild(this);\n        }\n        else {\n            this.hide();\n        }\n    }\n    show() {\n        this.style.setProperty('display', 'initial');\n    }\n    hide() {\n        this.style.setProperty('display', 'none');\n    }\n};\n_XBannerElement_instances = new WeakSet();\n_XBannerElement_dismissScheme_get = function _XBannerElement_dismissScheme_get() {\n    return this.getAttribute('data-dismiss-scheme');\n};\n__decorate([\n    target\n], XBannerElement.prototype, \"titleText\", void 0);\nXBannerElement = __decorate([\n    controller\n], XBannerElement);\nif (!window.customElements.get('x-banner')) {\n    window.XBannerElement = XBannerElement;\n    window.customElements.define('x-banner', XBannerElement);\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _PrimerTextFieldElement_abortController;\nimport '@github/auto-check-element';\nimport { controller, target } from '@github/catalyst';\n// eslint-disable-next-line custom-elements/expose-class-on-global\nlet PrimerTextFieldElement = \n// eslint-disable-next-line no-unused-vars, @typescript-eslint/no-unused-vars\nclass PrimerTextFieldElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        _PrimerTextFieldElement_abortController.set(this, void 0);\n    }\n    connectedCallback() {\n        var _a;\n        (_a = __classPrivateFieldGet(this, _PrimerTextFieldElement_abortController, \"f\")) === null || _a === void 0 ? void 0 : _a.abort();\n        const { signal } = (__classPrivateFieldSet(this, _PrimerTextFieldElement_abortController, new AbortController(), \"f\"));\n        this.inputElement.addEventListener('auto-check-success', async (event) => {\n            const message = await event.detail.response.text();\n            if (message && message.length > 0) {\n                this.setSuccess(message);\n            }\n            else {\n                this.clearError();\n            }\n        }, { signal });\n        this.inputElement.addEventListener('auto-check-error', async (event) => {\n            const errorMessage = await event.detail.response.text();\n            this.setError(errorMessage);\n        }, { signal });\n    }\n    disconnectedCallback() {\n        var _a;\n        (_a = __classPrivateFieldGet(this, _PrimerTextFieldElement_abortController, \"f\")) === null || _a === void 0 ? void 0 : _a.abort();\n    }\n    clearContents() {\n        this.inputElement.value = '';\n        this.inputElement.focus();\n    }\n    clearError() {\n        this.inputElement.removeAttribute('invalid');\n        this.validationElement.hidden = true;\n        this.validationMessageElement.replaceChildren();\n    }\n    setValidationMessage(message) {\n        const template = document.createElement('template');\n        // eslint-disable-next-line github/no-inner-html\n        template.innerHTML = message;\n        const fragment = document.importNode(template.content, true);\n        this.validationMessageElement.replaceChildren(fragment);\n    }\n    toggleValidationStyling(isError) {\n        if (isError) {\n            this.validationElement.classList.remove('FormControl-inlineValidation--success');\n        }\n        else {\n            this.validationElement.classList.add('FormControl-inlineValidation--success');\n        }\n        this.validationSuccessIcon.hidden = isError;\n        this.validationErrorIcon.hidden = !isError;\n        this.inputElement.setAttribute('invalid', isError ? 'true' : 'false');\n    }\n    setSuccess(message) {\n        this.toggleValidationStyling(false);\n        this.setValidationMessage(message);\n        this.validationElement.hidden = false;\n    }\n    setError(message) {\n        this.toggleValidationStyling(true);\n        this.setValidationMessage(message);\n        this.validationElement.hidden = false;\n    }\n};\n_PrimerTextFieldElement_abortController = new WeakMap();\n__decorate([\n    target\n], PrimerTextFieldElement.prototype, \"inputElement\", void 0);\n__decorate([\n    target\n], PrimerTextFieldElement.prototype, \"validationElement\", void 0);\n__decorate([\n    target\n], PrimerTextFieldElement.prototype, \"validationMessageElement\", void 0);\n__decorate([\n    target\n], PrimerTextFieldElement.prototype, \"validationSuccessIcon\", void 0);\n__decorate([\n    target\n], PrimerTextFieldElement.prototype, \"validationErrorIcon\", void 0);\nPrimerTextFieldElement = __decorate([\n    controller\n    // eslint-disable-next-line no-unused-vars, @typescript-eslint/no-unused-vars\n], PrimerTextFieldElement);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ActionMenuElement_instances, _ActionMenuElement_abortController, _ActionMenuElement_originalLabel, _ActionMenuElement_inputName, _ActionMenuElement_invokerBeingClicked, _ActionMenuElement_softDisableItems, _ActionMenuElement_potentiallyDisallowActivation, _ActionMenuElement_isKeyboardActivation, _ActionMenuElement_isKeyboardActivationViaEnter, _ActionMenuElement_isKeyboardActivationViaSpace, _ActionMenuElement_isMouseActivation, _ActionMenuElement_isActivation, _ActionMenuElement_handleInvokerActivated, _ActionMenuElement_handleDialogItemActivated, _ActionMenuElement_handleItemActivated, _ActionMenuElement_activateItem, _ActionMenuElement_handleIncludeFragmentReplaced, _ActionMenuElement_handleFocusOut, _ActionMenuElement_show, _ActionMenuElement_hide, _ActionMenuElement_isOpen, _ActionMenuElement_setDynamicLabel, _ActionMenuElement_updateInput, _ActionMenuElement_firstItem_get;\nimport { controller, target } from '@github/catalyst';\nimport '@oddbird/popover-polyfill';\nconst validSelectors = ['[role=\"menuitem\"]', '[role=\"menuitemcheckbox\"]', '[role=\"menuitemradio\"]'];\nconst menuItemSelectors = validSelectors.map(selector => `:not([hidden]) > ${selector}`);\nlet ActionMenuElement = class ActionMenuElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        _ActionMenuElement_instances.add(this);\n        _ActionMenuElement_abortController.set(this, void 0);\n        _ActionMenuElement_originalLabel.set(this, '');\n        _ActionMenuElement_inputName.set(this, '');\n        _ActionMenuElement_invokerBeingClicked.set(this, false);\n    }\n    get selectVariant() {\n        return this.getAttribute('data-select-variant');\n    }\n    set selectVariant(variant) {\n        if (variant) {\n            this.setAttribute('data-select-variant', variant);\n        }\n        else {\n            this.removeAttribute('variant');\n        }\n    }\n    get dynamicLabelPrefix() {\n        const prefix = this.getAttribute('data-dynamic-label-prefix');\n        if (!prefix)\n            return '';\n        return `${prefix}:`;\n    }\n    set dynamicLabelPrefix(value) {\n        this.setAttribute('data-dynamic-label', value);\n    }\n    get dynamicLabel() {\n        return this.hasAttribute('data-dynamic-label');\n    }\n    set dynamicLabel(value) {\n        this.toggleAttribute('data-dynamic-label', value);\n    }\n    get popoverElement() {\n        var _a;\n        return ((_a = this.invokerElement) === null || _a === void 0 ? void 0 : _a.popoverTargetElement) || null;\n    }\n    get invokerElement() {\n        var _a;\n        const id = (_a = this.querySelector('[role=menu]')) === null || _a === void 0 ? void 0 : _a.id;\n        if (!id)\n            return null;\n        for (const el of this.querySelectorAll(`[aria-controls]`)) {\n            if (el.getAttribute('aria-controls') === id) {\n                return el;\n            }\n        }\n        return null;\n    }\n    get invokerLabel() {\n        if (!this.invokerElement)\n            return null;\n        return this.invokerElement.querySelector('.Button-label');\n    }\n    get selectedItems() {\n        const selectedItems = this.querySelectorAll('[aria-checked=true]');\n        const results = [];\n        for (const selectedItem of selectedItems) {\n            const labelEl = selectedItem.querySelector('.ActionListItem-label');\n            results.push({\n                label: labelEl === null || labelEl === void 0 ? void 0 : labelEl.textContent,\n                value: selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.getAttribute('data-value'),\n                element: selectedItem,\n            });\n        }\n        return results;\n    }\n    connectedCallback() {\n        const { signal } = (__classPrivateFieldSet(this, _ActionMenuElement_abortController, new AbortController(), \"f\"));\n        this.addEventListener('keydown', this, { signal });\n        this.addEventListener('click', this, { signal });\n        this.addEventListener('mouseover', this, { signal });\n        this.addEventListener('focusout', this, { signal });\n        this.addEventListener('mousedown', this, { signal });\n        __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_setDynamicLabel).call(this);\n        __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_updateInput).call(this);\n        __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_softDisableItems).call(this);\n        if (this.includeFragment) {\n            this.includeFragment.addEventListener('include-fragment-replaced', this, {\n                signal,\n            });\n        }\n    }\n    disconnectedCallback() {\n        __classPrivateFieldGet(this, _ActionMenuElement_abortController, \"f\").abort();\n    }\n    handleEvent(event) {\n        var _a, _b;\n        const targetIsInvoker = (_a = this.invokerElement) === null || _a === void 0 ? void 0 : _a.contains(event.target);\n        const eventIsActivation = __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_isActivation).call(this, event);\n        if (targetIsInvoker && event.type === 'mousedown') {\n            __classPrivateFieldSet(this, _ActionMenuElement_invokerBeingClicked, true, \"f\");\n            return;\n        }\n        // Prevent safari bug that dismisses menu on mousedown instead of allowing\n        // the click event to propagate to the button\n        if (event.type === 'mousedown') {\n            event.preventDefault();\n            return;\n        }\n        if (targetIsInvoker && eventIsActivation) {\n            __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_handleInvokerActivated).call(this, event);\n            __classPrivateFieldSet(this, _ActionMenuElement_invokerBeingClicked, false, \"f\");\n            return;\n        }\n        if (event.type === 'focusout') {\n            if (__classPrivateFieldGet(this, _ActionMenuElement_invokerBeingClicked, \"f\"))\n                return;\n            // Give the browser time to focus the next element\n            requestAnimationFrame(() => {\n                if (!this.contains(document.activeElement) || document.activeElement === this.invokerElement) {\n                    __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_handleFocusOut).call(this);\n                }\n            });\n            return;\n        }\n        const item = event.target.closest(menuItemSelectors.join(','));\n        const targetIsItem = item !== null;\n        if (targetIsItem && eventIsActivation) {\n            if (__classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_potentiallyDisallowActivation).call(this, event))\n                return;\n            const dialogInvoker = item.closest('[data-show-dialog-id]');\n            if (dialogInvoker) {\n                const dialog = this.ownerDocument.getElementById(dialogInvoker.getAttribute('data-show-dialog-id') || '');\n                if (dialog && this.contains(dialogInvoker) && this.contains(dialog)) {\n                    __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_handleDialogItemActivated).call(this, event, dialog);\n                    return;\n                }\n            }\n            __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_activateItem).call(this, event, item);\n            __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_handleItemActivated).call(this, item);\n            // Pressing the space key on a button or link will cause the page to scroll unless preventDefault()\n            // is called. While calling preventDefault() appears to have no effect on link navigation, it skips\n            // form submission. The code below therefore only calls preventDefault() if the button has been\n            // activated by the space key, and manually submits the form if the button is a submit button.\n            if (__classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_isKeyboardActivationViaSpace).call(this, event)) {\n                event.preventDefault();\n                if (item.getAttribute('type') === 'submit') {\n                    (_b = item.closest('form')) === null || _b === void 0 ? void 0 : _b.submit();\n                }\n            }\n            return;\n        }\n        if (event.type === 'include-fragment-replaced') {\n            __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_handleIncludeFragmentReplaced).call(this);\n        }\n    }\n    get items() {\n        return Array.from(this.querySelectorAll(menuItemSelectors.join(',')));\n    }\n    getItemById(itemId) {\n        return this.querySelector(`li[data-item-id=\"${itemId}\"`);\n    }\n    isItemDisabled(item) {\n        if (item) {\n            return item.classList.contains('ActionListItem--disabled');\n        }\n        else {\n            return false;\n        }\n    }\n    disableItem(item) {\n        if (item) {\n            item.classList.add('ActionListItem--disabled');\n            item.querySelector('.ActionListContent').setAttribute('aria-disabled', 'true');\n        }\n    }\n    enableItem(item) {\n        if (item) {\n            item.classList.remove('ActionListItem--disabled');\n            item.querySelector('.ActionListContent').removeAttribute('aria-disabled');\n        }\n    }\n    isItemHidden(item) {\n        if (item) {\n            return item.hasAttribute('hidden');\n        }\n        else {\n            return false;\n        }\n    }\n    hideItem(item) {\n        if (item) {\n            item.setAttribute('hidden', 'hidden');\n        }\n    }\n    showItem(item) {\n        if (item) {\n            item.removeAttribute('hidden');\n        }\n    }\n    isItemChecked(item) {\n        if (item) {\n            return item.querySelector('.ActionListContent').getAttribute('aria-checked') === 'true';\n        }\n        else {\n            return false;\n        }\n    }\n    checkItem(item) {\n        if (item && (this.selectVariant === 'single' || this.selectVariant === 'multiple')) {\n            const itemContent = item.querySelector('.ActionListContent');\n            const ariaChecked = itemContent.getAttribute('aria-checked') === 'true';\n            if (!ariaChecked) {\n                __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_handleItemActivated).call(this, itemContent);\n            }\n        }\n    }\n    uncheckItem(item) {\n        if (item && (this.selectVariant === 'single' || this.selectVariant === 'multiple')) {\n            const itemContent = item.querySelector('.ActionListContent');\n            const ariaChecked = itemContent.getAttribute('aria-checked') === 'true';\n            if (ariaChecked) {\n                __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_handleItemActivated).call(this, itemContent);\n            }\n        }\n    }\n};\n_ActionMenuElement_abortController = new WeakMap();\n_ActionMenuElement_originalLabel = new WeakMap();\n_ActionMenuElement_inputName = new WeakMap();\n_ActionMenuElement_invokerBeingClicked = new WeakMap();\n_ActionMenuElement_instances = new WeakSet();\n_ActionMenuElement_softDisableItems = function _ActionMenuElement_softDisableItems() {\n    const { signal } = __classPrivateFieldGet(this, _ActionMenuElement_abortController, \"f\");\n    for (const item of this.querySelectorAll(validSelectors.join(','))) {\n        item.addEventListener('click', __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_potentiallyDisallowActivation).bind(this), { signal });\n        item.addEventListener('keydown', __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_potentiallyDisallowActivation).bind(this), { signal });\n    }\n};\n_ActionMenuElement_potentiallyDisallowActivation = function _ActionMenuElement_potentiallyDisallowActivation(event) {\n    if (!__classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_isActivation).call(this, event))\n        return false;\n    const item = event.target.closest(menuItemSelectors.join(','));\n    if (!item)\n        return false;\n    if (item.getAttribute('aria-disabled')) {\n        event.preventDefault();\n        event.stopPropagation();\n        event.stopImmediatePropagation();\n        return true;\n    }\n    return false;\n};\n_ActionMenuElement_isKeyboardActivation = function _ActionMenuElement_isKeyboardActivation(event) {\n    return __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_isKeyboardActivationViaEnter).call(this, event) || __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_isKeyboardActivationViaSpace).call(this, event);\n};\n_ActionMenuElement_isKeyboardActivationViaEnter = function _ActionMenuElement_isKeyboardActivationViaEnter(event) {\n    return (event instanceof KeyboardEvent &&\n        event.type === 'keydown' &&\n        !(event.ctrlKey || event.altKey || event.metaKey || event.shiftKey) &&\n        event.key === 'Enter');\n};\n_ActionMenuElement_isKeyboardActivationViaSpace = function _ActionMenuElement_isKeyboardActivationViaSpace(event) {\n    return (event instanceof KeyboardEvent &&\n        event.type === 'keydown' &&\n        !(event.ctrlKey || event.altKey || event.metaKey || event.shiftKey) &&\n        event.key === ' ');\n};\n_ActionMenuElement_isMouseActivation = function _ActionMenuElement_isMouseActivation(event) {\n    return event instanceof MouseEvent && event.type === 'click';\n};\n_ActionMenuElement_isActivation = function _ActionMenuElement_isActivation(event) {\n    return __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_isMouseActivation).call(this, event) || __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_isKeyboardActivation).call(this, event);\n};\n_ActionMenuElement_handleInvokerActivated = function _ActionMenuElement_handleInvokerActivated(event) {\n    var _a;\n    event.preventDefault();\n    event.stopPropagation();\n    if (__classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_isOpen).call(this)) {\n        __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_hide).call(this);\n    }\n    else {\n        __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_show).call(this);\n        (_a = __classPrivateFieldGet(this, _ActionMenuElement_instances, \"a\", _ActionMenuElement_firstItem_get)) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n};\n_ActionMenuElement_handleDialogItemActivated = function _ActionMenuElement_handleDialogItemActivated(event, dialog) {\n    this.querySelector('.ActionListWrap').style.display = 'none';\n    const dialog_controller = new AbortController();\n    const { signal } = dialog_controller;\n    const handleDialogClose = () => {\n        dialog_controller.abort();\n        this.querySelector('.ActionListWrap').style.display = '';\n        if (__classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_isOpen).call(this)) {\n            __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_hide).call(this);\n        }\n    };\n    dialog.addEventListener('close', handleDialogClose, { signal });\n    dialog.addEventListener('cancel', handleDialogClose, { signal });\n};\n_ActionMenuElement_handleItemActivated = function _ActionMenuElement_handleItemActivated(item) {\n    // Hide popover after current event loop to prevent changes in focus from\n    // altering the target of the event. Not doing this specifically affects\n    // <a> tags. It causes the event to be sent to the currently focused element\n    // instead of the anchor, which effectively prevents navigation, i.e. it\n    // appears as if hitting enter does nothing. Curiously, clicking instead\n    // works fine.\n    if (this.selectVariant !== 'multiple') {\n        setTimeout(() => {\n            if (__classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_isOpen).call(this)) {\n                __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_hide).call(this);\n            }\n        });\n    }\n    // The rest of the code below deals with single/multiple selection behavior, and should not\n    // interfere with events fired by menu items whose behavior is specified outside the library.\n    if (this.selectVariant !== 'multiple' && this.selectVariant !== 'single')\n        return;\n    const ariaChecked = item.getAttribute('aria-checked');\n    const checked = ariaChecked !== 'true';\n    if (this.selectVariant === 'single') {\n        // Only check, never uncheck here. Single-select mode does not allow unchecking a checked item.\n        if (checked) {\n            item.setAttribute('aria-checked', 'true');\n        }\n        for (const checkedItem of this.querySelectorAll('[aria-checked]')) {\n            if (checkedItem !== item) {\n                checkedItem.setAttribute('aria-checked', 'false');\n            }\n        }\n        __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_setDynamicLabel).call(this);\n    }\n    else {\n        // multi-select mode allows unchecking a checked item\n        item.setAttribute('aria-checked', `${checked}`);\n    }\n    __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_updateInput).call(this);\n    this.dispatchEvent(new CustomEvent('itemActivated', {\n        detail: { item: item.parentElement, checked: this.isItemChecked(item.parentElement) },\n    }));\n};\n_ActionMenuElement_activateItem = function _ActionMenuElement_activateItem(event, item) {\n    const eventWillActivateByDefault = (event instanceof MouseEvent && event.type === 'click') ||\n        (event instanceof KeyboardEvent &&\n            event.type === 'keydown' &&\n            !(event.ctrlKey || event.altKey || event.metaKey || event.shiftKey) &&\n            event.key === 'Enter');\n    // if the event will result in activating the current item by default, i.e. is a\n    // mouse click or keyboard enter, bail out\n    if (eventWillActivateByDefault)\n        return;\n    // otherwise, event will not result in activation by default, so we stop it and\n    // simulate a click\n    event.stopPropagation();\n    const elem = item;\n    elem.click();\n};\n_ActionMenuElement_handleIncludeFragmentReplaced = function _ActionMenuElement_handleIncludeFragmentReplaced() {\n    if (__classPrivateFieldGet(this, _ActionMenuElement_instances, \"a\", _ActionMenuElement_firstItem_get))\n        __classPrivateFieldGet(this, _ActionMenuElement_instances, \"a\", _ActionMenuElement_firstItem_get).focus();\n    __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_softDisableItems).call(this);\n};\n_ActionMenuElement_handleFocusOut = function _ActionMenuElement_handleFocusOut() {\n    __classPrivateFieldGet(this, _ActionMenuElement_instances, \"m\", _ActionMenuElement_hide).call(this);\n};\n_ActionMenuElement_show = function _ActionMenuElement_show() {\n    var _a;\n    (_a = this.popoverElement) === null || _a === void 0 ? void 0 : _a.showPopover();\n};\n_ActionMenuElement_hide = function _ActionMenuElement_hide() {\n    var _a;\n    (_a = this.popoverElement) === null || _a === void 0 ? void 0 : _a.hidePopover();\n};\n_ActionMenuElement_isOpen = function _ActionMenuElement_isOpen() {\n    var _a;\n    return (_a = this.popoverElement) === null || _a === void 0 ? void 0 : _a.matches(':popover-open');\n};\n_ActionMenuElement_setDynamicLabel = function _ActionMenuElement_setDynamicLabel() {\n    if (!this.dynamicLabel)\n        return;\n    const invokerLabel = this.invokerLabel;\n    if (!invokerLabel)\n        return;\n    __classPrivateFieldSet(this, _ActionMenuElement_originalLabel, __classPrivateFieldGet(this, _ActionMenuElement_originalLabel, \"f\") || (invokerLabel.textContent || ''), \"f\");\n    const itemLabel = this.querySelector('[aria-checked=true] .ActionListItem-label');\n    if (itemLabel && this.dynamicLabel) {\n        const prefixSpan = document.createElement('span');\n        prefixSpan.classList.add('color-fg-muted');\n        const contentSpan = document.createElement('span');\n        prefixSpan.textContent = this.dynamicLabelPrefix;\n        contentSpan.textContent = itemLabel.textContent || '';\n        invokerLabel.replaceChildren(prefixSpan, contentSpan);\n    }\n    else {\n        invokerLabel.textContent = __classPrivateFieldGet(this, _ActionMenuElement_originalLabel, \"f\");\n    }\n};\n_ActionMenuElement_updateInput = function _ActionMenuElement_updateInput() {\n    if (this.selectVariant === 'single') {\n        const input = this.querySelector(`[data-list-inputs=true] input`);\n        if (!input)\n            return;\n        const selectedItem = this.selectedItems[0];\n        if (selectedItem) {\n            input.value = (selectedItem.value || selectedItem.label || '').trim();\n            input.removeAttribute('disabled');\n        }\n        else {\n            input.setAttribute('disabled', 'disabled');\n        }\n    }\n    else if (this.selectVariant !== 'none') {\n        // multiple select variant\n        const inputList = this.querySelector('[data-list-inputs=true]');\n        if (!inputList)\n            return;\n        const inputs = inputList.querySelectorAll('input');\n        if (inputs.length > 0) {\n            __classPrivateFieldSet(this, _ActionMenuElement_inputName, __classPrivateFieldGet(this, _ActionMenuElement_inputName, \"f\") || inputs[0].name, \"f\");\n        }\n        for (const selectedItem of this.selectedItems) {\n            const newInput = document.createElement('input');\n            newInput.setAttribute('data-list-input', 'true');\n            newInput.type = 'hidden';\n            newInput.autocomplete = 'off';\n            newInput.name = __classPrivateFieldGet(this, _ActionMenuElement_inputName, \"f\");\n            newInput.value = (selectedItem.value || selectedItem.label || '').trim();\n            inputList.append(newInput);\n        }\n        for (const input of inputs) {\n            input.remove();\n        }\n    }\n};\n_ActionMenuElement_firstItem_get = function _ActionMenuElement_firstItem_get() {\n    return this.querySelector(menuItemSelectors.join(','));\n};\n__decorate([\n    target\n], ActionMenuElement.prototype, \"includeFragment\", void 0);\nActionMenuElement = __decorate([\n    controller\n], ActionMenuElement);\nexport { ActionMenuElement };\nif (!window.customElements.get('action-menu')) {\n    window.ActionMenuElement = ActionMenuElement;\n    window.customElements.define('action-menu', ActionMenuElement);\n}\n","const startPositions = new WeakMap();\nconst dragStartPositions = new WeakMap();\nconst constructedElements = new WeakMap();\nfunction moveCropArea(event) {\n    const el = event.currentTarget;\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box, image } = constructedElements.get(el) || {};\n    if (!box || !image)\n        return;\n    let deltaX = 0;\n    let deltaY = 0;\n    if (event instanceof KeyboardEvent) {\n        if (event.key === 'ArrowUp') {\n            deltaY = -1;\n        }\n        else if (event.key === 'ArrowDown') {\n            deltaY = 1;\n        }\n        else if (event.key === 'ArrowLeft') {\n            deltaX = -1;\n        }\n        else if (event.key === 'ArrowRight') {\n            deltaX = 1;\n        }\n    }\n    else if (dragStartPositions.has(el) && event instanceof MouseEvent) {\n        const pos = dragStartPositions.get(el);\n        deltaX = event.pageX - pos.dragStartX;\n        deltaY = event.pageY - pos.dragStartY;\n    }\n    else if (dragStartPositions.has(el) && event instanceof TouchEvent) {\n        const { pageX, pageY } = event.changedTouches[0];\n        const { dragStartX, dragStartY } = dragStartPositions.get(el);\n        deltaX = pageX - dragStartX;\n        deltaY = pageY - dragStartY;\n    }\n    if (deltaX !== 0 || deltaY !== 0) {\n        const x = Math.min(Math.max(0, box.offsetLeft + deltaX), image.width - box.offsetWidth);\n        const y = Math.min(Math.max(0, box.offsetTop + deltaY), image.height - box.offsetHeight);\n        box.style.left = `${x}px`;\n        box.style.top = `${y}px`;\n        fireChangeEvent(el, { x, y, width: box.offsetWidth, height: box.offsetHeight });\n    }\n    if (event instanceof MouseEvent) {\n        dragStartPositions.set(el, {\n            dragStartX: event.pageX,\n            dragStartY: event.pageY\n        });\n    }\n    else if (event instanceof TouchEvent) {\n        const { pageX, pageY } = event.changedTouches[0];\n        dragStartPositions.set(el, {\n            dragStartX: pageX,\n            dragStartY: pageY\n        });\n    }\n}\nfunction updateCropArea(event) {\n    const target = event.target;\n    if (!(target instanceof HTMLElement))\n        return;\n    const el = getShadowHost(target);\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box } = constructedElements.get(el) || {};\n    if (!box)\n        return;\n    const rect = el.getBoundingClientRect();\n    let deltaX, deltaY, delta;\n    if (event instanceof KeyboardEvent) {\n        if (event.key === 'Escape')\n            return setInitialPosition(el);\n        if (event.key === '-')\n            delta = -10;\n        if (event.key === '=')\n            delta = +10;\n        if (!delta)\n            return;\n        deltaX = box.offsetWidth + delta;\n        deltaY = box.offsetHeight + delta;\n        startPositions.set(el, { startX: box.offsetLeft, startY: box.offsetTop });\n    }\n    else if (event instanceof MouseEvent) {\n        const pos = startPositions.get(el);\n        if (!pos)\n            return;\n        deltaX = event.pageX - pos.startX - rect.left - window.pageXOffset;\n        deltaY = event.pageY - pos.startY - rect.top - window.pageYOffset;\n    }\n    else if (event instanceof TouchEvent) {\n        const pos = startPositions.get(el);\n        if (!pos)\n            return;\n        deltaX = event.changedTouches[0].pageX - pos.startX - rect.left - window.pageXOffset;\n        deltaY = event.changedTouches[0].pageY - pos.startY - rect.top - window.pageYOffset;\n    }\n    if (deltaX && deltaY)\n        updateDimensions(el, deltaX, deltaY, !(event instanceof KeyboardEvent));\n}\nfunction getShadowHost(el) {\n    const rootNode = el.getRootNode();\n    if (!(rootNode instanceof ShadowRoot))\n        return el;\n    return rootNode.host;\n}\nfunction startUpdate(event) {\n    const currentTarget = event.currentTarget;\n    if (!(currentTarget instanceof HTMLElement))\n        return;\n    const el = getShadowHost(currentTarget);\n    if (!(el instanceof ImageCropElement))\n        return;\n    const { box } = constructedElements.get(el) || {};\n    if (!box)\n        return;\n    const target = event.target;\n    if (!(target instanceof HTMLElement))\n        return;\n    if (target.hasAttribute('data-direction')) {\n        const direction = target.getAttribute('data-direction') || '';\n        el.addEventListener('mousemove', updateCropArea);\n        el.addEventListener('touchmove', updateCropArea, { passive: true });\n        if (['nw', 'se'].indexOf(direction) >= 0)\n            el.classList.add('nwse');\n        if (['ne', 'sw'].indexOf(direction) >= 0)\n            el.classList.add('nesw');\n        startPositions.set(el, {\n            startX: box.offsetLeft + (['se', 'ne'].indexOf(direction) >= 0 ? 0 : box.offsetWidth),\n            startY: box.offsetTop + (['se', 'sw'].indexOf(direction) >= 0 ? 0 : box.offsetHeight)\n        });\n        updateCropArea(event);\n    }\n    else {\n        el.addEventListener('mousemove', moveCropArea);\n        el.addEventListener('touchmove', moveCropArea, { passive: true });\n    }\n}\nfunction updateDimensions(target, deltaX, deltaY, reposition = true) {\n    let newSide = Math.max(Math.abs(deltaX), Math.abs(deltaY), 10);\n    const pos = startPositions.get(target);\n    if (!pos)\n        return;\n    const { box, image } = constructedElements.get(target) || {};\n    if (!box || !image)\n        return;\n    newSide = Math.min(newSide, deltaY > 0 ? image.height - pos.startY : pos.startY, deltaX > 0 ? image.width - pos.startX : pos.startX);\n    const x = reposition ? Math.round(Math.max(0, deltaX > 0 ? pos.startX : pos.startX - newSide)) : box.offsetLeft;\n    const y = reposition ? Math.round(Math.max(0, deltaY > 0 ? pos.startY : pos.startY - newSide)) : box.offsetTop;\n    box.style.left = `${x}px`;\n    box.style.top = `${y}px`;\n    box.style.width = `${newSide}px`;\n    box.style.height = `${newSide}px`;\n    fireChangeEvent(target, { x, y, width: newSide, height: newSide });\n}\nfunction setInitialPosition(el) {\n    const { image } = constructedElements.get(el) || {};\n    if (!image)\n        return;\n    const side = Math.round(image.clientWidth > image.clientHeight ? image.clientHeight : image.clientWidth);\n    startPositions.set(el, {\n        startX: (image.clientWidth - side) / 2,\n        startY: (image.clientHeight - side) / 2\n    });\n    updateDimensions(el, side, side);\n}\nfunction stopUpdate(event) {\n    const el = event.currentTarget;\n    if (!(el instanceof ImageCropElement))\n        return;\n    dragStartPositions.delete(el);\n    el.classList.remove('nwse', 'nesw');\n    el.removeEventListener('mousemove', updateCropArea);\n    el.removeEventListener('mousemove', moveCropArea);\n    el.removeEventListener('touchmove', updateCropArea);\n    el.removeEventListener('touchmove', moveCropArea);\n}\nfunction fireChangeEvent(target, result) {\n    const { image } = constructedElements.get(target) || {};\n    if (!image)\n        return;\n    const ratio = image.naturalWidth / image.width;\n    for (const key in result) {\n        const value = Math.round(result[key] * ratio);\n        result[key] = value;\n        const slottedInput = target.querySelector(`[data-image-crop-input='${key}']`);\n        if (slottedInput instanceof HTMLInputElement)\n            slottedInput.value = value.toString();\n    }\n    target.dispatchEvent(new CustomEvent('image-crop-change', { bubbles: true, detail: result }));\n}\nclass ImageCropElement extends HTMLElement {\n    connectedCallback() {\n        if (constructedElements.has(this))\n            return;\n        const shadowRoot = this.attachShadow({ mode: 'open' });\n        shadowRoot.innerHTML = `\n<style>\n  :host { touch-action: none; display: block; }\n  :host(.nesw) { cursor: nesw-resize; }\n  :host(.nwse) { cursor: nwse-resize; }\n  :host(.nesw) .crop-box, :host(.nwse) .crop-box { cursor: inherit; }\n  :host([loaded]) .crop-image { display: block; }\n  :host([loaded]) ::slotted([data-loading-slot]), .crop-image { display: none; }\n\n  .crop-wrapper {\n    position: relative;\n    font-size: 0;\n  }\n  .crop-container {\n    user-select: none;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    position: absolute;\n    overflow: hidden;\n    z-index: 1;\n    top: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  :host([rounded]) .crop-box {\n    border-radius: 50%;\n    box-shadow: 0 0 0 4000px rgba(0, 0, 0, 0.3);\n  }\n  .crop-box {\n    position: absolute;\n    border: 1px dashed #fff;\n    box-sizing: border-box;\n    cursor: move;\n  }\n\n  :host([rounded]) .crop-outline {\n    outline: none;\n  }\n  .crop-outline {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    outline: 4000px solid rgba(0, 0, 0, .3);\n  }\n\n  .handle { position: absolute; }\n  :host([rounded]) .handle::before { border-radius: 50%; }\n  .handle:before {\n    position: absolute;\n    display: block;\n    padding: 4px;\n    transform: translate(-50%, -50%);\n    content: ' ';\n    background: #fff;\n    border: 1px solid #767676;\n  }\n  .ne { top: 0; right: 0; cursor: nesw-resize; }\n  .nw { top: 0; left: 0; cursor: nwse-resize; }\n  .se { bottom: 0; right: 0; cursor: nwse-resize; }\n  .sw { bottom: 0; left: 0; cursor: nesw-resize; }\n</style>\n<slot></slot>\n<div class=\"crop-wrapper\">\n  <img width=\"100%\" class=\"crop-image\" alt=\"\">\n  <div class=\"crop-container\">\n    <div data-crop-box class=\"crop-box\">\n      <div class=\"crop-outline\"></div>\n      <div data-direction=\"nw\" class=\"handle nw\"></div>\n      <div data-direction=\"ne\" class=\"handle ne\"></div>\n      <div data-direction=\"sw\" class=\"handle sw\"></div>\n      <div data-direction=\"se\" class=\"handle se\"></div>\n    </div>\n  </div>\n</div>\n`;\n        const box = shadowRoot.querySelector('[data-crop-box]');\n        if (!(box instanceof HTMLElement))\n            return;\n        const image = shadowRoot.querySelector('img');\n        if (!(image instanceof HTMLImageElement))\n            return;\n        constructedElements.set(this, { box, image });\n        image.addEventListener('load', () => {\n            this.loaded = true;\n            setInitialPosition(this);\n        });\n        this.addEventListener('mouseleave', stopUpdate);\n        this.addEventListener('touchend', stopUpdate);\n        this.addEventListener('mouseup', stopUpdate);\n        box.addEventListener('mousedown', startUpdate);\n        box.addEventListener('touchstart', startUpdate, { passive: true });\n        this.addEventListener('keydown', moveCropArea);\n        this.addEventListener('keydown', updateCropArea);\n        if (this.src)\n            image.src = this.src;\n    }\n    static get observedAttributes() {\n        return ['src'];\n    }\n    get src() {\n        return this.getAttribute('src');\n    }\n    set src(val) {\n        if (val) {\n            this.setAttribute('src', val);\n        }\n        else {\n            this.removeAttribute('src');\n        }\n    }\n    get loaded() {\n        return this.hasAttribute('loaded');\n    }\n    set loaded(val) {\n        if (val) {\n            this.setAttribute('loaded', '');\n        }\n        else {\n            this.removeAttribute('loaded');\n        }\n    }\n    attributeChangedCallback(attribute, oldValue, newValue) {\n        const { image } = constructedElements.get(this) || {};\n        if (attribute === 'src') {\n            this.loaded = false;\n            if (image)\n                image.src = newValue;\n        }\n    }\n}\nexport default ImageCropElement;\nif (!window.customElements.get('image-crop')) {\n    window.ImageCropElement = ImageCropElement;\n    window.customElements.define('image-crop', ImageCropElement);\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { controller, target } from '@github/catalyst';\nlet ToggleSwitchElement = class ToggleSwitchElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        this.toggling = false;\n    }\n    get src() {\n        const src = this.getAttribute('src');\n        if (!src)\n            return null;\n        const link = this.ownerDocument.createElement('a');\n        link.href = src;\n        return link.href;\n    }\n    get csrf() {\n        const csrfElement = this.querySelector('[data-csrf]');\n        return this.getAttribute('csrf') || (csrfElement instanceof HTMLInputElement && csrfElement.value) || null;\n    }\n    get csrfField() {\n        // the authenticity token is passed into the element and is not generated in js land\n        return this.getAttribute('csrf-field') || 'authenticity_token';\n    }\n    isRemote() {\n        return this.src != null;\n    }\n    async toggle() {\n        if (this.toggling)\n            return;\n        this.toggling = true;\n        if (this.isDisabled()) {\n            return;\n        }\n        if (!this.isRemote()) {\n            this.performToggle();\n            this.toggling = false;\n            return;\n        }\n        // toggle immediately to tell screen readers the switch was clicked\n        this.performToggle();\n        this.setLoadingState();\n        try {\n            await this.submitForm();\n        }\n        catch (error) {\n            if (error instanceof Error) {\n                // because we toggle immediately when the switch is clicked, toggle back to the\n                // old state on failure\n                this.setErrorState(error.message || 'An error occurred, please try again.');\n                this.performToggle();\n            }\n            return;\n        }\n        finally {\n            this.toggling = false;\n        }\n        this.setSuccessState();\n    }\n    turnOn() {\n        if (this.isDisabled()) {\n            return;\n        }\n        this.switch.setAttribute('aria-pressed', 'true');\n        this.classList.add('ToggleSwitch--checked');\n    }\n    turnOff() {\n        if (this.isDisabled()) {\n            return;\n        }\n        this.switch.setAttribute('aria-pressed', 'false');\n        this.classList.remove('ToggleSwitch--checked');\n    }\n    isOn() {\n        return this.switch.getAttribute('aria-pressed') === 'true';\n    }\n    isOff() {\n        return !this.isOn();\n    }\n    isDisabled() {\n        return this.switch.getAttribute('disabled') != null;\n    }\n    disable() {\n        this.switch.setAttribute('disabled', 'disabled');\n    }\n    enable() {\n        this.switch.removeAttribute('disabled');\n    }\n    performToggle() {\n        if (this.isOn()) {\n            this.turnOff();\n        }\n        else {\n            this.turnOn();\n        }\n    }\n    setLoadingState() {\n        this.errorIcon.setAttribute('hidden', 'hidden');\n        this.loadingSpinner.removeAttribute('hidden');\n        const event = new CustomEvent('toggleSwitchLoading', { bubbles: true });\n        this.dispatchEvent(event);\n    }\n    setSuccessState() {\n        const event = new CustomEvent('toggleSwitchSuccess', { bubbles: true });\n        this.dispatchEvent(event);\n        this.setFinishedState(false);\n    }\n    setErrorState(message) {\n        const event = new CustomEvent('toggleSwitchError', { bubbles: true, detail: message });\n        this.dispatchEvent(event);\n        this.setFinishedState(true);\n    }\n    setFinishedState(error) {\n        if (error) {\n            this.errorIcon.removeAttribute('hidden');\n        }\n        this.loadingSpinner.setAttribute('hidden', 'hidden');\n    }\n    async submitForm() {\n        const body = new FormData();\n        if (this.csrf) {\n            body.append(this.csrfField, this.csrf);\n        }\n        body.append('value', this.isOn() ? '1' : '0');\n        if (!this.src)\n            throw new Error('invalid src');\n        let response;\n        try {\n            response = await fetch(this.src, {\n                credentials: 'same-origin',\n                method: 'POST',\n                headers: {\n                    'Requested-With': 'XMLHttpRequest'\n                },\n                body\n            });\n        }\n        catch (error) {\n            throw new Error('A network error occurred, please try again.');\n        }\n        if (!response.ok) {\n            throw new Error(await response.text());\n        }\n    }\n};\n__decorate([\n    target\n], ToggleSwitchElement.prototype, \"switch\", void 0);\n__decorate([\n    target\n], ToggleSwitchElement.prototype, \"loadingSpinner\", void 0);\n__decorate([\n    target\n], ToggleSwitchElement.prototype, \"errorIcon\", void 0);\nToggleSwitchElement = __decorate([\n    controller\n], ToggleSwitchElement);\nif (!window.customElements.get('toggle-switch')) {\n    window.ToggleSwitchElement = ToggleSwitchElement;\n    window.customElements.define('toggle-switch', ToggleSwitchElement);\n}\n","function createNode(text) {\n    const node = document.createElement('pre');\n    node.style.width = '1px';\n    node.style.height = '1px';\n    node.style.position = 'fixed';\n    node.style.top = '5px';\n    node.textContent = text;\n    return node;\n}\nexport function copyNode(node) {\n    if ('clipboard' in navigator) {\n        return navigator.clipboard.writeText(node.textContent || '');\n    }\n    const selection = getSelection();\n    if (selection == null) {\n        return Promise.reject(new Error());\n    }\n    selection.removeAllRanges();\n    const range = document.createRange();\n    range.selectNodeContents(node);\n    selection.addRange(range);\n    document.execCommand('copy');\n    selection.removeAllRanges();\n    return Promise.resolve();\n}\nexport function copyText(text) {\n    if ('clipboard' in navigator) {\n        return navigator.clipboard.writeText(text);\n    }\n    const body = document.body;\n    if (!body) {\n        return Promise.reject(new Error());\n    }\n    const node = createNode(text);\n    body.appendChild(node);\n    copyNode(node);\n    body.removeChild(node);\n    return Promise.resolve();\n}\n","import { copyNode, copyText } from './clipboard.js';\nasync function copy(button) {\n    const id = button.getAttribute('for');\n    const text = button.getAttribute('value');\n    function trigger() {\n        button.dispatchEvent(new CustomEvent('clipboard-copy', { bubbles: true }));\n    }\n    if (button.getAttribute('aria-disabled') === 'true') {\n        return;\n    }\n    if (text) {\n        await copyText(text);\n        trigger();\n    }\n    else if (id) {\n        const root = 'getRootNode' in Element.prototype ? button.getRootNode() : button.ownerDocument;\n        if (!(root instanceof Document || ('ShadowRoot' in window && root instanceof ShadowRoot)))\n            return;\n        const node = root.getElementById(id);\n        if (node) {\n            await copyTarget(node);\n            trigger();\n        }\n    }\n}\nfunction copyTarget(content) {\n    if (content instanceof HTMLInputElement || content instanceof HTMLTextAreaElement) {\n        return copyText(content.value);\n    }\n    else if (content instanceof HTMLAnchorElement && content.hasAttribute('href')) {\n        return copyText(content.href);\n    }\n    else {\n        return copyNode(content);\n    }\n}\nfunction clicked(event) {\n    const button = event.currentTarget;\n    if (button instanceof HTMLElement) {\n        copy(button);\n    }\n}\nfunction keydown(event) {\n    if (event.key === ' ' || event.key === 'Enter') {\n        const button = event.currentTarget;\n        if (button instanceof HTMLElement) {\n            event.preventDefault();\n            copy(button);\n        }\n    }\n}\nfunction focused(event) {\n    ;\n    event.currentTarget.addEventListener('keydown', keydown);\n}\nfunction blurred(event) {\n    ;\n    event.currentTarget.removeEventListener('keydown', keydown);\n}\nexport class ClipboardCopyElement extends HTMLElement {\n    static define(tag = 'clipboard-copy', registry = customElements) {\n        registry.define(tag, this);\n        return this;\n    }\n    constructor() {\n        super();\n        this.addEventListener('click', clicked);\n        this.addEventListener('focus', focused);\n        this.addEventListener('blur', blurred);\n    }\n    connectedCallback() {\n        if (!this.hasAttribute('tabindex')) {\n            this.setAttribute('tabindex', '0');\n        }\n        if (!this.hasAttribute('role')) {\n            this.setAttribute('role', 'button');\n        }\n    }\n    get value() {\n        return this.getAttribute('value') || '';\n    }\n    set value(text) {\n        this.setAttribute('value', text);\n    }\n}\n","import { ClipboardCopyElement } from './clipboard-copy-element.js';\nconst root = (typeof globalThis !== 'undefined' ? globalThis : window);\ntry {\n    root.ClipboardCopyElement = ClipboardCopyElement.define();\n}\ncatch (e) {\n    if (!(root.DOMException && e instanceof DOMException && e.name === 'NotSupportedError') &&\n        !(e instanceof ReferenceError)) {\n        throw e;\n    }\n}\nexport default ClipboardCopyElement;\nexport * from './clipboard-copy-element.js';\n","import '@github/clipboard-copy-element';\nconst CLIPBOARD_COPY_TIMER_DURATION = 2000;\nfunction showSVG(svg) {\n    svg.style.display = 'inline-block';\n}\nfunction hideSVG(svg) {\n    svg.style.display = 'none';\n}\n// Toggle a copy button.\nfunction showCopy(button) {\n    const [copyIcon, checkIcon] = button.querySelectorAll('.octicon');\n    if (!copyIcon || !checkIcon)\n        return;\n    showSVG(copyIcon);\n    hideSVG(checkIcon);\n}\n// Toggle a copy button.\nfunction showCheck(button) {\n    const [copyIcon, checkIcon] = button.querySelectorAll('.octicon');\n    if (!copyIcon || !checkIcon)\n        return;\n    hideSVG(copyIcon);\n    showSVG(checkIcon);\n}\nconst clipboardCopyElementTimers = new WeakMap();\ndocument.addEventListener('clipboard-copy', ({ target }) => {\n    if (!(target instanceof HTMLElement))\n        return;\n    if (!target.hasAttribute('data-view-component'))\n        return;\n    const currentTimeout = clipboardCopyElementTimers.get(target);\n    if (currentTimeout) {\n        clearTimeout(currentTimeout);\n        clipboardCopyElementTimers.delete(target);\n    }\n    else {\n        showCheck(target);\n    }\n    clipboardCopyElementTimers.set(target, setTimeout(() => {\n        showCopy(target);\n        clipboardCopyElementTimers.delete(target);\n    }, CLIPBOARD_COPY_TIMER_DURATION));\n});\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable custom-elements/expose-class-on-global */\nimport { controller, targets } from '@github/catalyst';\nlet PrimerMultiInputElement = class PrimerMultiInputElement extends HTMLElement {\n    activateField(name) {\n        var _a, _b;\n        const fieldWithName = this.findField(name);\n        if (!fieldWithName)\n            return;\n        for (const field of this.fields) {\n            if (field === fieldWithName)\n                continue;\n            field.setAttribute('disabled', 'disabled');\n            field.setAttribute('hidden', 'hidden');\n            (_a = field.parentElement) === null || _a === void 0 ? void 0 : _a.setAttribute('hidden', 'hidden');\n        }\n        fieldWithName.removeAttribute('disabled');\n        fieldWithName.removeAttribute('hidden');\n        (_b = fieldWithName.parentElement) === null || _b === void 0 ? void 0 : _b.removeAttribute('hidden');\n    }\n    findField(name) {\n        for (const field of this.fields) {\n            if (field.getAttribute('data-name') === name) {\n                return field;\n            }\n        }\n        return null;\n    }\n};\n__decorate([\n    targets\n], PrimerMultiInputElement.prototype, \"fields\", void 0);\nPrimerMultiInputElement = __decorate([\n    controller\n], PrimerMultiInputElement);\nexport { PrimerMultiInputElement };\nif (!window.customElements.get('primer-multi-input')) {\n    Object.assign(window, { PrimerMultiInputElement });\n    window.customElements.define('primer-multi-input', PrimerMultiInputElement);\n}\n","/* eslint-disable custom-elements/expose-class-on-global */\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { controller, target } from '@github/catalyst';\nlet ToggleSwitchInputElement = class ToggleSwitchInputElement extends HTMLElement {\n    connectedCallback() {\n        this.addEventListener('toggleSwitchError', (event) => {\n            this.validationMessageElement.textContent = event.detail;\n            this.validationElement.removeAttribute('hidden');\n        });\n        this.addEventListener('toggleSwitchSuccess', () => {\n            this.validationMessageElement.textContent = '';\n            this.validationElement.setAttribute('hidden', 'hidden');\n        });\n        this.addEventListener('toggleSwitchLoading', () => {\n            this.validationMessageElement.textContent = '';\n            this.validationElement.setAttribute('hidden', 'hidden');\n        });\n    }\n};\n__decorate([\n    target\n], ToggleSwitchInputElement.prototype, \"validationElement\", void 0);\n__decorate([\n    target\n], ToggleSwitchInputElement.prototype, \"validationMessageElement\", void 0);\nToggleSwitchInputElement = __decorate([\n    controller\n], ToggleSwitchInputElement);\nexport { ToggleSwitchInputElement };\n","function throttle(callback, wait = 0, { start = true, middle = true, once = false } = {}) {\n    let last = 0;\n    let timer;\n    let cancelled = false;\n    function fn(...args) {\n        if (cancelled)\n            return;\n        const delta = Date.now() - last;\n        last = Date.now();\n        if (start) {\n            start = false;\n            callback.apply(this, args);\n            if (once)\n                fn.cancel();\n        }\n        else if ((middle && delta < wait) || !middle) {\n            clearTimeout(timer);\n            timer = setTimeout(() => {\n                last = Date.now();\n                callback.apply(this, args);\n                if (once)\n                    fn.cancel();\n            }, !middle ? wait : wait - delta);\n        }\n    }\n    fn.cancel = () => {\n        clearTimeout(timer);\n        cancelled = true;\n    };\n    return fn;\n}\nfunction debounce(callback, wait = 0, { start = false, middle = false, once = false } = {}) {\n    return throttle(callback, wait, { start, middle, once });\n}\n\nconst states = new WeakMap();\nclass AutoCheckElement extends HTMLElement {\n    connectedCallback() {\n        const input = this.input;\n        if (!input)\n            return;\n        const checker = debounce(check.bind(null, this), 300);\n        const state = { check: checker, controller: null };\n        states.set(this, state);\n        input.addEventListener('input', setLoadingState);\n        input.addEventListener('input', checker);\n        input.autocomplete = 'off';\n        input.spellcheck = false;\n    }\n    disconnectedCallback() {\n        const input = this.input;\n        if (!input)\n            return;\n        const state = states.get(this);\n        if (!state)\n            return;\n        states.delete(this);\n        input.removeEventListener('input', setLoadingState);\n        input.removeEventListener('input', state.check);\n        input.setCustomValidity('');\n    }\n    attributeChangedCallback(name) {\n        if (name === 'required') {\n            const input = this.input;\n            if (!input)\n                return;\n            input.required = this.required;\n        }\n    }\n    static get observedAttributes() {\n        return ['required'];\n    }\n    get input() {\n        return this.querySelector('input');\n    }\n    get src() {\n        const src = this.getAttribute('src');\n        if (!src)\n            return '';\n        const link = this.ownerDocument.createElement('a');\n        link.href = src;\n        return link.href;\n    }\n    set src(value) {\n        this.setAttribute('src', value);\n    }\n    get csrf() {\n        const csrfElement = this.querySelector('[data-csrf]');\n        return this.getAttribute('csrf') || (csrfElement instanceof HTMLInputElement && csrfElement.value) || '';\n    }\n    set csrf(value) {\n        this.setAttribute('csrf', value);\n    }\n    get required() {\n        return this.hasAttribute('required');\n    }\n    set required(required) {\n        if (required) {\n            this.setAttribute('required', '');\n        }\n        else {\n            this.removeAttribute('required');\n        }\n    }\n    get csrfField() {\n        return this.getAttribute('csrf-field') || 'authenticity_token';\n    }\n    set csrfField(value) {\n        this.setAttribute('csrf-field', value);\n    }\n}\nfunction setLoadingState(event) {\n    const input = event.currentTarget;\n    if (!(input instanceof HTMLInputElement))\n        return;\n    const autoCheckElement = input.closest('auto-check');\n    if (!(autoCheckElement instanceof AutoCheckElement))\n        return;\n    const src = autoCheckElement.src;\n    const csrf = autoCheckElement.csrf;\n    const state = states.get(autoCheckElement);\n    if (!src || !csrf || !state) {\n        return;\n    }\n    let message = 'Verifying…';\n    const setValidity = (text) => (message = text);\n    input.dispatchEvent(new CustomEvent('auto-check-start', {\n        bubbles: true,\n        detail: { setValidity }\n    }));\n    if (autoCheckElement.required) {\n        input.setCustomValidity(message);\n    }\n}\nfunction makeAbortController() {\n    if ('AbortController' in window) {\n        return new AbortController();\n    }\n    return {\n        signal: null,\n        abort() {\n        }\n    };\n}\nasync function fetchWithNetworkEvents(el, url, options) {\n    try {\n        const response = await fetch(url, options);\n        el.dispatchEvent(new CustomEvent('load'));\n        el.dispatchEvent(new CustomEvent('loadend'));\n        return response;\n    }\n    catch (error) {\n        if (error.name !== 'AbortError') {\n            el.dispatchEvent(new CustomEvent('error'));\n            el.dispatchEvent(new CustomEvent('loadend'));\n        }\n        throw error;\n    }\n}\nasync function check(autoCheckElement) {\n    const input = autoCheckElement.input;\n    if (!input) {\n        return;\n    }\n    const csrfField = autoCheckElement.csrfField;\n    const src = autoCheckElement.src;\n    const csrf = autoCheckElement.csrf;\n    const state = states.get(autoCheckElement);\n    if (!src || !csrf || !state) {\n        if (autoCheckElement.required) {\n            input.setCustomValidity('');\n        }\n        return;\n    }\n    if (!input.value.trim()) {\n        if (autoCheckElement.required) {\n            input.setCustomValidity('');\n        }\n        return;\n    }\n    const body = new FormData();\n    body.append(csrfField, csrf);\n    body.append('value', input.value);\n    input.dispatchEvent(new CustomEvent('auto-check-send', {\n        bubbles: true,\n        detail: { body }\n    }));\n    if (state.controller) {\n        state.controller.abort();\n    }\n    else {\n        autoCheckElement.dispatchEvent(new CustomEvent('loadstart'));\n    }\n    state.controller = makeAbortController();\n    try {\n        const response = await fetchWithNetworkEvents(autoCheckElement, src, {\n            credentials: 'same-origin',\n            signal: state.controller.signal,\n            method: 'POST',\n            body\n        });\n        if (response.ok) {\n            processSuccess(response, input, autoCheckElement.required);\n        }\n        else {\n            processFailure(response, input, autoCheckElement.required);\n        }\n        state.controller = null;\n        input.dispatchEvent(new CustomEvent('auto-check-complete', { bubbles: true }));\n    }\n    catch (error) {\n        if (error.name !== 'AbortError') {\n            state.controller = null;\n            input.dispatchEvent(new CustomEvent('auto-check-complete', { bubbles: true }));\n        }\n    }\n}\nfunction processSuccess(response, input, required) {\n    if (required) {\n        input.setCustomValidity('');\n    }\n    input.dispatchEvent(new CustomEvent('auto-check-success', {\n        bubbles: true,\n        detail: {\n            response: response.clone()\n        }\n    }));\n}\nfunction processFailure(response, input, required) {\n    let message = 'Validation failed';\n    const setValidity = (text) => (message = text);\n    input.dispatchEvent(new CustomEvent('auto-check-error', {\n        bubbles: true,\n        detail: {\n            response: response.clone(),\n            setValidity\n        }\n    }));\n    if (required) {\n        input.setCustomValidity(message);\n    }\n}\nif (!window.customElements.get('auto-check')) {\n    window.AutoCheckElement = AutoCheckElement;\n    window.customElements.define('auto-check', AutoCheckElement);\n}\n\nexport default AutoCheckElement;\n","const dynamicElements = new Map();\nconst ready = new Promise(resolve => {\n    if (document.readyState !== 'loading') {\n        resolve();\n    }\n    else {\n        document.addEventListener('readystatechange', () => resolve(), { once: true });\n    }\n});\nconst firstInteraction = new Promise(resolve => {\n    const controller = new AbortController();\n    controller.signal.addEventListener('abort', () => resolve());\n    const listenerOptions = { once: true, passive: true, signal: controller.signal };\n    const handler = () => controller.abort();\n    document.addEventListener('mousedown', handler, listenerOptions);\n    // eslint-disable-next-line github/require-passive-events\n    document.addEventListener('touchstart', handler, listenerOptions);\n    document.addEventListener('keydown', handler, listenerOptions);\n    document.addEventListener('pointerdown', handler, listenerOptions);\n});\nconst visible = (tagName) => new Promise(resolve => {\n    const observer = new IntersectionObserver(entries => {\n        for (const entry of entries) {\n            if (entry.isIntersecting) {\n                resolve();\n                observer.disconnect();\n                return;\n            }\n        }\n    }, {\n        // Currently the threshold is set to 256px from the bottom of the viewport\n        // with a threshold of 0.1. This means the element will not load until about\n        // 2 keyboard-down-arrow presses away from being visible in the viewport,\n        // giving us some time to fetch it before the contents are made visible\n        rootMargin: '0px 0px 256px 0px',\n        threshold: 0.01\n    });\n    for (const el of document.querySelectorAll(tagName)) {\n        observer.observe(el);\n    }\n});\nconst strategies = {\n    ready: () => ready,\n    firstInteraction: () => firstInteraction,\n    visible\n};\nconst timers = new WeakMap();\nfunction scan(node) {\n    cancelAnimationFrame(timers.get(node) || 0);\n    timers.set(node, requestAnimationFrame(() => {\n        for (const tagName of dynamicElements.keys()) {\n            const child = node.matches(tagName) ? node : node.querySelector(tagName);\n            if (customElements.get(tagName) || child) {\n                const strategyName = (child?.getAttribute('data-load-on') || 'ready');\n                const strategy = strategyName in strategies ? strategies[strategyName] : strategies.ready;\n                // eslint-disable-next-line github/no-then\n                for (const cb of dynamicElements.get(tagName) || [])\n                    strategy(tagName).then(cb);\n                dynamicElements.delete(tagName);\n                timers.delete(node);\n            }\n        }\n    }));\n}\nlet elementLoader;\nexport function lazyDefine(tagName, callback) {\n    if (!dynamicElements.has(tagName))\n        dynamicElements.set(tagName, new Set());\n    dynamicElements.get(tagName).add(callback);\n    scan(document.body);\n    if (!elementLoader) {\n        elementLoader = new MutationObserver(mutations => {\n            if (!dynamicElements.size)\n                return;\n            for (const mutation of mutations) {\n                for (const node of mutation.addedNodes) {\n                    if (node instanceof Element)\n                        scan(node);\n                }\n            }\n        });\n        elementLoader.observe(document, { subtree: true, childList: true });\n    }\n}\n//# sourceMappingURL=lazy-define.js.map","const controllers = new WeakSet();\n/*\n * Bind `[data-action]` elements from the DOM to their actions.\n *\n */\nexport function bind(controller) {\n    controllers.add(controller);\n    if (controller.shadowRoot)\n        bindShadow(controller.shadowRoot);\n    bindElements(controller);\n    listenForBind(controller.ownerDocument);\n}\nexport function bindShadow(root) {\n    bindElements(root);\n    listenForBind(root);\n}\nconst observers = new WeakMap();\n/**\n * Set up observer that will make sure any actions that are dynamically\n * injected into `el` will be bound to it's controller.\n *\n * This returns a Subscription object which you can call `unsubscribe()` on to\n * stop further live updates.\n */\nexport function listenForBind(el = document) {\n    if (observers.has(el))\n        return observers.get(el);\n    let closed = false;\n    const observer = new MutationObserver(mutations => {\n        for (const mutation of mutations) {\n            if (mutation.type === 'attributes' && mutation.target instanceof Element) {\n                bindActions(mutation.target);\n            }\n            else if (mutation.type === 'childList' && mutation.addedNodes.length) {\n                for (const node of mutation.addedNodes) {\n                    if (node instanceof Element) {\n                        bindElements(node);\n                    }\n                }\n            }\n        }\n    });\n    observer.observe(el, { childList: true, subtree: true, attributeFilter: ['data-action'] });\n    const subscription = {\n        get closed() {\n            return closed;\n        },\n        unsubscribe() {\n            closed = true;\n            observers.delete(el);\n            observer.disconnect();\n        }\n    };\n    observers.set(el, subscription);\n    return subscription;\n}\nfunction bindElements(root) {\n    for (const el of root.querySelectorAll('[data-action]')) {\n        bindActions(el);\n    }\n    // Also bind the controller to itself\n    if (root instanceof Element && root.hasAttribute('data-action')) {\n        bindActions(root);\n    }\n}\n// Bind a single function to all events to avoid anonymous closure performance penalty.\nfunction handleEvent(event) {\n    const el = event.currentTarget;\n    for (const binding of bindings(el)) {\n        if (event.type === binding.type) {\n            const controller = el.closest(binding.tag);\n            if (controllers.has(controller) && typeof controller[binding.method] === 'function') {\n                controller[binding.method](event);\n            }\n            const root = el.getRootNode();\n            if (root instanceof ShadowRoot && controllers.has(root.host) && root.host.matches(binding.tag)) {\n                const shadowController = root.host;\n                if (typeof shadowController[binding.method] === 'function') {\n                    shadowController[binding.method](event);\n                }\n            }\n        }\n    }\n}\nfunction* bindings(el) {\n    for (const action of (el.getAttribute('data-action') || '').trim().split(/\\s+/)) {\n        const eventSep = action.lastIndexOf(':');\n        const methodSep = Math.max(0, action.lastIndexOf('#')) || action.length;\n        yield {\n            type: action.slice(0, eventSep),\n            tag: action.slice(eventSep + 1, methodSep),\n            method: action.slice(methodSep + 1) || 'handleEvent'\n        } || 'handleEvent';\n    }\n}\nfunction bindActions(el) {\n    for (const binding of bindings(el)) {\n        el.addEventListener(binding.type, handleEvent);\n    }\n}\n//# sourceMappingURL=bind.js.map","/**\n * findTarget will run `querySelectorAll` against the given controller, plus\n * its shadowRoot, returning any the first child that:\n *\n *  - Matches the selector of `[data-target~=\"tag.name\"]` where tag is the\n *  tagName of the given HTMLElement, and `name` is the given `name` argument.\n *\n *  - Closest ascendant of the element, that matches the tagname of the\n *  controller, is the specific instance of the controller itself - in other\n *  words it is not nested in other controllers of the same type.\n *\n */\nexport function findTarget(controller, name) {\n    const tag = controller.tagName.toLowerCase();\n    if (controller.shadowRoot) {\n        for (const el of controller.shadowRoot.querySelectorAll(`[data-target~=\"${tag}.${name}\"]`)) {\n            if (!el.closest(tag))\n                return el;\n        }\n    }\n    for (const el of controller.querySelectorAll(`[data-target~=\"${tag}.${name}\"]`)) {\n        if (el.closest(tag) === controller)\n            return el;\n    }\n}\nexport function findTargets(controller, name) {\n    const tag = controller.tagName.toLowerCase();\n    const targets = [];\n    if (controller.shadowRoot) {\n        for (const el of controller.shadowRoot.querySelectorAll(`[data-targets~=\"${tag}.${name}\"]`)) {\n            if (!el.closest(tag))\n                targets.push(el);\n        }\n    }\n    for (const el of controller.querySelectorAll(`[data-targets~=\"${tag}.${name}\"]`)) {\n        if (el.closest(tag) === controller)\n            targets.push(el);\n    }\n    return targets;\n}\n//# sourceMappingURL=findtarget.js.map","export const dasherize = (str) => String(typeof str === 'symbol' ? str.description : str)\n    .replace(/([A-Z]($|[a-z]))/g, '-$1')\n    .replace(/--/g, '-')\n    .replace(/^-|-$/, '')\n    .toLowerCase();\nexport const mustDasherize = (str, type = 'property') => {\n    const dashed = dasherize(str);\n    if (!dashed.includes('-')) {\n        throw new DOMException(`${type}: ${String(str)} is not a valid ${type} name`, 'SyntaxError');\n    }\n    return dashed;\n};\n//# sourceMappingURL=dasherize.js.map","import { mustDasherize } from './dasherize.js';\nimport { meta } from './core.js';\nconst attrKey = 'attr';\n/**\n * Attr is a decorator which tags a property as one to be initialized via\n * `initializeAttrs`.\n *\n * The signature is typed such that the property must be one of a String,\n * Number or Boolean. This matches the behavior of `initializeAttrs`.\n */\nexport function attr(proto, key) {\n    meta(proto, attrKey).add(key);\n}\n/**\n * initializeAttrs is called with a set of class property names (if omitted, it\n * will look for any properties tagged with the `@attr` decorator). With this\n * list it defines property descriptors for each property that map to `data-*`\n * attributes on the HTMLElement instance.\n *\n * It works around Native Class Property semantics - which are equivalent to\n * calling `Object.defineProperty` on the instance upon creation, but before\n * `constructor()` is called.\n *\n * If a class property is assigned to the class body, it will infer the type\n * (using `typeof`) and define an appropriate getter/setter combo that aligns\n * to that type. This means class properties assigned to Numbers can only ever\n * be Numbers, assigned to Booleans can only ever be Booleans, and assigned to\n * Strings can only ever be Strings.\n *\n * This is automatically called as part of `@controller`. If a class uses the\n * `@controller` decorator it should not call this manually.\n */\nconst initialized = new WeakSet();\nexport function initializeAttrs(instance, names) {\n    if (initialized.has(instance))\n        return;\n    initialized.add(instance);\n    const proto = Object.getPrototypeOf(instance);\n    const prefix = proto?.constructor?.attrPrefix ?? 'data-';\n    if (!names)\n        names = meta(proto, attrKey);\n    for (const key of names) {\n        const value = instance[key];\n        const name = mustDasherize(`${prefix}${key}`);\n        let descriptor = {\n            configurable: true,\n            get() {\n                return this.getAttribute(name) || '';\n            },\n            set(newValue) {\n                this.setAttribute(name, newValue || '');\n            }\n        };\n        if (typeof value === 'number') {\n            descriptor = {\n                configurable: true,\n                get() {\n                    return Number(this.getAttribute(name) || 0);\n                },\n                set(newValue) {\n                    this.setAttribute(name, newValue);\n                }\n            };\n        }\n        else if (typeof value === 'boolean') {\n            descriptor = {\n                configurable: true,\n                get() {\n                    return this.hasAttribute(name);\n                },\n                set(newValue) {\n                    this.toggleAttribute(name, newValue);\n                }\n            };\n        }\n        Object.defineProperty(instance, key, descriptor);\n        if (key in instance && !instance.hasAttribute(name)) {\n            descriptor.set.call(instance, value);\n        }\n    }\n}\nexport function defineObservedAttributes(classObject) {\n    let observed = classObject.observedAttributes || [];\n    const prefix = classObject.attrPrefix ?? 'data-';\n    const attrToAttributeName = (name) => mustDasherize(`${prefix}${name}`);\n    Object.defineProperty(classObject, 'observedAttributes', {\n        configurable: true,\n        get() {\n            return [...meta(classObject.prototype, attrKey)].map(attrToAttributeName).concat(observed);\n        },\n        set(attributes) {\n            observed = attributes;\n        }\n    });\n}\n//# sourceMappingURL=attr.js.map","import { register } from './register.js';\nimport { bind, bindShadow } from './bind.js';\nimport { autoShadowRoot } from './auto-shadow-root.js';\nimport { defineObservedAttributes, initializeAttrs } from './attr.js';\nconst symbol = Symbol.for('catalyst');\nexport class CatalystDelegate {\n    constructor(classObject) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const delegate = this;\n        const connectedCallback = classObject.prototype.connectedCallback;\n        classObject.prototype.connectedCallback = function () {\n            delegate.connectedCallback(this, connectedCallback);\n        };\n        const disconnectedCallback = classObject.prototype.disconnectedCallback;\n        classObject.prototype.disconnectedCallback = function () {\n            delegate.disconnectedCallback(this, disconnectedCallback);\n        };\n        const attributeChangedCallback = classObject.prototype.attributeChangedCallback;\n        classObject.prototype.attributeChangedCallback = function (name, oldValue, newValue) {\n            delegate.attributeChangedCallback(this, name, oldValue, newValue, attributeChangedCallback);\n        };\n        let observedAttributes = classObject.observedAttributes || [];\n        Object.defineProperty(classObject, 'observedAttributes', {\n            configurable: true,\n            get() {\n                return delegate.observedAttributes(this, observedAttributes);\n            },\n            set(attributes) {\n                observedAttributes = attributes;\n            }\n        });\n        defineObservedAttributes(classObject);\n        register(classObject);\n    }\n    observedAttributes(instance, observedAttributes) {\n        return observedAttributes;\n    }\n    connectedCallback(instance, connectedCallback) {\n        instance.toggleAttribute('data-catalyst', true);\n        customElements.upgrade(instance);\n        autoShadowRoot(instance);\n        initializeAttrs(instance);\n        bind(instance);\n        connectedCallback?.call(instance);\n        if (instance.shadowRoot)\n            bindShadow(instance.shadowRoot);\n    }\n    disconnectedCallback(element, disconnectedCallback) {\n        disconnectedCallback?.call(element);\n    }\n    attributeChangedCallback(instance, name, oldValue, newValue, attributeChangedCallback) {\n        initializeAttrs(instance);\n        if (name !== 'data-catalyst' && attributeChangedCallback) {\n            attributeChangedCallback.call(instance, name, oldValue, newValue);\n        }\n    }\n}\nexport function meta(proto, name) {\n    if (!Object.prototype.hasOwnProperty.call(proto, symbol)) {\n        const parent = proto[symbol];\n        const map = (proto[symbol] = new Map());\n        if (parent) {\n            for (const [key, value] of parent) {\n                map.set(key, new Set(value));\n            }\n        }\n    }\n    const map = proto[symbol];\n    if (!map.has(name))\n        map.set(name, new Set());\n    return map.get(name);\n}\n//# sourceMappingURL=core.js.map","import { dasherize } from './dasherize.js';\n/**\n * Register the controller as a custom element.\n *\n * The classname is converted to a approriate tag name.\n *\n * Example: HelloController => hello-controller\n */\nexport function register(classObject) {\n    const name = dasherize(classObject.name).replace(/-element$/, '');\n    try {\n        window.customElements.define(name, classObject);\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        window[classObject.name] = customElements.get(name);\n    }\n    catch (e) {\n        // The only reason for window.customElements.define to throw a `NotSupportedError`\n        // is if the element has already been defined.\n        if (!(e instanceof DOMException && e.name === 'NotSupportedError'))\n            throw e;\n    }\n    return classObject;\n}\n//# sourceMappingURL=register.js.map","export function autoShadowRoot(element) {\n    for (const template of element.querySelectorAll('template[data-shadowroot]')) {\n        if (template.parentElement === element) {\n            element\n                .attachShadow({\n                mode: template.getAttribute('data-shadowroot') === 'closed' ? 'closed' : 'open'\n            })\n                .append(template.content.cloneNode(true));\n        }\n    }\n}\n//# sourceMappingURL=auto-shadow-root.js.map","import { findTarget, findTargets } from './findtarget.js';\nimport { meta } from './core.js';\n/**\n * Target is a decorator which - when assigned to a property field on the\n * class - will override that class field, turning it into a Getter which\n * returns a call to `findTarget(this, key)` where `key` is the name of the\n * property field. In other words, `@target foo` becomes a getter for\n * `findTarget(this, 'foo')`.\n */\nexport function target(proto, key) {\n    meta(proto, 'target').add(key);\n    Object.defineProperty(proto, key, {\n        configurable: true,\n        get() {\n            return findTarget(this, key);\n        }\n    });\n}\n/**\n * Targets is a decorator which - when assigned to a property field on the\n * class - will override that class field, turning it into a Getter which\n * returns a call to `findTargets(this, key)` where `key` is the name of the\n * property field. In other words, `@targets foo` becomes a getter for\n * `findTargets(this, 'foo')`.\n */\nexport function targets(proto, key) {\n    meta(proto, 'targets').add(key);\n    Object.defineProperty(proto, key, {\n        configurable: true,\n        get() {\n            return findTargets(this, key);\n        }\n    });\n}\n//# sourceMappingURL=target.js.map","import { CatalystDelegate } from './core.js';\n/**\n * Controller is a decorator to be used over a class that extends HTMLElement.\n * It will automatically `register()` the component in the customElement\n * registry, as well as ensuring `bind(this)` is called on `connectedCallback`,\n * wrapping the classes `connectedCallback` method if needed.\n */\nexport function controller(classObject) {\n    new CatalystDelegate(classObject);\n}\n//# sourceMappingURL=controller.js.map","class DetailsMenuElement extends HTMLElement {\n    get preload() {\n        return this.hasAttribute('preload');\n    }\n    set preload(value) {\n        if (value) {\n            this.setAttribute('preload', '');\n        }\n        else {\n            this.removeAttribute('preload');\n        }\n    }\n    get src() {\n        return this.getAttribute('src') || '';\n    }\n    set src(value) {\n        this.setAttribute('src', value);\n    }\n    connectedCallback() {\n        if (!this.hasAttribute('role'))\n            this.setAttribute('role', 'menu');\n        const details = this.parentElement;\n        if (!details)\n            return;\n        const summary = details.querySelector('summary');\n        if (summary) {\n            summary.setAttribute('aria-haspopup', 'menu');\n            if (!summary.hasAttribute('role'))\n                summary.setAttribute('role', 'button');\n        }\n        const subscriptions = [\n            fromEvent(details, 'compositionstart', e => trackComposition(this, e)),\n            fromEvent(details, 'compositionend', e => trackComposition(this, e)),\n            fromEvent(details, 'click', e => shouldCommit(details, e)),\n            fromEvent(details, 'change', e => shouldCommit(details, e)),\n            fromEvent(details, 'keydown', e => keydown(details, this, e)),\n            fromEvent(details, 'toggle', () => loadFragment(details, this), { once: true }),\n            fromEvent(details, 'toggle', () => closeCurrentMenu(details)),\n            this.preload\n                ? fromEvent(details, 'mouseover', () => loadFragment(details, this), { once: true })\n                : NullSubscription,\n            ...focusOnOpen(details)\n        ];\n        states.set(this, { subscriptions, loaded: false, isComposing: false });\n    }\n    disconnectedCallback() {\n        const state = states.get(this);\n        if (!state)\n            return;\n        states.delete(this);\n        for (const sub of state.subscriptions) {\n            sub.unsubscribe();\n        }\n    }\n}\nconst states = new WeakMap();\nconst NullSubscription = {\n    unsubscribe() {\n    }\n};\nfunction fromEvent(target, eventName, onNext, options = false) {\n    target.addEventListener(eventName, onNext, options);\n    return {\n        unsubscribe: () => {\n            target.removeEventListener(eventName, onNext, options);\n        }\n    };\n}\nfunction loadFragment(details, menu) {\n    const src = menu.getAttribute('src');\n    if (!src)\n        return;\n    const state = states.get(menu);\n    if (!state)\n        return;\n    if (state.loaded)\n        return;\n    state.loaded = true;\n    const loader = menu.querySelector('include-fragment');\n    if (loader && !loader.hasAttribute('src')) {\n        loader.addEventListener('loadend', () => autofocus(details));\n        loader.setAttribute('src', src);\n    }\n}\nfunction focusOnOpen(details) {\n    let isMouse = false;\n    const onmousedown = () => (isMouse = true);\n    const onkeydown = () => (isMouse = false);\n    const ontoggle = () => {\n        if (!details.hasAttribute('open'))\n            return;\n        if (autofocus(details))\n            return;\n        if (!isMouse)\n            focusFirstItem(details);\n    };\n    return [\n        fromEvent(details, 'mousedown', onmousedown),\n        fromEvent(details, 'keydown', onkeydown),\n        fromEvent(details, 'toggle', ontoggle)\n    ];\n}\nfunction closeCurrentMenu(details) {\n    if (!details.hasAttribute('open'))\n        return;\n    for (const menu of document.querySelectorAll('details[open] > details-menu')) {\n        const opened = menu.closest('details');\n        if (opened && opened !== details && !opened.contains(details)) {\n            opened.removeAttribute('open');\n        }\n    }\n}\nfunction autofocus(details) {\n    if (!details.hasAttribute('open'))\n        return false;\n    const input = details.querySelector('details-menu [autofocus]');\n    if (input) {\n        input.focus();\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction focusFirstItem(details) {\n    const selected = document.activeElement;\n    if (selected && isMenuItem(selected) && details.contains(selected))\n        return;\n    const target = sibling(details, true);\n    if (target)\n        target.focus();\n}\nfunction sibling(details, next) {\n    const options = Array.from(details.querySelectorAll('[role^=\"menuitem\"]:not([hidden]):not([disabled])'));\n    const selected = document.activeElement;\n    const index = selected instanceof HTMLElement ? options.indexOf(selected) : -1;\n    const found = next ? options[index + 1] : options[index - 1];\n    const def = next ? options[0] : options[options.length - 1];\n    return found || def;\n}\nconst ctrlBindings = navigator.userAgent.match(/Macintosh/);\nfunction shouldCommit(details, event) {\n    const target = event.target;\n    if (!(target instanceof Element))\n        return;\n    if (target.closest('details') !== details)\n        return;\n    if (event.type === 'click') {\n        const menuitem = target.closest('[role=\"menuitem\"], [role=\"menuitemradio\"]');\n        if (!menuitem)\n            return;\n        const input = menuitem.querySelector('input');\n        if (menuitem.tagName === 'LABEL' && target === input)\n            return;\n        const onlyCommitOnChangeEvent = menuitem.tagName === 'LABEL' && input && !input.checked;\n        if (!onlyCommitOnChangeEvent) {\n            commit(menuitem, details);\n        }\n    }\n    else if (event.type === 'change') {\n        const menuitem = target.closest('[role=\"menuitemradio\"], [role=\"menuitemcheckbox\"]');\n        if (menuitem)\n            commit(menuitem, details);\n    }\n}\nfunction updateChecked(selected, details) {\n    for (const el of details.querySelectorAll('[role=\"menuitemradio\"], [role=\"menuitemcheckbox\"]')) {\n        const input = el.querySelector('input[type=\"radio\"], input[type=\"checkbox\"]');\n        let checkState = (el === selected).toString();\n        if (input instanceof HTMLInputElement) {\n            checkState = input.indeterminate ? 'mixed' : input.checked.toString();\n        }\n        el.setAttribute('aria-checked', checkState);\n    }\n}\nfunction commit(selected, details) {\n    if (selected.hasAttribute('disabled') || selected.getAttribute('aria-disabled') === 'true')\n        return;\n    const menu = selected.closest('details-menu');\n    if (!menu)\n        return;\n    const dispatched = menu.dispatchEvent(new CustomEvent('details-menu-select', {\n        cancelable: true,\n        detail: { relatedTarget: selected }\n    }));\n    if (!dispatched)\n        return;\n    updateLabel(selected, details);\n    updateChecked(selected, details);\n    if (selected.getAttribute('role') !== 'menuitemcheckbox')\n        close(details);\n    menu.dispatchEvent(new CustomEvent('details-menu-selected', {\n        detail: { relatedTarget: selected }\n    }));\n}\nfunction keydown(details, menu, event) {\n    if (!(event instanceof KeyboardEvent))\n        return;\n    if (details.querySelector('details[open]'))\n        return;\n    const state = states.get(menu);\n    if (!state || state.isComposing)\n        return;\n    const isSummaryFocused = event.target instanceof Element && event.target.tagName === 'SUMMARY';\n    switch (event.key) {\n        case 'Escape':\n            if (details.hasAttribute('open')) {\n                close(details);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            break;\n        case 'ArrowDown':\n            {\n                if (isSummaryFocused && !details.hasAttribute('open')) {\n                    details.setAttribute('open', '');\n                }\n                const target = sibling(details, true);\n                if (target)\n                    target.focus();\n                event.preventDefault();\n            }\n            break;\n        case 'ArrowUp':\n            {\n                if (isSummaryFocused && !details.hasAttribute('open')) {\n                    details.setAttribute('open', '');\n                }\n                const target = sibling(details, false);\n                if (target)\n                    target.focus();\n                event.preventDefault();\n            }\n            break;\n        case 'n':\n            {\n                if (ctrlBindings && event.ctrlKey) {\n                    const target = sibling(details, true);\n                    if (target)\n                        target.focus();\n                    event.preventDefault();\n                }\n            }\n            break;\n        case 'p':\n            {\n                if (ctrlBindings && event.ctrlKey) {\n                    const target = sibling(details, false);\n                    if (target)\n                        target.focus();\n                    event.preventDefault();\n                }\n            }\n            break;\n        case ' ':\n        case 'Enter':\n            {\n                const selected = document.activeElement;\n                if (selected instanceof HTMLElement && isMenuItem(selected) && selected.closest('details') === details) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    selected.click();\n                }\n            }\n            break;\n    }\n}\nfunction isMenuItem(el) {\n    const role = el.getAttribute('role');\n    return role === 'menuitem' || role === 'menuitemcheckbox' || role === 'menuitemradio';\n}\nfunction close(details) {\n    const wasOpen = details.hasAttribute('open');\n    if (!wasOpen)\n        return;\n    details.removeAttribute('open');\n    const summary = details.querySelector('summary');\n    if (summary)\n        summary.focus();\n}\nfunction updateLabel(item, details) {\n    const button = details.querySelector('[data-menu-button]');\n    if (!button)\n        return;\n    const text = labelText(item);\n    if (text) {\n        button.textContent = text;\n    }\n    else {\n        const html = labelHTML(item);\n        if (html)\n            button.innerHTML = html;\n    }\n}\nfunction labelText(el) {\n    if (!el)\n        return null;\n    const textEl = el.hasAttribute('data-menu-button-text') ? el : el.querySelector('[data-menu-button-text]');\n    if (!textEl)\n        return null;\n    return textEl.getAttribute('data-menu-button-text') || textEl.textContent;\n}\nfunction labelHTML(el) {\n    if (!el)\n        return null;\n    const contentsEl = el.hasAttribute('data-menu-button-contents') ? el : el.querySelector('[data-menu-button-contents]');\n    return contentsEl ? contentsEl.innerHTML : null;\n}\nfunction trackComposition(menu, event) {\n    const state = states.get(menu);\n    if (!state)\n        return;\n    state.isComposing = event.type === 'compositionstart';\n}\nexport default DetailsMenuElement;\nif (!window.customElements.get('details-menu')) {\n    window.DetailsMenuElement = DetailsMenuElement;\n    window.customElements.define('details-menu', DetailsMenuElement);\n}\n","function isEmojiSupported() {\n    const onWindows7 = /\\bWindows NT 6.1\\b/.test(navigator.userAgent);\n    const onWindows8 = /\\bWindows NT 6.2\\b/.test(navigator.userAgent);\n    const onWindows81 = /\\bWindows NT 6.3\\b/.test(navigator.userAgent);\n    const onFreeBSD = /\\bFreeBSD\\b/.test(navigator.userAgent);\n    const onLinux = /\\bLinux\\b/.test(navigator.userAgent) && !/\\bAndroid\\b/.test(navigator.userAgent);\n    return !(onWindows7 || onWindows8 || onWindows81 || onLinux || onFreeBSD);\n}\n\nconst supported = new Set([\n    '👋',\n    '🤚',\n    '🖐️',\n    '✋',\n    '🖖',\n    '👌',\n    '🤏',\n    '✌️',\n    '🤞',\n    '🤟',\n    '🤘',\n    '🤙',\n    '👈',\n    '👉',\n    '👆',\n    '🖕',\n    '👇',\n    '☝️',\n    '👍',\n    '👎',\n    '✊',\n    '👊',\n    '🤛',\n    '🤜',\n    '👏',\n    '🙌',\n    '👐',\n    '🤲',\n    '🙏',\n    '✍️',\n    '💅',\n    '🤳',\n    '💪',\n    '🦵',\n    '🦶',\n    '👂',\n    '🦻',\n    '👃',\n    '👶',\n    '🧒',\n    '👦',\n    '👧',\n    '🧑',\n    '👱',\n    '👨',\n    '🧔',\n    '👱‍♂️',\n    '👨‍🦰',\n    '👨‍🦱',\n    '👨‍🦳',\n    '👨‍🦲',\n    '👩',\n    '👱‍♀️',\n    '👩‍🦰',\n    '👩‍🦱',\n    '👩‍🦳',\n    '👩‍🦲',\n    '🧓',\n    '👴',\n    '👵',\n    '🙍',\n    '🙍‍♂️',\n    '🙍‍♀️',\n    '🙎',\n    '🙎‍♂️',\n    '🙎‍♀️',\n    '🙅',\n    '🙅‍♂️',\n    '🙅‍♀️',\n    '🙆',\n    '🙆‍♂️',\n    '🙆‍♀️',\n    '💁',\n    '💁‍♂️',\n    '💁‍♀️',\n    '🙋',\n    '🙋‍♂️',\n    '🙋‍♀️',\n    '🧏',\n    '🧏‍♂️',\n    '🧏‍♀️',\n    '🙇',\n    '🙇‍♂️',\n    '🙇‍♀️',\n    '🤦',\n    '🤦‍♂️',\n    '🤦‍♀️',\n    '🤷',\n    '🤷‍♂️',\n    '🤷‍♀️',\n    '👨‍⚕️',\n    '👩‍⚕️',\n    '👨‍🎓',\n    '👩‍🎓',\n    '👨‍🏫',\n    '👩‍🏫',\n    '👨‍⚖️',\n    '👩‍⚖️',\n    '👨‍🌾',\n    '👩‍🌾',\n    '👨‍🍳',\n    '👩‍🍳',\n    '👨‍🔧',\n    '👩‍🔧',\n    '👨‍🏭',\n    '👩‍🏭',\n    '👨‍💼',\n    '👩‍💼',\n    '👨‍🔬',\n    '👩‍🔬',\n    '👨‍💻',\n    '👩‍💻',\n    '👨‍🎤',\n    '👩‍🎤',\n    '👨‍🎨',\n    '👩‍🎨',\n    '👨‍✈️',\n    '👩‍✈️',\n    '👨‍🚀',\n    '👩‍🚀',\n    '👨‍🚒',\n    '👩‍🚒',\n    '👮',\n    '👮‍♂️',\n    '👮‍♀️',\n    '🕵️',\n    '🕵️‍♂️',\n    '🕵️‍♀️',\n    '💂',\n    '💂‍♂️',\n    '💂‍♀️',\n    '👷',\n    '👷‍♂️',\n    '👷‍♀️',\n    '🤴',\n    '👸',\n    '👳',\n    '👳‍♂️',\n    '👳‍♀️',\n    '👲',\n    '🧕',\n    '🤵',\n    '👰',\n    '🤰',\n    '🤱',\n    '👼',\n    '🎅',\n    '🤶',\n    '🦸',\n    '🦸‍♂️',\n    '🦸‍♀️',\n    '🦹',\n    '🦹‍♂️',\n    '🦹‍♀️',\n    '🧙',\n    '🧙‍♂️',\n    '🧙‍♀️',\n    '🧚',\n    '🧚‍♂️',\n    '🧚‍♀️',\n    '🧛',\n    '🧛‍♂️',\n    '🧛‍♀️',\n    '🧜',\n    '🧜‍♂️',\n    '🧜‍♀️',\n    '🧝',\n    '🧝‍♂️',\n    '🧝‍♀️',\n    '💆',\n    '💆‍♂️',\n    '💆‍♀️',\n    '💇',\n    '💇‍♂️',\n    '💇‍♀️',\n    '🚶',\n    '🚶‍♂️',\n    '🚶‍♀️',\n    '🧍',\n    '🧍‍♂️',\n    '🧍‍♀️',\n    '🧎',\n    '🧎‍♂️',\n    '🧎‍♀️',\n    '👨‍🦯',\n    '👩‍🦯',\n    '👨‍🦼',\n    '👩‍🦼',\n    '👨‍🦽',\n    '👩‍🦽',\n    '🏃',\n    '🏃‍♂️',\n    '🏃‍♀️',\n    '💃',\n    '🕺',\n    '🕴️',\n    '🧖',\n    '🧖‍♂️',\n    '🧖‍♀️',\n    '🧗',\n    '🧗‍♂️',\n    '🧗‍♀️',\n    '🏇',\n    '🏂',\n    '🏌️',\n    '🏌️‍♂️',\n    '🏌️‍♀️',\n    '🏄',\n    '🏄‍♂️',\n    '🏄‍♀️',\n    '🚣',\n    '🚣‍♂️',\n    '🚣‍♀️',\n    '🏊',\n    '🏊‍♂️',\n    '🏊‍♀️',\n    '⛹️',\n    '⛹️‍♂️',\n    '⛹️‍♀️',\n    '🏋️',\n    '🏋️‍♂️',\n    '🏋️‍♀️',\n    '🚴',\n    '🚴‍♂️',\n    '🚴‍♀️',\n    '🚵',\n    '🚵‍♂️',\n    '🚵‍♀️',\n    '🤸',\n    '🤸‍♂️',\n    '🤸‍♀️',\n    '🤽',\n    '🤽‍♂️',\n    '🤽‍♀️',\n    '🤾',\n    '🤾‍♂️',\n    '🤾‍♀️',\n    '🤹',\n    '🤹‍♂️',\n    '🤹‍♀️',\n    '🧘',\n    '🧘‍♂️',\n    '🧘‍♀️',\n    '🛀',\n    '🛌',\n    '🧑‍🤝‍🧑',\n    '👭',\n    '👫',\n    '👬'\n]);\nfunction isModifiable(emoji) {\n    return supported.has(emoji);\n}\n\nconst ZERO_WIDTH_JOINER = '\\u{200d}';\nconst VARIATION_16 = 0xfe0f;\nfunction applyTone(sequence, tone) {\n    const sequenceWithToneRemoved = removeTone(sequence);\n    if (!isModifiable(sequenceWithToneRemoved))\n        return sequence;\n    const modifier = toneModifier(tone);\n    if (!modifier)\n        return sequence;\n    return sequenceWithToneRemoved\n        .split(ZERO_WIDTH_JOINER)\n        .map(emoji => (isModifiable(emoji) ? tint(emoji, modifier) : emoji))\n        .join(ZERO_WIDTH_JOINER);\n}\nfunction applyTones(sequence, tones) {\n    const sequenceWithToneRemoved = removeTone(sequence);\n    if (!isModifiable(sequenceWithToneRemoved))\n        return sequence;\n    const modifiers = tones.map(t => toneModifier(t));\n    return sequenceWithToneRemoved\n        .split(ZERO_WIDTH_JOINER)\n        .map(emoji => {\n        if (!isModifiable(emoji))\n            return emoji;\n        const modifier = modifiers.shift();\n        return modifier ? tint(emoji, modifier) : emoji;\n    })\n        .join(ZERO_WIDTH_JOINER);\n}\nfunction removeTone(emoji) {\n    return [...emoji].filter(ch => !isTone(ch.codePointAt(0))).join('');\n}\nfunction tint(emoji, tone) {\n    const points = [...emoji].map(p => p.codePointAt(0));\n    if (points[1] && (isTone(points[1]) || points[1] === VARIATION_16)) {\n        points[1] = tone;\n    }\n    else {\n        points.splice(1, 0, tone);\n    }\n    return String.fromCodePoint(...points);\n}\nfunction isTone(point) {\n    return point >= 0x1f3fb && point <= 0x1f3ff;\n}\nfunction toneModifier(id) {\n    switch (id) {\n        case 1:\n            return 0x1f3fb;\n        case 2:\n            return 0x1f3fc;\n        case 3:\n            return 0x1f3fd;\n        case 4:\n            return 0x1f3fe;\n        case 5:\n            return 0x1f3ff;\n        default:\n            return null;\n    }\n}\n\nclass GEmojiElement extends HTMLElement {\n    get image() {\n        if (this.firstElementChild instanceof HTMLImageElement) {\n            return this.firstElementChild;\n        }\n        else {\n            return null;\n        }\n    }\n    get tone() {\n        return (this.getAttribute('tone') || '')\n            .split(' ')\n            .map(value => {\n            const tone = parseInt(value, 10);\n            return tone >= 0 && tone <= 5 ? tone : 0;\n        })\n            .join(' ');\n    }\n    set tone(modifiers) {\n        this.setAttribute('tone', modifiers);\n    }\n    connectedCallback() {\n        if (this.image === null && !isEmojiSupported()) {\n            const src = this.getAttribute('fallback-src');\n            if (src) {\n                this.textContent = '';\n                const image = emojiImage(this);\n                image.src = src;\n                this.appendChild(image);\n            }\n        }\n        if (this.hasAttribute('tone')) {\n            updateTone(this);\n        }\n    }\n    static get observedAttributes() {\n        return ['tone'];\n    }\n    attributeChangedCallback(name) {\n        switch (name) {\n            case 'tone':\n                updateTone(this);\n                break;\n        }\n    }\n}\nfunction updateTone(el) {\n    if (el.image)\n        return;\n    const tones = el.tone.split(' ').map(x => parseInt(x, 10));\n    if (tones.length === 0) {\n        el.textContent = removeTone(el.textContent || '');\n    }\n    else if (tones.length === 1) {\n        const tone = tones[0];\n        el.textContent = tone === 0 ? removeTone(el.textContent || '') : applyTone(el.textContent || '', tone);\n    }\n    else {\n        el.textContent = applyTones(el.textContent || '', tones);\n    }\n}\nfunction emojiImage(el) {\n    const image = document.createElement('img');\n    image.className = 'emoji';\n    image.alt = el.getAttribute('alias') || '';\n    image.height = 20;\n    image.width = 20;\n    return image;\n}\nif (!window.customElements.get('g-emoji')) {\n    window.GEmojiElement = GEmojiElement;\n    window.customElements.define('g-emoji', GEmojiElement);\n}\n\nexport default GEmojiElement;\n","import Combobox from '@github/combobox-nav';\n\nconst boundary = /\\s|\\(|\\[/;\nfunction query(text, key, cursor, { multiWord, lookBackIndex, lastMatchPosition } = {\n    multiWord: false,\n    lookBackIndex: 0,\n    lastMatchPosition: null\n}) {\n    let keyIndex = text.lastIndexOf(key, cursor - 1);\n    if (keyIndex === -1)\n        return;\n    if (keyIndex < lookBackIndex)\n        return;\n    if (multiWord) {\n        if (lastMatchPosition != null) {\n            if (lastMatchPosition === keyIndex)\n                return;\n            keyIndex = lastMatchPosition - key.length;\n        }\n        const charAfterKey = text[keyIndex + 1];\n        if (charAfterKey === ' ' && cursor >= keyIndex + key.length + 1)\n            return;\n        const newLineIndex = text.lastIndexOf('\\n', cursor - 1);\n        if (newLineIndex > keyIndex)\n            return;\n        const dotIndex = text.lastIndexOf('.', cursor - 1);\n        if (dotIndex > keyIndex)\n            return;\n    }\n    else {\n        const spaceIndex = text.lastIndexOf(' ', cursor - 1);\n        if (spaceIndex > keyIndex)\n            return;\n    }\n    const pre = text[keyIndex - 1];\n    if (pre && !boundary.test(pre))\n        return;\n    const queryString = text.substring(keyIndex + key.length, cursor);\n    return {\n        text: queryString,\n        position: keyIndex + key.length\n    };\n}\n\nconst properties = ['position:absolute;', 'overflow:auto;', 'word-wrap:break-word;', 'top:0px;', 'left:-9999px;'];\nconst propertyNamesToCopy = [\n    'box-sizing',\n    'font-family',\n    'font-size',\n    'font-style',\n    'font-variant',\n    'font-weight',\n    'height',\n    'letter-spacing',\n    'line-height',\n    'max-height',\n    'min-height',\n    'padding-bottom',\n    'padding-left',\n    'padding-right',\n    'padding-top',\n    'border-bottom',\n    'border-left',\n    'border-right',\n    'border-top',\n    'text-decoration',\n    'text-indent',\n    'text-transform',\n    'width',\n    'word-spacing'\n];\nconst mirrorMap = new WeakMap();\nfunction textFieldMirror(textField, markerPosition) {\n    const nodeName = textField.nodeName.toLowerCase();\n    if (nodeName !== 'textarea' && nodeName !== 'input') {\n        throw new Error('expected textField to a textarea or input');\n    }\n    let mirror = mirrorMap.get(textField);\n    if (mirror && mirror.parentElement === textField.parentElement) {\n        mirror.innerHTML = '';\n    }\n    else {\n        mirror = document.createElement('div');\n        mirrorMap.set(textField, mirror);\n        const style = window.getComputedStyle(textField);\n        const props = properties.slice(0);\n        if (nodeName === 'textarea') {\n            props.push('white-space:pre-wrap;');\n        }\n        else {\n            props.push('white-space:nowrap;');\n        }\n        for (let i = 0, len = propertyNamesToCopy.length; i < len; i++) {\n            const name = propertyNamesToCopy[i];\n            props.push(`${name}:${style.getPropertyValue(name)};`);\n        }\n        mirror.style.cssText = props.join(' ');\n    }\n    const marker = document.createElement('span');\n    marker.style.cssText = 'position: absolute;';\n    marker.innerHTML = '&nbsp;';\n    let before;\n    let after;\n    if (typeof markerPosition === 'number') {\n        let text = textField.value.substring(0, markerPosition);\n        if (text) {\n            before = document.createTextNode(text);\n        }\n        text = textField.value.substring(markerPosition);\n        if (text) {\n            after = document.createTextNode(text);\n        }\n    }\n    else {\n        const text = textField.value;\n        if (text) {\n            before = document.createTextNode(text);\n        }\n    }\n    if (before) {\n        mirror.appendChild(before);\n    }\n    mirror.appendChild(marker);\n    if (after) {\n        mirror.appendChild(after);\n    }\n    if (!mirror.parentElement) {\n        if (!textField.parentElement) {\n            throw new Error('textField must have a parentElement to mirror');\n        }\n        textField.parentElement.insertBefore(mirror, textField);\n    }\n    mirror.scrollTop = textField.scrollTop;\n    mirror.scrollLeft = textField.scrollLeft;\n    return { mirror, marker };\n}\n\nfunction textFieldSelectionPosition(field, index = field.selectionEnd) {\n    const { mirror, marker } = textFieldMirror(field, index);\n    const mirrorRect = mirror.getBoundingClientRect();\n    const markerRect = marker.getBoundingClientRect();\n    setTimeout(() => {\n        mirror.remove();\n    }, 5000);\n    return {\n        top: markerRect.top - mirrorRect.top,\n        left: markerRect.left - mirrorRect.left\n    };\n}\n\nconst states = new WeakMap();\nfunction isTopLayer(el) {\n    try {\n        if (el.matches(':popover-open'))\n            return true;\n    }\n    catch (_a) {\n    }\n    try {\n        if (el.matches('dialog:modal'))\n            return true;\n    }\n    catch (_b) {\n    }\n    try {\n        if (el.matches(':fullscreen'))\n            return true;\n    }\n    catch (_c) {\n    }\n    return false;\n}\nclass TextExpander {\n    constructor(expander, input) {\n        this.expander = expander;\n        this.input = input;\n        this.combobox = null;\n        this.menu = null;\n        this.match = null;\n        this.justPasted = false;\n        this.lookBackIndex = 0;\n        this.oninput = this.onInput.bind(this);\n        this.onpaste = this.onPaste.bind(this);\n        this.onkeydown = this.onKeydown.bind(this);\n        this.oncommit = this.onCommit.bind(this);\n        this.onmousedown = this.onMousedown.bind(this);\n        this.onblur = this.onBlur.bind(this);\n        this.interactingWithList = false;\n        input.addEventListener('paste', this.onpaste);\n        input.addEventListener('input', this.oninput);\n        input.addEventListener('keydown', this.onkeydown);\n        input.addEventListener('blur', this.onblur);\n    }\n    destroy() {\n        this.input.removeEventListener('paste', this.onpaste);\n        this.input.removeEventListener('input', this.oninput);\n        this.input.removeEventListener('keydown', this.onkeydown);\n        this.input.removeEventListener('blur', this.onblur);\n    }\n    dismissMenu() {\n        if (this.deactivate()) {\n            this.lookBackIndex = this.input.selectionEnd || this.lookBackIndex;\n        }\n    }\n    activate(match, menu) {\n        var _a, _b;\n        if (this.input !== document.activeElement && this.input !== ((_b = (_a = document.activeElement) === null || _a === void 0 ? void 0 : _a.shadowRoot) === null || _b === void 0 ? void 0 : _b.activeElement)) {\n            return;\n        }\n        this.deactivate();\n        this.menu = menu;\n        if (!menu.id)\n            menu.id = `text-expander-${Math.floor(Math.random() * 100000).toString()}`;\n        this.expander.append(menu);\n        this.combobox = new Combobox(this.input, menu);\n        this.expander.dispatchEvent(new Event('text-expander-activate'));\n        let { top, left } = textFieldSelectionPosition(this.input, match.position);\n        if (isTopLayer(menu)) {\n            const rect = this.input.getBoundingClientRect();\n            top += rect.top;\n            left += rect.left;\n            if (getComputedStyle(menu).position === 'absolute') {\n                top += window.scrollY;\n                left += window.scrollX;\n            }\n        }\n        menu.style.top = `${top}px`;\n        menu.style.left = `${left}px`;\n        this.combobox.start();\n        menu.addEventListener('combobox-commit', this.oncommit);\n        menu.addEventListener('mousedown', this.onmousedown);\n        this.combobox.navigate(1);\n    }\n    deactivate() {\n        const menu = this.menu;\n        if (!menu || !this.combobox)\n            return false;\n        this.expander.dispatchEvent(new Event('text-expander-deactivate'));\n        this.menu = null;\n        menu.removeEventListener('combobox-commit', this.oncommit);\n        menu.removeEventListener('mousedown', this.onmousedown);\n        this.combobox.destroy();\n        this.combobox = null;\n        menu.remove();\n        return true;\n    }\n    onCommit({ target }) {\n        var _a;\n        const item = target;\n        if (!(item instanceof HTMLElement))\n            return;\n        if (!this.combobox)\n            return;\n        const match = this.match;\n        if (!match)\n            return;\n        const beginning = this.input.value.substring(0, match.position - match.key.length);\n        const remaining = this.input.value.substring(match.position + match.text.length);\n        const detail = { item, key: match.key, value: null, continue: false };\n        const canceled = !this.expander.dispatchEvent(new CustomEvent('text-expander-value', { cancelable: true, detail }));\n        if (canceled)\n            return;\n        if (!detail.value)\n            return;\n        let suffix = (_a = this.expander.getAttribute('suffix')) !== null && _a !== void 0 ? _a : ' ';\n        if (detail.continue) {\n            suffix = '';\n        }\n        const value = `${detail.value}${suffix}`;\n        this.input.value = beginning + value + remaining;\n        const cursor = beginning.length + value.length;\n        this.deactivate();\n        this.input.focus({\n            preventScroll: true\n        });\n        this.input.selectionStart = cursor;\n        this.input.selectionEnd = cursor;\n        if (!detail.continue) {\n            this.lookBackIndex = cursor;\n            this.match = null;\n        }\n        this.expander.dispatchEvent(new CustomEvent('text-expander-committed', { cancelable: false, detail: { input: this.input } }));\n    }\n    onBlur() {\n        if (this.interactingWithList) {\n            this.interactingWithList = false;\n            return;\n        }\n        this.deactivate();\n    }\n    onPaste() {\n        this.justPasted = true;\n    }\n    async onInput() {\n        if (this.justPasted) {\n            this.justPasted = false;\n            return;\n        }\n        const match = this.findMatch();\n        if (match) {\n            this.match = match;\n            const menu = await this.notifyProviders(match);\n            if (!this.match)\n                return;\n            if (menu) {\n                this.activate(match, menu);\n            }\n            else {\n                this.deactivate();\n            }\n        }\n        else {\n            this.match = null;\n            this.deactivate();\n        }\n    }\n    findMatch() {\n        const cursor = this.input.selectionEnd || 0;\n        const text = this.input.value;\n        if (cursor <= this.lookBackIndex) {\n            this.lookBackIndex = cursor - 1;\n        }\n        for (const { key, multiWord } of this.expander.keys) {\n            const found = query(text, key, cursor, {\n                multiWord,\n                lookBackIndex: this.lookBackIndex,\n                lastMatchPosition: this.match ? this.match.position : null\n            });\n            if (found) {\n                return { text: found.text, key, position: found.position };\n            }\n        }\n    }\n    async notifyProviders(match) {\n        const providers = [];\n        const provide = (result) => providers.push(result);\n        const canceled = !this.expander.dispatchEvent(new CustomEvent('text-expander-change', { cancelable: true, detail: { provide, text: match.text, key: match.key } }));\n        if (canceled)\n            return;\n        const all = await Promise.all(providers);\n        const fragments = all.filter(x => x.matched).map(x => x.fragment);\n        return fragments[0];\n    }\n    onMousedown() {\n        this.interactingWithList = true;\n    }\n    onKeydown(event) {\n        if (event.key === 'Escape') {\n            this.match = null;\n            if (this.deactivate()) {\n                this.lookBackIndex = this.input.selectionEnd || this.lookBackIndex;\n                event.stopImmediatePropagation();\n                event.preventDefault();\n            }\n        }\n    }\n}\nclass TextExpanderElement extends HTMLElement {\n    get keys() {\n        const keysAttr = this.getAttribute('keys');\n        const keys = keysAttr ? keysAttr.split(' ') : [];\n        const multiWordAttr = this.getAttribute('multiword');\n        const multiWord = multiWordAttr ? multiWordAttr.split(' ') : [];\n        const globalMultiWord = multiWord.length === 0 && this.hasAttribute('multiword');\n        return keys.map(key => ({ key, multiWord: globalMultiWord || multiWord.includes(key) }));\n    }\n    connectedCallback() {\n        const input = this.querySelector('input[type=\"text\"], textarea');\n        if (!(input instanceof HTMLInputElement || input instanceof HTMLTextAreaElement))\n            return;\n        const state = new TextExpander(this, input);\n        states.set(this, state);\n    }\n    disconnectedCallback() {\n        const state = states.get(this);\n        if (!state)\n            return;\n        state.destroy();\n        states.delete(this);\n    }\n    dismiss() {\n        const state = states.get(this);\n        if (!state)\n            return;\n        state.dismissMenu();\n    }\n}\n\nif (!window.customElements.get('text-expander')) {\n    window.TextExpanderElement = TextExpanderElement;\n    window.customElements.define('text-expander', TextExpanderElement);\n}\n\nexport default TextExpanderElement;\n","const loaded = (function () {\n    if (document.readyState === 'complete') {\n        return Promise.resolve();\n    }\n    else {\n        return new Promise(resolve => {\n            window.addEventListener('load', resolve);\n        });\n    }\n})();\nclass TypingEffectElement extends HTMLElement {\n    async connectedCallback() {\n        await loaded;\n        if (this.content)\n            await typeLines(this.lines, this.content, this.characterDelay, this.lineDelay);\n        if (this.cursor)\n            this.cursor.hidden = true;\n        this.dispatchEvent(new CustomEvent('typing:complete', {\n            bubbles: true,\n            cancelable: true\n        }));\n    }\n    get content() {\n        return this.querySelector('[data-target=\"typing-effect.content\"]');\n    }\n    get cursor() {\n        return this.querySelector('[data-target=\"typing-effect.cursor\"]');\n    }\n    get lines() {\n        const linesAttr = this.getAttribute('data-lines');\n        try {\n            return linesAttr ? JSON.parse(linesAttr) : [];\n        }\n        catch (_a) {\n            return [];\n        }\n    }\n    get prefersReducedMotion() {\n        return window.matchMedia('(prefers-reduced-motion)').matches;\n    }\n    get characterDelay() {\n        if (this.prefersReducedMotion) {\n            return 0;\n        }\n        return Math.max(0, Math.min(Math.floor(Number(this.getAttribute('data-character-delay'))), 2147483647)) || 40;\n    }\n    set characterDelay(value) {\n        if (value > 2147483647 || value < 0) {\n            throw new DOMException('Value is negative or greater than the allowed amount');\n        }\n        this.setAttribute('data-character-delay', String(value));\n    }\n    get lineDelay() {\n        if (this.prefersReducedMotion) {\n            return 0;\n        }\n        return Math.max(0, Math.min(Math.floor(Number(this.getAttribute('data-line-delay'))), 2147483647)) || 40;\n    }\n    set lineDelay(value) {\n        if (value > 2147483647 || value < 0) {\n            throw new DOMException('Value is negative or greater than the allowed amount');\n        }\n        this.setAttribute('data-line-delay', String(value));\n    }\n}\nexport default TypingEffectElement;\nif (!window.customElements.get('typing-effect')) {\n    window.TypingEffectElement = TypingEffectElement;\n    window.customElements.define('typing-effect', TypingEffectElement);\n}\nasync function typeLines(lines, contentElement, characterDelay, lineDelay) {\n    for (let lineIndex = 0; lineIndex < lines.length; lineIndex++) {\n        if (characterDelay === 0) {\n            contentElement.append(lines[lineIndex]);\n        }\n        else {\n            for (const character of lines[lineIndex].split('')) {\n                await wait(characterDelay);\n                contentElement.innerHTML += character;\n            }\n        }\n        if (lineDelay !== 0)\n            await wait(lineDelay);\n        if (lineIndex < lines.length - 1)\n            contentElement.append(document.createElement('br'));\n    }\n}\nasync function wait(ms) {\n    return new Promise(resolve => {\n        setTimeout(resolve, ms);\n    });\n}\n"],"names":["Attachment","constructor","file","directory","state","id","href","name","percent","traverse","transfer","items","Array","from","some","entry","item","webkitGetAsEntry","isDirectory","map","filter","Promise","resolve","visible","files","f","result","File","push","fullPath","isImage","indexOf","type","isVideo","saving","saved","attributes","_a","_b","_c","isPending","isSaving","isSaved","startsWith","path","entries","results","getEntries","reject","reader","createReader","read","readEntries","length","getFile","FileAttachmentElement","HTMLElement","connectedCallback","addEventListener","onDragenter","onDragleave","onDrop","onPaste","onChange","disconnectedCallback","removeEventListener","hasAttribute","value","setAttribute","removeAttribute","attach","transferred","attachments","DataTransfer","accepted","dispatchEvent","CustomEvent","bubbles","cancelable","detail","hasFile","types","dragging","event","target","currentTarget","clearTimeout","window","setTimeout","dataTransfer","dropEffect","preventDefault","stopPropagation","container","images","clipboardData","pastedFile","kind","test","getAsFile","input","HTMLInputElement","getAttribute","customElements","get","define","alternateOrders","alternateAlignments","start","end","center","getAnchoredPosition","floatingElement","anchorElement","settings","parentElement","getPositionedParent","element","isOnTopLayer","tagName","matches","document","body","showPopover","toString","parentNode","getComputedStyle","position","clippingRect","getClippingRect","Element","parentNodeStyle","overflow","clippingNode","elemRect","getBoundingClientRect","elemStyle","borderTop","borderLeft","borderRight","borderBottom","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","v","parseInt","top","left","width","height","Math","max","innerHeight","Infinity","parentElementStyle","parentElementRect","relativeRect","pureCalculateAnchoredPosition","viewportRect","relativePosition","floatingRect","anchorRect","side","align","allowOutOfBounds","anchorOffset","alignmentOffset","relativeViewportRect","pos","calculatePosition","anchorSide","anchorAlign","currentPos","alternateOrder","positionAttempt","prevSide","containerDimensions","elementDimensions","nextSide","alternateAlignment","alignmentAttempt","prevAlign","nextAlign","Object","assign","getDefaultSettings","_d","_e","positionDefaults","anchorPosition","anchorRight","anchorBottom","_ActionBarElement_instances","_ActionBarElement_initialBarWidth","_ActionBarElement_previousBarWidth","_ActionBarElement_focusZoneAbortController","_ActionBarElement_isVisible","_ActionBarElement_itemGap","_ActionBarElement_availableSpace","_ActionBarElement_menuSpace","_ActionBarElement_shrink","_ActionBarElement_grow","_ActionBarElement_showItem","_ActionBarElement_hideItem","_ActionBarElement_menuItems_get","_AnchoredPositionElement_anchorElement","_AnchoredPositionElement_animationFrame","_FocusGroupElement_instances","_FocusGroupElement_retainSignal","_FocusGroupElement_abortController","_FocusGroupElement_items_get","_NavListElement_instances","_NavListElement_findSelectedNavItemById","_NavListElement_findSelectedNavItemByHref","_NavListElement_findSelectedNavItemByCurrentLocation","_NavListElement_select","_NavListElement_deselect","_NavListElement_findParentMenu","_NavListGroupElement_instances","_NavListGroupElement_parseHTML","_SegmentedControlElement_instances","_SegmentedControlElement_updateButtonLabels","_ToolTipElement_instances","_ToolTipElement_abortController","_ToolTipElement_align","_ToolTipElement_side","_ToolTipElement_allowUpdatePosition","_ToolTipElement_showReason","_ToolTipElement_update","_ToolTipElement_updateControlReference","_ToolTipElement_updateDirection","_ToolTipElement_updatePosition","_XBannerElement_instances","_XBannerElement_dismissScheme_get","_PrimerTextFieldElement_abortController","_ActionMenuElement_instances","_ActionMenuElement_abortController","_ActionMenuElement_originalLabel","_ActionMenuElement_inputName","_ActionMenuElement_invokerBeingClicked","_ActionMenuElement_softDisableItems","_ActionMenuElement_potentiallyDisallowActivation","_ActionMenuElement_isKeyboardActivation","_ActionMenuElement_isKeyboardActivationViaEnter","_ActionMenuElement_isKeyboardActivationViaSpace","_ActionMenuElement_isMouseActivation","_ActionMenuElement_isActivation","_ActionMenuElement_handleInvokerActivated","_ActionMenuElement_handleDialogItemActivated","_ActionMenuElement_handleItemActivated","_ActionMenuElement_activateItem","_ActionMenuElement_handleIncludeFragmentReplaced","_ActionMenuElement_handleFocusOut","_ActionMenuElement_show","_ActionMenuElement_hide","_ActionMenuElement_isOpen","_ActionMenuElement_setDynamicLabel","_ActionMenuElement_updateInput","_ActionMenuElement_firstItem_get","__decorate","decorators","key","desc","d","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__classPrivateFieldSet","receiver","has","call","set","__classPrivateFieldGet","instersectionObserver","IntersectionObserver","action","isIntersecting","ActionBarElement","update","resizeObserver","ResizeObserver","contentRect","add","offsetWidth","itemContainer","marginLeft","marginRight","observe","style","unobserve","menuItemClick","getElementById","click","rect","justifyContent","abort","bindKeys","ArrowHorizontal","HomeAndEnd","focusOutBehavior","focusableElementFilter","WeakMap","WeakSet","checkVisibility","Boolean","offsetParent","offsetHeight","columnGap","moreMenu","hidden","index","reverse","Number","querySelectorAll","prototype","updateWhenVisible","anchors","Set","intersectionObserver","updateVisibleAnchors","anchor","delete","el","ownerDocument","documentElement","AnchoredPositionElement","alias","idRef","toggleAttribute","attributeChangedCallback","isConnected","cancelAnimationFrame","requestAnimationFrame","classList","toggle","bottom","right","observedAttributes","menuItemSelector","validSelectors","selector","join","getMnemonicFor","textContent","trim","toLowerCase","printable","FocusGroupElement","nowrap","direction","retain","mnemonics","AbortController","signal","handleEvent","popover","closest","toggleEvent","newState","invoker","querySelector","KeyboardEvent","mnemonic","offset","findIndex","focusEl","at","min","includes","focus","startPositions","dragStartPositions","constructedElements","moveCropArea","ImageCropElement","box","image","deltaX","deltaY","MouseEvent","pageX","dragStartX","pageY","dragStartY","TouchEvent","changedTouches","x","offsetLeft","y","offsetTop","fireChangeEvent","updateCropArea","delta","getShadowHost","setInitialPosition","startX","startY","pageXOffset","pageYOffset","updateDimensions","rootNode","getRootNode","ShadowRoot","host","startUpdate","passive","reposition","newSide","abs","round","clientWidth","clientHeight","stopUpdate","remove","ratio","naturalWidth","slottedInput","shadowRoot","attachShadow","mode","innerHTML","HTMLImageElement","loaded","src","val","attribute","oldValue","newValue","NavListElement","selectItemById","itemId","selectedItem","selectItemByHref","selectItemByCurrentLocation","expandItem","nextElementSibling","collapseItem","itemIsExpanded","handleItemWithSubItemClick","e","button","handleItemWithSubItemKeydown","button_id","navItem","contains","keys","split","selectedNavItem","location","pathname","currentlySelectedItem","children","parentMenu","parent","NavListGroupElement","setShowMoreItemState","showMoreDisabled","showMoreItem","currentPage","totalPages","paginationSrc","showMore","html","paginationURL","URL","origin","searchParams","append","response","fetch","ok","text","err","fragment","listId","list","focusMarkers","pop","template","createElement","importNode","content","SegmentedControlElement","select","label","ToggleSwitchElement","toggling","link","csrf","csrfElement","csrfField","isRemote","isDisabled","performToggle","setLoadingState","submitForm","error","Error","setErrorState","message","setSuccessState","turnOn","switch","turnOff","isOn","isOff","disable","enable","errorIcon","loadingSpinner","setFinishedState","FormData","credentials","method","headers","isPopoverOpen","setSelector","TOOLTIP_SR_ONLY_CLASS","DIRECTION_CLASSES","closeOpenTooltips","except","tooltip","openTooltips","hidePopover","focusOutListener","focusInListener","showReason","control","tooltips","ToolTipElement","styles","htmlFor","hiddenFromView","shadow","appendChild","popoverTargetElement","capture","showing","shouldShow","isMouseLeaveFromButton","relatedTarget","isEscapeKeydown","isMouseDownOnButton","isOpeningOtherPopover","stopImmediatePropagation","isOpen","labelledBy","describedBy","setProperty","XBannerElement","dismiss","removeChild","hide","show","copyNode","node","navigator","clipboard","writeText","selection","getSelection","removeAllRanges","range","createRange","selectNodeContents","addRange","execCommand","copyText","createNode","copy","trigger","root","Document","HTMLTextAreaElement","HTMLAnchorElement","clicked","keydown","focused","blurred","tag","registry","globalThis","ClipboardCopyElement","DOMException","ReferenceError","showSVG","svg","display","hideSVG","clipboardCopyElementTimers","currentTimeout","showCheck","copyIcon","checkIcon","showCopy","PrimerMultiInputElement","activateField","fieldWithName","findField","field","fields","PrimerTextFieldElement","inputElement","setSuccess","clearError","errorMessage","setError","clearContents","validationElement","validationMessageElement","replaceChildren","setValidationMessage","toggleValidationStyling","isError","validationSuccessIcon","validationErrorIcon","ToggleSwitchInputElement","menuItemSelectors","ActionMenuElement","selectVariant","variant","dynamicLabelPrefix","prefix","dynamicLabel","popoverElement","invokerElement","invokerLabel","selectedItems","labelEl","includeFragment","targetIsInvoker","eventIsActivation","activeElement","targetIsItem","dialogInvoker","dialog","submit","getItemById","isItemDisabled","disableItem","enableItem","isItemHidden","hideItem","showItem","isItemChecked","checkItem","itemContent","ariaChecked","uncheckItem","bind","ctrlKey","altKey","metaKey","shiftKey","dialog_controller","handleDialogClose","checked","checkedItem","eventWillActivateByDefault","elem","itemLabel","prefixSpan","contentSpan","inputList","inputs","newInput","autocomplete","states","AutoCheckElement","checker","debounce","callback","wait","middle","once","throttle","timer","last","cancelled","fn","args","Date","now","apply","cancel","check","controller","spellcheck","setCustomValidity","required","autoCheckElement","setValidity","fetchWithNetworkEvents","url","options","clone","elementLoader","controllers","observers","listenForBind","closed","observer","MutationObserver","mutations","mutation","bindActions","addedNodes","bindElements","childList","subtree","attributeFilter","subscription","unsubscribe","disconnect","binding","bindings","shadowController","eventSep","lastIndexOf","methodSep","slice","findTarget","dasherize","String","str","description","replace","mustDasherize","dashed","attrKey","attr","proto","meta","initialized","initializeAttrs","instance","names","getPrototypeOf","attrPrefix","descriptor","configurable","symbol","Symbol","for","CatalystDelegate","classObject","delegate","defineObservedAttributes","observed","attrToAttributeName","concat","register","upgrade","autoShadowRoot","cloneNode","hasOwnProperty","Map","targets","findTargets","dynamicElements","ready","readyState","firstInteraction","listenerOptions","handler","strategies","rootMargin","threshold","timers","scan","child","strategyName","strategy","cb","then","lazyDefine","size","DetailsMenuElement","preload","isMouse","details","summary","subscriptions","fromEvent","trackComposition","shouldCommit","menu","isComposing","isSummaryFocused","close","sibling","ctrlBindings","selected","isMenuItem","loadFragment","closeCurrentMenu","opened","NullSubscription","autofocus","focusFirstItem","sub","eventName","onNext","loader","next","found","def","userAgent","match","menuitem","onlyCommitOnChangeEvent","commit","dispatched","updateLabel","labelText","textEl","labelHTML","contentsEl","updateChecked","checkState","indeterminate","role","wasOpen","supported","isModifiable","emoji","removeTone","ch","isTone","codePointAt","tint","tone","points","p","splice","fromCodePoint","point","toneModifier","GEmojiElement","firstElementChild","modifiers","isEmojiSupported","onWindows7","onWindows8","onWindows81","onFreeBSD","onLinux","emojiImage","className","alt","updateTone","tones","applyTone","sequence","sequenceWithToneRemoved","modifier","applyTones","t","shift","boundary","properties","propertyNamesToCopy","mirrorMap","TextExpander","expander","combobox","justPasted","lookBackIndex","oninput","onInput","onpaste","onkeydown","onKeydown","oncommit","onCommit","onmousedown","onMousedown","onblur","onBlur","interactingWithList","destroy","dismissMenu","deactivate","selectionEnd","activate","floor","random","Event","textFieldSelectionPosition","mirror","marker","textFieldMirror","textField","markerPosition","before","after","nodeName","props","len","getPropertyValue","cssText","substring","createTextNode","insertBefore","scrollTop","scrollLeft","mirrorRect","markerRect","isTopLayer","scrollY","scrollX","navigate","beginning","remaining","continue","canceled","suffix","cursor","preventScroll","selectionStart","findMatch","notifyProviders","multiWord","query","lastMatchPosition","keyIndex","charAfterKey","newLineIndex","dotIndex","spaceIndex","pre","queryString","providers","provide","all","fragments","matched","TextExpanderElement","keysAttr","multiWordAttr","globalMultiWord","TypingEffectElement","typeLines","lines","characterDelay","lineDelay","linesAttr","JSON","parse","prefersReducedMotion","matchMedia","contentElement","lineIndex","character","ms"],"sourceRoot":""}